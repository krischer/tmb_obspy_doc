<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>future.utils &#8212; ObsPy Documentation (1.0.2.post0+594.g239216b04a)</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/font.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/base.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.2.post0+594.g239216b04a',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="ObsPy Documentation (1.0.2.post0+594.g239216b04a)" href="../../contents.html" />
    <link rel="up" title="Module code" href="../index.html" />
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript">
  var shiftWindow = function() { scrollBy(0, -70) };
  if (location.hash) shiftWindow();
  window.addEventListener("hashchange", shiftWindow);
</script>

  </head>
  <body role="document">
<div id="wrapper">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">
<button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a href="/" class="navbar-brand" title="Home"><span class="icon-obspy"></span>&nbsp;ObsPy</a>
</div>
<div class="navbar-collapse collapse">
<form class="navbar-form navbar-right" role="search" method="get" action="http://docs.obspy.org/search.html">
<div class="form-group">
<input type="text" class="form-control" placeholder="Search Docs" name="q">
</div>
</form>
<ul class="nav navbar-nav navbar-right">
<li><a href="https://github.com/obspy/obspy/" title="GitHub"><span class="icon-github iconx2"></span><span class="hidden-sm">&nbsp;GitHub</span></a></li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Documentation"><span class="glyphicon glyphicon-book iconx2"></span><span class="hidden-sm">&nbsp;Documentation</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Getting&nbsp;Started</li>
<li><a href="https://github.com/obspy/obspy/wiki#installation">Installation</a></li>
<li><a href="https://tutorial.obspy.org/">Tutorial</a></li>
<li><a href="http://gallery.obspy.org/">Gallery</a></li>
<li><a href="https://docs.obspy.org/">API&nbsp;Documentation&nbsp;(latest&nbsp;release)</a></li>
<li><a href="https://docs.obspy.org/master/">API&nbsp;Documentation&nbsp;(current&nbsp;master)</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Mailing&nbsp;Lists"><span class="glyphicon glyphicon-envelope iconx2"></span><span class="hidden-sm">&nbsp;Mailing&nbsp;Lists</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Announcements&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-announcements"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-announcements/"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archive</a></li>
<li class="divider"></li>
<li class="dropdown-header">Users&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-users"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-users"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archives</a></li>
<li><a href="mailto:users@obspy.org"><span class="glyphicon glyphicon-envelope"></span>&nbsp;Post&nbsp;a&nbsp;message</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Developer&nbsp;Resources"><span class="glyphicon glyphicon-cog iconx2"></span><span class="hidden-sm">&nbsp;Developer&nbsp;Resources</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="https://gitter.im/obspy/obspy">Gitter</a></li>
<li><a href="https://github.com/obspy/obspy/blob/master/.github/CONTRIBUTING.md">How&nbsp;to&nbsp;contribute</a></li>
<li><a href="http://docs.obspy.org/coding_style.html">Coding&nbsp;Style&nbsp;Guide</a></li>
<li><a href="https://github.com/obspy/obspy/releases/">All&nbsp;Releases</a></li>
<li class="divider"></li>
<li class="dropdown-header">Code&nbsp;Analysis</li>
<li><a href="http://docs.obspy.org/master/pep8/index.html">PEP8</a></li>
<li><a href="http://docs.obspy.org/master/coverage/index.html">Python&nbsp;Coverage</a></li>
<li><a href="http://docs.obspy.org/master/c_coverage/index.html">C&nbsp;Coverage</a></li>
<li><a href="https://coveralls.io/r/obspy/obspy?branch=master">Coveralls</a></li>
<li class="divider"></li>
<li class="dropdown-header">Continuous&nbsp;Integration</li>
<li><a href="http://tests.obspy.org/">Test&nbsp;Reports</a></li>
<li><a href="https://travis-ci.org/obspy/obspy/"><span class="icon-travis"></span>&nbsp;Travis&nbsp;CI</a></li>
<li><a href="https://ci.appveyor.com/project/obspy/obspy"><span class="icon-appveyor"></span>&nbsp;AppVeyor</a></li>
</ul>
</li>
</ul>
</div>
</div>
</nav>

<div id="content" class="container">
  
    <div class="breadcrumb pull-right"><a href="../../genindex.html" title="General Index"
         accesskey="I">index</a><span style="color: #ccc; padding: 0 5px;">| </span><a href="../../py-modindex.html" title="Python Module Index"
         >modules</a>
    </div>
    <ol class="breadcrumb">
        <li><a href="../../contents.html">ObsPy Documentation (1.0.2.post0+594.g239216b04a)</a></li>
        <li><a href="../index.html" accesskey="U">Module code</a></li> 
    </ol>
  
  <h1>Source code for future.utils</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">A selection of cross-compatible functions for Python 2 and 3.</span>

<span class="sd">This module exports useful functions for 2/3 compatible code:</span>

<span class="sd">    * bind_method: binds functions to classes</span>
<span class="sd">    * ``native_str_to_bytes`` and ``bytes_to_native_str``</span>
<span class="sd">    * ``native_str``: always equal to the native platform string object (because</span>
<span class="sd">      this may be shadowed by imports from future.builtins)</span>
<span class="sd">    * lists: lrange(), lmap(), lzip(), lfilter()</span>
<span class="sd">    * iterable method compatibility:</span>
<span class="sd">        - iteritems, iterkeys, itervalues</span>
<span class="sd">        - viewitems, viewkeys, viewvalues</span>

<span class="sd">        These use the original method if available, otherwise they use items,</span>
<span class="sd">        keys, values.</span>

<span class="sd">    * types:</span>

<span class="sd">        * text_type: unicode in Python 2, str in Python 3</span>
<span class="sd">        * binary_type: str in Python 2, bythes in Python 3</span>
<span class="sd">        * string_types: basestring in Python 2, str in Python 3</span>

<span class="sd">    * bchr(c):</span>
<span class="sd">        Take an integer and make a 1-character byte string</span>
<span class="sd">    * bord(c)</span>
<span class="sd">        Take the result of indexing on a byte string and make an integer</span>
<span class="sd">    * tobytes(s)</span>
<span class="sd">        Take a text string, a byte string, or a sequence of characters taken</span>
<span class="sd">        from a byte string, and make a byte string.</span>
<span class="sd">    </span>
<span class="sd">    * raise_from()</span>
<span class="sd">    * raise_with_traceback()</span>

<span class="sd">This module also defines these decorators:</span>

<span class="sd">    * ``python_2_unicode_compatible``</span>
<span class="sd">    * ``with_metaclass``</span>
<span class="sd">    * ``implements_iterator``</span>

<span class="sd">Some of the functions in this module come from the following sources:</span>

<span class="sd">    * Jinja2 (BSD licensed: see</span>
<span class="sd">      https://github.com/mitsuhiko/jinja2/blob/master/LICENSE)</span>
<span class="sd">    * Pandas compatibility module pandas.compat</span>
<span class="sd">    * six.py by Benjamin Peterson</span>
<span class="sd">    * Django</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">types</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">numbers</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">inspect</span>


<span class="n">PY3</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span>
<span class="n">PY2</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span>
<span class="n">PY26</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">PY27</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">PYPY</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s1">&#39;pypy_translation_info&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">python_2_unicode_compatible</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A decorator that defines __unicode__ and __str__ methods under Python</span>
<span class="sd">    2. Under Python 3, this decorator is a no-op.</span>
<span class="sd">    </span>
<span class="sd">    To support Python 2 and 3 with a single code base, define a __str__</span>
<span class="sd">    method returning unicode text and apply this decorator to the class, like</span>
<span class="sd">    this::</span>

<span class="sd">    &gt;&gt;&gt; from future.utils import python_2_unicode_compatible</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; @python_2_unicode_compatible</span>
<span class="sd">    ... class MyClass(object):</span>
<span class="sd">    ...     def __str__(self):</span>
<span class="sd">    ...         return u&#39;Unicode string: \u5b54\u5b50&#39;</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; a = MyClass()</span>

<span class="sd">    Then, after this import:</span>

<span class="sd">    &gt;&gt;&gt; from future.builtins import str</span>
<span class="sd">    </span>
<span class="sd">    the following is ``True`` on both Python 3 and 2::</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; str(a) == a.encode(&#39;utf-8&#39;).decode(&#39;utf-8&#39;)</span>
<span class="sd">    True</span>

<span class="sd">    and, on a Unicode-enabled terminal with the right fonts, these both print the</span>
<span class="sd">    Chinese characters for Confucius::</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; print(a)</span>
<span class="sd">    &gt;&gt;&gt; print(str(a))</span>

<span class="sd">    The implementation comes from django.utils.encoding.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">PY3</span><span class="p">:</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">__unicode__</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">__str__</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">__str__</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">__unicode__</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cls</span>


<span class="k">def</span> <span class="nf">with_metaclass</span><span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="o">*</span><span class="n">bases</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function from jinja2/_compat.py. License: BSD.</span>

<span class="sd">    Use it like this::</span>
<span class="sd">        </span>
<span class="sd">        class BaseForm(object):</span>
<span class="sd">            pass</span>
<span class="sd">        </span>
<span class="sd">        class FormType(type):</span>
<span class="sd">            pass</span>
<span class="sd">        </span>
<span class="sd">        class Form(with_metaclass(FormType, BaseForm)):</span>
<span class="sd">            pass</span>

<span class="sd">    This requires a bit of explanation: the basic idea is to make a</span>
<span class="sd">    dummy metaclass for one level of class instantiation that replaces</span>
<span class="sd">    itself with the actual metaclass.  Because of internal type checks</span>
<span class="sd">    we also need to make sure that we downgrade the custom metaclass</span>
<span class="sd">    for one level to something closer to type (that&#39;s why __call__ and</span>
<span class="sd">    __init__ comes back from type etc.).</span>
<span class="sd">    </span>
<span class="sd">    This has the advantage over six.with_metaclass of not introducing</span>
<span class="sd">    dummy classes into the final MRO.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">class</span> <span class="nc">metaclass</span><span class="p">(</span><span class="n">meta</span><span class="p">):</span>
        <span class="n">__call__</span> <span class="o">=</span> <span class="nb">type</span><span class="o">.</span><span class="n">__call__</span>
        <span class="n">__init__</span> <span class="o">=</span> <span class="nb">type</span><span class="o">.</span><span class="n">__init__</span>
        <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">this_bases</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">this_bases</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">type</span><span class="o">.</span><span class="n">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="p">(),</span> <span class="n">d</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">meta</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">metaclass</span><span class="p">(</span><span class="s1">&#39;temporary_class&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">{})</span>


<span class="c1"># Definitions from pandas.compat and six.py follow:</span>
<span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">bchr</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">bytes</span><span class="p">([</span><span class="n">s</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">bstr</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s1">&#39;latin-1&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">bord</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="n">string_types</span> <span class="o">=</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">integer_types</span> <span class="o">=</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">class_types</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span>
    <span class="n">text_type</span> <span class="o">=</span> <span class="nb">str</span>
    <span class="n">binary_type</span> <span class="o">=</span> <span class="nb">bytes</span>

<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Python 2</span>
    <span class="k">def</span> <span class="nf">bchr</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">chr</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">bstr</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">bord</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

    <span class="n">string_types</span> <span class="o">=</span> <span class="n">basestring</span><span class="p">,</span>
    <span class="n">integer_types</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">)</span>
    <span class="n">class_types</span> <span class="o">=</span> <span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ClassType</span><span class="p">)</span>
    <span class="n">text_type</span> <span class="o">=</span> <span class="n">unicode</span>
    <span class="n">binary_type</span> <span class="o">=</span> <span class="nb">str</span>

<span class="c1">###</span>

<span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">tobytes</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">s</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;latin-1&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Python 2</span>
    <span class="k">def</span> <span class="nf">tobytes</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">unicode</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;latin-1&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="n">tobytes</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Encodes to latin-1 (where the first 256 chars are the same as</span>
<span class="s2">    ASCII.)</span>
<span class="s2">    &quot;&quot;&quot;</span>

<span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">native_str_to_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bytes_to_native_str</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">text_to_native_str</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">t</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Python 2</span>
    <span class="k">def</span> <span class="nf">native_str_to_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">future.types</span> <span class="k">import</span> <span class="n">newbytes</span>    <span class="c1"># to avoid a circular import</span>
        <span class="k">return</span> <span class="n">newbytes</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bytes_to_native_str</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">native</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">text_to_native_str</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ascii&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Use this to create a Py2 native string when &quot;from __future__ import</span>
<span class="sd">        unicode_literals&quot; is in effect.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">unicode</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

<span class="n">native_str_to_bytes</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    On Py3, returns an encoded string.</span>
<span class="s2">    On Py2, returns a newbytes type, ignoring the ``encoding`` argument.</span>
<span class="s2">    &quot;&quot;&quot;</span>

<span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
    <span class="c1"># list-producing versions of the major Python iterating functions</span>
    <span class="k">def</span> <span class="nf">lrange</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">lzip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">lmap</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">lfilter</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">__builtin__</span>
    <span class="c1"># Python 2-builtin ranges produce lists</span>
    <span class="n">lrange</span> <span class="o">=</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">range</span>
    <span class="n">lzip</span> <span class="o">=</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">zip</span>
    <span class="n">lmap</span> <span class="o">=</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">map</span>
    <span class="n">lfilter</span> <span class="o">=</span> <span class="n">__builtin__</span><span class="o">.</span><span class="n">filter</span>


<span class="k">def</span> <span class="nf">isidentifier</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">dotted</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A function equivalent to the str.isidentifier method on Py3</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">dotted</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">isidentifier</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">isidentifier</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">re</span>
        <span class="n">_name_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">r&quot;[a-zA-Z_][a-zA-Z0-9_]*$&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">_name_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">viewitems</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function for iterating over dictionary items with the same set-like</span>
<span class="sd">    behaviour on Py2.7 as on Py3.</span>

<span class="sd">    Passes kwargs to method.&quot;&quot;&quot;</span>
    <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;viewitems&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">func</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">items</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">viewkeys</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function for iterating over dictionary keys with the same set-like</span>
<span class="sd">    behaviour on Py2.7 as on Py3.</span>

<span class="sd">    Passes kwargs to method.&quot;&quot;&quot;</span>
    <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;viewkeys&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">func</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">keys</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">viewvalues</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function for iterating over dictionary values with the same set-like</span>
<span class="sd">    behaviour on Py2.7 as on Py3.</span>

<span class="sd">    Passes kwargs to method.&quot;&quot;&quot;</span>
    <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;viewvalues&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">func</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">values</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">iteritems</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Use this only if compatibility with Python versions before 2.7 is</span>
<span class="sd">    required. Otherwise, prefer viewitems().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;iteritems&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">func</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">items</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">iterkeys</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Use this only if compatibility with Python versions before 2.7 is</span>
<span class="sd">    required. Otherwise, prefer viewkeys().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;iterkeys&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">func</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">keys</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">itervalues</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Use this only if compatibility with Python versions before 2.7 is</span>
<span class="sd">    required. Otherwise, prefer viewvalues().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;itervalues&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">func</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">values</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">bind_method</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Bind a method to class, python 2 and python 3 compatible.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    cls : type</span>
<span class="sd">        class to receive bound method</span>
<span class="sd">    name : basestring</span>
<span class="sd">        name of method on class instance</span>
<span class="sd">    func : function</span>
<span class="sd">        function to be bound as method</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># only python 2 has an issue with bound/unbound methods</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">PY3</span><span class="p">:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">MethodType</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">cls</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">getexception</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">_get_caller_globals_and_locals</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the globals and locals of the calling frame.</span>

<span class="sd">    Is there an alternative to frame hacking here?</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">caller_frame</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">stack</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">myglobals</span> <span class="o">=</span> <span class="n">caller_frame</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">f_globals</span>
    <span class="n">mylocals</span> <span class="o">=</span> <span class="n">caller_frame</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">f_locals</span>
    <span class="k">return</span> <span class="n">myglobals</span><span class="p">,</span> <span class="n">mylocals</span>


<span class="k">def</span> <span class="nf">_repr_strip</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string without any initial or final quotes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span>


<span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">raise_from</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">cause</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Equivalent to:</span>

<span class="sd">            raise EXCEPTION from CAUSE</span>

<span class="sd">        on Python 3. (See PEP 3134).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Is either arg an exception class (e.g. IndexError) rather than</span>
        <span class="c1"># instance (e.g. IndexError(&#39;my message here&#39;)? If so, pass the</span>
        <span class="c1"># name of the class undisturbed through to &quot;raise ... from ...&quot;.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span>
            <span class="n">exc</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">__name__</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cause</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">cause</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span>
            <span class="n">cause</span> <span class="o">=</span> <span class="n">cause</span><span class="o">.</span><span class="n">__name__</span>
        <span class="n">execstr</span> <span class="o">=</span> <span class="s2">&quot;raise &quot;</span> <span class="o">+</span> <span class="n">_repr_strip</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; from &quot;</span> <span class="o">+</span> <span class="n">_repr_strip</span><span class="p">(</span><span class="n">cause</span><span class="p">)</span>
        <span class="n">myglobals</span><span class="p">,</span> <span class="n">mylocals</span> <span class="o">=</span> <span class="n">_get_caller_globals_and_locals</span><span class="p">()</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">execstr</span><span class="p">,</span> <span class="n">myglobals</span><span class="p">,</span> <span class="n">mylocals</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">raise_</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tb</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A function that matches the Python 2.x ``raise`` statement. This</span>
<span class="sd">        allows re-raising exceptions with the cls value and traceback on</span>
<span class="sd">        Python 2 and 3.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;instance exception may not have a separate value&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">exc</span> <span class="o">=</span> <span class="n">tp</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">exc</span> <span class="o">=</span> <span class="n">tp</span>
        <span class="k">if</span> <span class="n">exc</span><span class="o">.</span><span class="n">__traceback__</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">tb</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exc</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">tb</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">exc</span>

    <span class="k">def</span> <span class="nf">raise_with_traceback</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">traceback</span><span class="o">=</span><span class="bp">Ellipsis</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">traceback</span> <span class="o">==</span> <span class="bp">Ellipsis</span><span class="p">:</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">exc</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">traceback</span><span class="p">)</span>

<span class="k">else</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">raise_from</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">cause</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Equivalent to:</span>

<span class="sd">            raise EXCEPTION from CAUSE</span>

<span class="sd">        on Python 3. (See PEP 3134).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Is either arg an exception class (e.g. IndexError) rather than</span>
        <span class="c1"># instance (e.g. IndexError(&#39;my message here&#39;)? If so, pass the</span>
        <span class="c1"># name of the class undisturbed through to &quot;raise ... from ...&quot;.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">exc</span><span class="p">()</span>
            <span class="c1"># exc = exc.__name__</span>
            <span class="c1"># execstr = &quot;e = &quot; + _repr_strip(exc) + &quot;()&quot;</span>
            <span class="c1"># myglobals, mylocals = _get_caller_globals_and_locals()</span>
            <span class="c1"># exec(execstr, myglobals, mylocals)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">exc</span>
        <span class="n">e</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cause</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">cause</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span>
            <span class="n">e</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">cause</span><span class="p">()</span>
            <span class="n">e</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">cause</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">e</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">e</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cause</span><span class="p">,</span> <span class="ne">BaseException</span><span class="p">):</span>
            <span class="n">e</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">cause</span>
            <span class="n">e</span><span class="o">.</span><span class="n">__suppress_context__</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;exception causes must derive from BaseException&quot;</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">__context__</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">raise</span> <span class="n">e</span>

    <span class="n">exec</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">def raise_(tp, value=None, tb=None):</span>
<span class="s1">    raise tp, value, tb</span>

<span class="s1">def raise_with_traceback(exc, traceback=Ellipsis):</span>
<span class="s1">    if traceback == Ellipsis:</span>
<span class="s1">        _, _, traceback = sys.exc_info()</span>
<span class="s1">    raise exc, None, traceback</span>
<span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>


<span class="n">raise_with_traceback</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="p">(</span>
<span class="sd">&quot;&quot;&quot;Raise exception with existing traceback.</span>
<span class="sd">If traceback is not passed, uses sys.exc_info() to get traceback.&quot;&quot;&quot;</span>
<span class="p">)</span>


<span class="c1"># Deprecated alias for backward compatibility with ``future`` versions &lt; 0.11:</span>
<span class="n">reraise</span> <span class="o">=</span> <span class="n">raise_</span>


<span class="k">def</span> <span class="nf">implements_iterator</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    From jinja2/_compat.py. License: BSD.</span>

<span class="sd">    Use as a decorator like this::</span>
<span class="sd">        </span>
<span class="sd">        @implements_iterator</span>
<span class="sd">        class UppercasingIterator(object):</span>
<span class="sd">            def __init__(self, iterable):</span>
<span class="sd">                self._iter = iter(iterable)</span>
<span class="sd">            def __iter__(self):</span>
<span class="sd">                return self</span>
<span class="sd">            def __next__(self):</span>
<span class="sd">                return next(self._iter).upper()</span>
<span class="sd">    </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cls</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">__next__</span>
        <span class="k">del</span> <span class="n">cls</span><span class="o">.</span><span class="n">__next__</span>
        <span class="k">return</span> <span class="n">cls</span>

<span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
    <span class="n">get_next</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">next</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">get_next</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">__next__</span>


<span class="k">def</span> <span class="nf">encode_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">filename</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">unicode</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">filename</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">filename</span>


<span class="k">def</span> <span class="nf">is_new_style</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Python 2.7 has both new-style and old-style classes. Old-style classes can</span>
<span class="sd">    be pesky in some circumstances, such as when using inheritance.  Use this</span>
<span class="sd">    function to test for whether a class is new-style. (Python 3 only has</span>
<span class="sd">    new-style classes.)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="s1">&#39;__class__&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;__dict__&#39;</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">cls</span><span class="p">)</span> 
                                          <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="s1">&#39;__slots__&#39;</span><span class="p">))</span>

<span class="c1"># The native platform string and bytes types. Useful because ``str`` and</span>
<span class="c1"># ``bytes`` are redefined on Py2 by ``from future.builtins import *``.</span>
<span class="n">native_str</span> <span class="o">=</span> <span class="nb">str</span>
<span class="n">native_bytes</span> <span class="o">=</span> <span class="nb">bytes</span>


<span class="k">def</span> <span class="nf">istext</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deprecated. Use::</span>
<span class="sd">        &gt;&gt;&gt; isinstance(obj, str)</span>
<span class="sd">    after this import:</span>
<span class="sd">        &gt;&gt;&gt; from future.builtins import str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="s1">u&#39;&#39;</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">isbytes</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deprecated. Use::</span>
<span class="sd">        &gt;&gt;&gt; isinstance(obj, bytes)</span>
<span class="sd">    after this import:</span>
<span class="sd">        &gt;&gt;&gt; from future.builtins import bytes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="s1">&#39;&#39;</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">isnewbytes</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Equivalent to the result of ``isinstance(obj, newbytes)`` were</span>
<span class="sd">    ``__instancecheck__`` not overridden on the newbytes subclass. In</span>
<span class="sd">    other words, it is REALLY a newbytes instance, not a Py2 native str</span>
<span class="sd">    object?</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO: generalize this so that it works with subclasses of newbytes</span>
    <span class="c1"># Import is here to avoid circular imports:</span>
    <span class="kn">from</span> <span class="nn">future.types.newbytes</span> <span class="k">import</span> <span class="n">newbytes</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="o">==</span> <span class="n">newbytes</span>


<span class="k">def</span> <span class="nf">isint</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deprecated. Tests whether an object is a Py3 ``int`` or either a Py2 ``int`` or</span>
<span class="sd">    ``long``.</span>

<span class="sd">    Instead of using this function, you can use:</span>

<span class="sd">        &gt;&gt;&gt; from future.builtins import int</span>
<span class="sd">        &gt;&gt;&gt; isinstance(obj, int)</span>

<span class="sd">    The following idiom is equivalent:</span>

<span class="sd">        &gt;&gt;&gt; from numbers import Integral</span>
<span class="sd">        &gt;&gt;&gt; isinstance(obj, Integral)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">native</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    On Py3, this is a no-op: native(obj) -&gt; obj</span>

<span class="sd">    On Py2, returns the corresponding native Py2 types that are</span>
<span class="sd">    superclasses for backported objects from Py3:</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; from builtins import str, bytes, int</span>

<span class="sd">    &gt;&gt;&gt; native(str(u&#39;ABC&#39;))</span>
<span class="sd">    u&#39;ABC&#39;</span>
<span class="sd">    &gt;&gt;&gt; type(native(str(u&#39;ABC&#39;)))</span>
<span class="sd">    unicode</span>

<span class="sd">    &gt;&gt;&gt; native(bytes(b&#39;ABC&#39;))</span>
<span class="sd">    b&#39;ABC&#39;</span>
<span class="sd">    &gt;&gt;&gt; type(native(bytes(b&#39;ABC&#39;)))</span>
<span class="sd">    bytes</span>

<span class="sd">    &gt;&gt;&gt; native(int(10**20))</span>
<span class="sd">    100000000000000000000L</span>
<span class="sd">    &gt;&gt;&gt; type(native(int(10**20)))</span>
<span class="sd">    long</span>

<span class="sd">    Existing native types on Py2 will be returned unchanged:</span>

<span class="sd">    &gt;&gt;&gt; type(native(u&#39;ABC&#39;))</span>
<span class="sd">    unicode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s1">&#39;__native__&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">__native__</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">obj</span>


<span class="c1"># Implementation of exec_ is from ``six``:</span>
<span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">builtins</span>
    <span class="n">exec_</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">builtins</span><span class="p">,</span> <span class="s2">&quot;exec&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">exec_</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">globs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">locs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Execute code in a namespace.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">globs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">frame</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">globs</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_globals</span>
            <span class="k">if</span> <span class="n">locs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_locals</span>
            <span class="k">del</span> <span class="n">frame</span>
        <span class="k">elif</span> <span class="n">locs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">locs</span> <span class="o">=</span> <span class="n">globs</span>
        <span class="n">exec</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;exec code in globs, locs&quot;&quot;&quot;</span><span class="p">)</span>


<span class="c1"># Defined here for backward compatibility:</span>
<span class="k">def</span> <span class="nf">old_div</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    DEPRECATED: import ``old_div`` from ``past.utils`` instead.</span>

<span class="sd">    Equivalent to ``a / b`` on Python 2 without ``from __future__ import</span>
<span class="sd">    division``.</span>

<span class="sd">    TODO: generalize this to other objects (like arrays etc.)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">//</span> <span class="n">b</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>


<span class="k">def</span> <span class="nf">as_native_str</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A decorator to turn a function or method call that returns text, i.e.</span>
<span class="sd">    unicode, into one that returns a native platform str.</span>

<span class="sd">    Use it as a decorator like this::</span>
<span class="sd">        </span>
<span class="sd">        from __future__ import unicode_literals</span>

<span class="sd">        class MyClass(object):</span>
<span class="sd">            @as_native_str(encoding=&#39;ascii&#39;)</span>
<span class="sd">            def __repr__(self):</span>
<span class="sd">                return next(self._iter).upper()</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="n">f</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">encoder</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
            <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">wrapper</span>
        <span class="k">return</span> <span class="n">encoder</span>

<span class="c1"># listvalues and listitems definitions from Nick Coghlan&#39;s (withdrawn)</span>
<span class="c1"># PEP 496:</span>
<span class="k">try</span><span class="p">:</span>
    <span class="nb">dict</span><span class="o">.</span><span class="n">iteritems</span>
<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
    <span class="c1"># Python 3</span>
    <span class="k">def</span> <span class="nf">listvalues</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="k">def</span> <span class="nf">listitems</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Python 2</span>
    <span class="k">def</span> <span class="nf">listvalues</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">listitems</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>

<span class="k">if</span> <span class="n">PY3</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">ensure_new_type</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">obj</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">ensure_new_type</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">future.types.newbytes</span> <span class="k">import</span> <span class="n">newbytes</span>
        <span class="kn">from</span> <span class="nn">future.types.newstr</span> <span class="k">import</span> <span class="n">newstr</span>
        <span class="kn">from</span> <span class="nn">future.types.newint</span> <span class="k">import</span> <span class="n">newint</span>
        <span class="kn">from</span> <span class="nn">future.types.newdict</span> <span class="k">import</span> <span class="n">newdict</span>

        <span class="n">native_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">native</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>

        <span class="c1"># Upcast only if the type is already a native (non-future) type</span>
        <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">native_type</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)):</span>
            <span class="c1"># Upcast</span>
            <span class="k">if</span> <span class="n">native_type</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>  <span class="c1"># i.e. Py2 8-bit str</span>
                <span class="k">return</span> <span class="n">newbytes</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">native_type</span> <span class="o">==</span> <span class="n">unicode</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">newstr</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">native_type</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">newint</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">native_type</span> <span class="o">==</span> <span class="n">long</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">newint</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">native_type</span> <span class="o">==</span> <span class="nb">dict</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">newdict</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;type </span><span class="si">%s</span><span class="s1"> not supported&#39;</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Already a new type</span>
            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="n">newbytes</span><span class="p">,</span> <span class="n">newstr</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">obj</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PY2&#39;</span><span class="p">,</span> <span class="s1">&#39;PY26&#39;</span><span class="p">,</span> <span class="s1">&#39;PY3&#39;</span><span class="p">,</span> <span class="s1">&#39;PYPY&#39;</span><span class="p">,</span>
           <span class="s1">&#39;as_native_str&#39;</span><span class="p">,</span> <span class="s1">&#39;bind_method&#39;</span><span class="p">,</span> <span class="s1">&#39;bord&#39;</span><span class="p">,</span> <span class="s1">&#39;bstr&#39;</span><span class="p">,</span>
           <span class="s1">&#39;bytes_to_native_str&#39;</span><span class="p">,</span> <span class="s1">&#39;encode_filename&#39;</span><span class="p">,</span> <span class="s1">&#39;ensure_new_type&#39;</span><span class="p">,</span>
           <span class="s1">&#39;exec_&#39;</span><span class="p">,</span> <span class="s1">&#39;get_next&#39;</span><span class="p">,</span> <span class="s1">&#39;getexception&#39;</span><span class="p">,</span> <span class="s1">&#39;implements_iterator&#39;</span><span class="p">,</span>
           <span class="s1">&#39;is_new_style&#39;</span><span class="p">,</span> <span class="s1">&#39;isbytes&#39;</span><span class="p">,</span> <span class="s1">&#39;isidentifier&#39;</span><span class="p">,</span> <span class="s1">&#39;isint&#39;</span><span class="p">,</span>
           <span class="s1">&#39;isnewbytes&#39;</span><span class="p">,</span> <span class="s1">&#39;istext&#39;</span><span class="p">,</span> <span class="s1">&#39;iteritems&#39;</span><span class="p">,</span> <span class="s1">&#39;iterkeys&#39;</span><span class="p">,</span> <span class="s1">&#39;itervalues&#39;</span><span class="p">,</span>
           <span class="s1">&#39;lfilter&#39;</span><span class="p">,</span> <span class="s1">&#39;listitems&#39;</span><span class="p">,</span> <span class="s1">&#39;listvalues&#39;</span><span class="p">,</span> <span class="s1">&#39;lmap&#39;</span><span class="p">,</span> <span class="s1">&#39;lrange&#39;</span><span class="p">,</span>
           <span class="s1">&#39;lzip&#39;</span><span class="p">,</span> <span class="s1">&#39;native&#39;</span><span class="p">,</span> <span class="s1">&#39;native_bytes&#39;</span><span class="p">,</span> <span class="s1">&#39;native_str&#39;</span><span class="p">,</span>
           <span class="s1">&#39;native_str_to_bytes&#39;</span><span class="p">,</span> <span class="s1">&#39;old_div&#39;</span><span class="p">,</span>
           <span class="s1">&#39;python_2_unicode_compatible&#39;</span><span class="p">,</span> <span class="s1">&#39;raise_&#39;</span><span class="p">,</span>
           <span class="s1">&#39;raise_with_traceback&#39;</span><span class="p">,</span> <span class="s1">&#39;reraise&#39;</span><span class="p">,</span> <span class="s1">&#39;text_to_native_str&#39;</span><span class="p">,</span>
           <span class="s1">&#39;tobytes&#39;</span><span class="p">,</span> <span class="s1">&#39;viewitems&#39;</span><span class="p">,</span> <span class="s1">&#39;viewkeys&#39;</span><span class="p">,</span> <span class="s1">&#39;viewvalues&#39;</span><span class="p">,</span>
           <span class="s1">&#39;with_metaclass&#39;</span>
          <span class="p">]</span>

</pre></div>

</div>

<footer>
<p class="text-muted small">
By the <a href="https://github.com/orgs/obspy/people">ObsPy
Development Team</a> and many <a href="#contributers" role="button"
data-toggle="modal" data-target="#contributers">Awesome Contributors</a>™ &nbsp;|&nbsp; Built with
<a href="http://getbootstrap.com/">Bootstrap</a> and
<a href="http://glyphicons.com//">Glyphicons</a> &nbsp;|&nbsp; Copyright 2008-2016
</p>
</footer>
<div id="contributers" class="modal fade" tabindex="-1"
role="dialog" aria-labelledby="contributersLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal"
aria-hidden="true">&times;</button>
<h3 class="modal-title" id="contributersLabel">Thank you!</h3>
</div>
<div class="modal-body">
<p>We would like to thank our contributors, whose efforts make
this software what it is. These people have helped by writing code
and documentation, and by testing. They have created and
maintained this product, its associated libraries and
applications, our build tools and our web sites.</p>
<h4>Contributors</h4>
<div class="container-fluid">
<div class="row">
<div class="col-md-6">
<ul>
<li>Ammon, Charles J.</li>
<li>Arnarsson, Ólafur St.</li>
<li>Barsch, Robert</li>
<li>Bernardi, Fabrizio</li>
<li>Beyreuther, Moritz</li>
<li>Carothers, Lloyd</li>
<li>Egdorf, Sven</li>
<li>Ermert, Laura</li>
<li>Fabbri, Tommaso</li>
<li>Grunberg, Marc</li>
<li>Heimann, Sebastian</li>
<li>Hope, Gaute</li>
<li>Inza, Adolfo</li>
<li>Ketchum, David</li>
<li>Kremers, Simon</li>
<li>Krieger, Lars</li>
<li>Käufl, Paul</li>
<li>Lecocq, Thomas</li>
<li>Lesage, Philippe</li>
<li>Lopes, Rui L.</li>
<li>Maggi, Alessia</li>
<li>Megies, Tobias</li>
<li>Michelini, Alberto</li>
<li>Morgenstern, Bernhard</li>
<li>Panning, Mark P.</li>
<li>Reyes, Celso</li>
<li>Rothenhäusler, Nicolas</li>
<li>Sales de Andrade, Elliott</li>
<li>Saul, Joachim</li>
<li>Sippl, Christian</li>
<li>Stange, Stefan</li>
<li>Trabant, Chad</li>
<li>Walker, Andrew</li>
<li>Wassermann, Joachim</li>
<li>Winkelman, Andrew</li>
<li>van Driel, Martin</li>
</ul>
</div>
<div class="col-md-6">
<ul>
<li>Antunes, Emanuel</li>
<li>Bank, Markus</li>
<li>Behr, Yannik</li>
<li>Bernauer, Felix</li>
<li>Bonaimé, Sébastien</li>
<li>Danecek, Peter</li>
<li>Engels, Fabian</li>
<li>Eulenfeld, Tom</li>
<li>Grellier, Clément</li>
<li>Hammer, Conny</li>
<li>Heiniger, Lukas</li>
<li>Igel, Heiner</li>
<li>Isken, Marius</li>
<li>Koymans, Mathijs</li>
<li>Kress, Victor</li>
<li>Krischer, Lion</li>
<li>Köhler, Andreas</li>
<li>Leeman, John</li>
<li>Lomax, Anthony</li>
<li>MacCarthy, Jonathan</li>
<li>Martin, Henri</li>
<li>Meschede, Matthias</li>
<li>Miller, Nathaniel C.</li>
<li>Nof, Ran Novitsky</li>
<li>Rapagnani, Giovanni</li>
<li>Ringler, Adam</li>
<li>Russo, Emiliano</li>
<li>Satriano, Claudio</li>
<li>Scheingraber, Chris</li>
<li>Snoke, Arthur</li>
<li>Sullivan, Benjamin</li>
<li>Uieda, Leonardo</li>
<li>Walther, Marcus</li>
<li>Williams, Mark C.</li>
<li>Zad, Seyed Kasra Hosseini</li>
</ul>
</div>
</div>
</div>
<h4>Funds</h4>
<p>ObsPy was partially funded by the</p>
<ul>
<li>German Science Foundation (DFG) via grant DFG IG 16/9-1</li>
<li>German Ministry for Education and Research (BMBF), GEOTECHNOLOGIEN grant 03G0646H.</li>
<li>NERA project (Network of European Research Infrastructures for Earthquake Risk Assessment and Mitigation) under the European Community&#39;s Seventh Framework Programme (FP7/2007-2013) grant agreement n° 262330</li>
<li>Leibniz Institute for Applied Geophysics (LIAG)</li>
<li>VERCE EU-FP7 project (no. 283543)</li>
</ul>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>

</div>


  </body>
</html>