<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>obspy.io.sac.sactrace &#8212; ObsPy Documentation (1.0.3)</title>
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/font.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/base.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript">
  var shiftWindow = function() { scrollBy(0, -70) };
  if (location.hash) shiftWindow();
  window.addEventListener("hashchange", shiftWindow);
</script>

  </head>
  <body>
<div id="wrapper">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">
<button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a href="/" class="navbar-brand" title="Home"><span class="icon-obspy"></span>&nbsp;ObsPy</a>
</div>
<div class="navbar-collapse collapse">
<form class="navbar-form navbar-right" role="search" method="get" action="http://docs.obspy.org/search.html">
<div class="form-group">
<input type="text" class="form-control" placeholder="Search Docs" name="q">
</div>
</form>
<ul class="nav navbar-nav navbar-right">
<li><a href="https://github.com/obspy/obspy/" title="GitHub"><span class="icon-github iconx2"></span><span class="hidden-sm">&nbsp;GitHub</span></a></li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Documentation"><span class="glyphicon glyphicon-book iconx2"></span><span class="hidden-sm">&nbsp;Documentation</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Getting&nbsp;Started</li>
<li><a href="https://github.com/obspy/obspy/wiki#installation">Installation</a></li>
<li><a href="https://tutorial.obspy.org/">Tutorial</a></li>
<li><a href="http://gallery.obspy.org/">Gallery</a></li>
<li><a href="https://docs.obspy.org/">API&nbsp;Documentation&nbsp;(latest&nbsp;release)</a></li>
<li><a href="https://docs.obspy.org/master/">API&nbsp;Documentation&nbsp;(current&nbsp;master)</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Mailing&nbsp;Lists"><span class="glyphicon glyphicon-envelope iconx2"></span><span class="hidden-sm">&nbsp;Mailing&nbsp;Lists</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Announcements&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-announcements"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-announcements/"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archive</a></li>
<li class="divider"></li>
<li class="dropdown-header">Users&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-users"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-users"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archives</a></li>
<li><a href="mailto:users@obspy.org"><span class="glyphicon glyphicon-envelope"></span>&nbsp;Post&nbsp;a&nbsp;message</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Developer&nbsp;Resources"><span class="glyphicon glyphicon-cog iconx2"></span><span class="hidden-sm">&nbsp;Developer&nbsp;Resources</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="https://gitter.im/obspy/obspy">Gitter</a></li>
<li><a href="https://github.com/obspy/obspy/blob/master/.github/CONTRIBUTING.md">How&nbsp;to&nbsp;contribute</a></li>
<li><a href="http://docs.obspy.org/coding_style.html">Coding&nbsp;Style&nbsp;Guide</a></li>
<li><a href="https://github.com/obspy/obspy/releases/">All&nbsp;Releases</a></li>
<li class="divider"></li>
<li class="dropdown-header">Code&nbsp;Analysis</li>
<li><a href="http://docs.obspy.org/master/pep8/index.html">PEP8</a></li>
<li><a href="http://docs.obspy.org/master/coverage/index.html">Python&nbsp;Coverage</a></li>
<li><a href="http://docs.obspy.org/master/c_coverage/index.html">C&nbsp;Coverage</a></li>
<li><a href="https://coveralls.io/r/obspy/obspy?branch=master">Coveralls</a></li>
<li class="divider"></li>
<li class="dropdown-header">Continuous&nbsp;Integration</li>
<li><a href="http://tests.obspy.org/">Test&nbsp;Reports</a></li>
<li><a href="https://travis-ci.org/obspy/obspy/"><span class="icon-travis"></span>&nbsp;Travis&nbsp;CI</a></li>
<li><a href="https://ci.appveyor.com/project/obspy/obspy"><span class="icon-appveyor"></span>&nbsp;AppVeyor</a></li>
</ul>
</li>
</ul>
</div>
</div>
</nav>

<div id="content" class="container">
  
    <div class="breadcrumb pull-right"><a href="../../../../genindex.html" title="General Index"
         accesskey="I">index</a><span style="color: #ccc; padding: 0 5px;">| </span><a href="../../../../py-modindex.html" title="Python Module Index"
         >modules</a>
    </div>
    <ol class="breadcrumb">
        <li><a href="../../../../contents.html">ObsPy Documentation (1.0.3)</a></li>
        <li><a href="../../../index.html" accesskey="U">Module code</a></li> 
    </ol>
  
  <h1>Source code for obspy.io.sac.sactrace</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Python interface to the Seismic Analysis Code (SAC) file format.</span>

<span class="sd">:copyright:</span>
<span class="sd">    The Los Alamos National Security, LLC, Yannik Behr, C. J. Ammon,</span>
<span class="sd">    C. Satriano, L. Krischer, and J. MacCarthy</span>
<span class="sd">:license:</span>
<span class="sd">    GNU Lesser General Public License, Version 3</span>
<span class="sd">    (https://www.gnu.org/copyleft/lesser.html)</span>


<span class="sd">The SACTrace object maintains consistency between SAC headers and manages</span>
<span class="sd">header values in a user-friendly way. This includes some value-checking, native</span>
<span class="sd">Python logicals (True, False) and nulls (None) instead of SAC&#39;s 0, 1, or</span>
<span class="sd">-12345...</span>

<span class="sd">SAC headers are implemented as properties, with appropriate getters and</span>
<span class="sd">setters.</span>


<span class="sd">Features</span>
<span class="sd">--------</span>

<span class="sd">1. **Read and write SAC binary or ASCII**</span>

<span class="sd">   -  autodetect or specify expected byteorder</span>
<span class="sd">   -  optional file size checking and/or header consistency checks</span>
<span class="sd">   -  header-only reading and writing</span>
<span class="sd">   -  &quot;overwrite OK&quot; checking (&#39;lovrok&#39; header)</span>

<span class="sd">2. **Convenient access and manipulation of relative and absolute time</span>
<span class="sd">   headers**</span>
<span class="sd">3. **User-friendly header printing/viewing**</span>
<span class="sd">4. **Fast access to header values from attributes**</span>

<span class="sd">   -  With type checking, null handling, and enumerated value checking</span>

<span class="sd">5. **Convert to/from ObsPy Traces**</span>

<span class="sd">   -  Conversion from ObsPy Trace to SAC trace retains detected previous</span>
<span class="sd">      SAC header values.</span>
<span class="sd">   -  Conversion to ObsPy Trace retains the *complete* SAC header.</span>


<span class="sd">Usage examples</span>
<span class="sd">--------------</span>

<span class="sd">Read/write SAC files</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">.. code:: python</span>

<span class="sd">    # read from a binary file</span>
<span class="sd">    sac = SACTrace.read(filename)</span>

<span class="sd">    # read header only</span>
<span class="sd">    sac = SACTrace.read(filename, headonly=True)</span>

<span class="sd">    # write header-only, file must exist</span>
<span class="sd">    sac.write(filename, headonly=True)</span>

<span class="sd">    # read from an ASCII file</span>
<span class="sd">    sac = SACTrace.read(filename, ascii=True)</span>

<span class="sd">    # write a binary SAC file for a Sun machine</span>
<span class="sd">    sac.write(filename, byteorder=&#39;big&#39;)</span>

<span class="sd">Build a SACTrace from a header dictionary and data array</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">.. rubric:: Example</span>

<span class="sd">&gt;&gt;&gt; header = {&#39;kstnm&#39;: &#39;ANMO&#39;, &#39;kcmpnm&#39;: &#39;BHZ&#39;, &#39;stla&#39;: 40.5, &#39;stlo&#39;: -108.23,</span>
<span class="sd">...           &#39;evla&#39;: -15.123, &#39;evlo&#39;: 123, &#39;evdp&#39;: 50, &#39;nzyear&#39;: 2012,</span>
<span class="sd">...           &#39;nzjday&#39;: 123, &#39;nzhour&#39;: 13, &#39;nzmin&#39;: 43, &#39;nzsec&#39;: 17,</span>
<span class="sd">...           &#39;nzmsec&#39;: 100, &#39;delta&#39;: 1.0/40}</span>
<span class="sd">&gt;&gt;&gt; sac = SACTrace(data=np.random.random(100), **header)</span>
<span class="sd">&gt;&gt;&gt; print(sac)  # doctest: +NORMALIZE_WHITESPACE +ELLIPSIS</span>
<span class="sd">Reference Time = 05/02/2012 (123) 13:43:17.100000</span>
<span class="sd">   iztype IB: begin time</span>
<span class="sd">b          = 0.0</span>
<span class="sd">delta      = 0.0250000...</span>
<span class="sd">e          = 2.4750000...</span>
<span class="sd">evdp       = 50.0</span>
<span class="sd">evla       = -15.123000...</span>
<span class="sd">evlo       = 123.0</span>
<span class="sd">iftype     = itime</span>
<span class="sd">internal0  = 2.0</span>
<span class="sd">iztype     = ib</span>
<span class="sd">kcmpnm     = BHZ</span>
<span class="sd">kstnm      = ANMO</span>
<span class="sd">lcalda     = False</span>
<span class="sd">leven      = True</span>
<span class="sd">lovrok     = True</span>
<span class="sd">lpspol     = True</span>
<span class="sd">npts       = 100</span>
<span class="sd">nvhdr      = 6</span>
<span class="sd">nzhour     = 13</span>
<span class="sd">nzjday     = 123</span>
<span class="sd">nzmin      = 43</span>
<span class="sd">nzmsec     = 100</span>
<span class="sd">nzsec      = 17</span>
<span class="sd">nzyear     = 2012</span>
<span class="sd">stla       = 40.5</span>
<span class="sd">stlo       = -108.23000...</span>

<span class="sd">Reference-time and relative time headers</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">.. rubric:: Example</span>

<span class="sd">&gt;&gt;&gt; sac = SACTrace(nzyear=2000, nzjday=1, nzhour=0, nzmin=0, nzsec=0,</span>
<span class="sd">...                nzmsec=0, t1=23.5, data=np.arange(100))</span>
<span class="sd">&gt;&gt;&gt; print(sac.reftime)</span>
<span class="sd">2000-01-01T00:00:00.000000Z</span>
<span class="sd">&gt;&gt;&gt; sac.b, sac.e, sac.t1</span>
<span class="sd">(0.0, 99.0, 23.5)</span>

<span class="sd">Move reference time by relative seconds, relative time headers are</span>
<span class="sd">preserved.</span>

<span class="sd">.. rubric:: Example</span>

<span class="sd">&gt;&gt;&gt; sac = SACTrace(nzyear=2000, nzjday=1, nzhour=0, nzmin=0, nzsec=0,</span>
<span class="sd">...                nzmsec=0, t1=23.5, data=np.arange(100))</span>
<span class="sd">&gt;&gt;&gt; sac.reftime -= 2.5</span>
<span class="sd">&gt;&gt;&gt; sac.b, sac.e, sac.t1</span>
<span class="sd">(2.5, 101.5, 26.0)</span>

<span class="sd">Set reference time to new absolute time, relative time headers are</span>
<span class="sd">preserved.</span>

<span class="sd">.. rubric:: Example</span>

<span class="sd">&gt;&gt;&gt; sac = SACTrace(nzyear=2000, nzjday=1, nzhour=0, nzmin=0, nzsec=0,</span>
<span class="sd">...                nzmsec=0, t1=23.5, data=np.arange(100))</span>
<span class="sd">&gt;&gt;&gt; # set the reftime two minutes later</span>
<span class="sd">&gt;&gt;&gt; sac.reftime = UTCDateTime(2000, 1, 1, 0, 2, 0, 0)</span>
<span class="sd">&gt;&gt;&gt; sac.b, sac.e, sac.t1</span>
<span class="sd">(-120.0, -21.0, -96.5)</span>

<span class="sd">Quick header viewing</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">Print non-null header values.</span>

<span class="sd">.. rubric:: Example</span>

<span class="sd">&gt;&gt;&gt; sac = SACTrace()</span>
<span class="sd">&gt;&gt;&gt; print(sac)  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">Reference Time = 01/01/1970 (001) 00:00:00.000000</span>
<span class="sd">   iztype IB: begin time</span>
<span class="sd">b          = 0.0</span>
<span class="sd">delta      = 1.0</span>
<span class="sd">e          = 0.0</span>
<span class="sd">iftype     = itime</span>
<span class="sd">internal0  = 2.0</span>
<span class="sd">iztype     = ib</span>
<span class="sd">lcalda     = False</span>
<span class="sd">leven      = True</span>
<span class="sd">lovrok     = True</span>
<span class="sd">lpspol     = True</span>
<span class="sd">npts       = 0</span>
<span class="sd">nvhdr      = 6</span>
<span class="sd">nzhour     = 0</span>
<span class="sd">nzjday     = 1</span>
<span class="sd">nzmin      = 0</span>
<span class="sd">nzmsec     = 0</span>
<span class="sd">nzsec      = 0</span>
<span class="sd">nzyear     = 1970</span>

<span class="sd">Print relative time header values.</span>

<span class="sd">.. rubric:: Example</span>

<span class="sd">&gt;&gt;&gt; sac = SACTrace()</span>
<span class="sd">&gt;&gt;&gt; sac.lh(&#39;picks&#39;)  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">Reference Time = 01/01/1970 (001) 00:00:00.000000</span>
<span class="sd">   iztype IB: begin time</span>
<span class="sd">a          = None</span>
<span class="sd">b          = 0.0</span>
<span class="sd">e          = 0.0</span>
<span class="sd">f          = None</span>
<span class="sd">o          = None</span>
<span class="sd">t0         = None</span>
<span class="sd">t1         = None</span>
<span class="sd">t2         = None</span>
<span class="sd">t3         = None</span>
<span class="sd">t4         = None</span>
<span class="sd">t5         = None</span>
<span class="sd">t6         = None</span>
<span class="sd">t7         = None</span>
<span class="sd">t8         = None</span>
<span class="sd">t9         = None</span>

<span class="sd">Header values as attributes</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">Great for interactive use, with (ipython) tab-completion...</span>

<span class="sd">.. code:: python</span>

<span class="sd">    sac.&lt;tab&gt;</span>

<span class="sd">::</span>

<span class="sd">    sac.a                 sac.kevnm             sac.nzsec</span>
<span class="sd">    sac.az                sac.kf                sac.nzyear</span>
<span class="sd">    sac.b                 sac.khole             sac.o</span>
<span class="sd">    sac.baz               sac.kinst             sac.odelta</span>
<span class="sd">    sac.byteorder         sac.knetwk            sac.read</span>
<span class="sd">    sac.cmpaz             sac.ko                sac.reftime</span>
<span class="sd">    sac.cmpinc            sac.kstnm             sac.scale</span>
<span class="sd">    sac.copy              sac.kt0               sac.stdp</span>
<span class="sd">    sac.data              sac.kt1               sac.stel</span>
<span class="sd">    sac.delta             sac.kt2               sac.stla</span>
<span class="sd">    sac.depmax            sac.kt3               sac.stlo</span>
<span class="sd">    sac.depmen            sac.kt4               sac.t0</span>
<span class="sd">    sac.depmin            sac.kt5               sac.t1</span>
<span class="sd">    sac.dist              sac.kt6               sac.t2</span>
<span class="sd">    sac.e                 sac.kt7               sac.t3</span>
<span class="sd">    sac.evdp              sac.kt8               sac.t4</span>
<span class="sd">    sac.evla              sac.kt9               sac.t5</span>
<span class="sd">    sac.evlo              sac.kuser0            sac.t6</span>
<span class="sd">    sac.f                 sac.kuser1            sac.t7</span>
<span class="sd">    sac.from_obspy_trace  sac.kuser2            sac.t8</span>
<span class="sd">    sac.gcarc             sac.lcalda            sac.t9</span>
<span class="sd">    sac.idep              sac.leven             sac.to_obspy_trace</span>
<span class="sd">    sac.ievreg            sac.lh                sac.unused23</span>
<span class="sd">    sac.ievtyp            sac.listhdr           sac.user0</span>
<span class="sd">    sac.iftype            sac.lovrok            sac.user1</span>
<span class="sd">    sac.iinst             sac.lpspol            sac.user2</span>
<span class="sd">    sac.imagsrc           sac.mag               sac.user3</span>
<span class="sd">    sac.imagtyp           sac.nevid             sac.user4</span>
<span class="sd">    sac.internal0         sac.norid             sac.user5</span>
<span class="sd">    sac.iqual             sac.npts              sac.user6</span>
<span class="sd">    sac.istreg            sac.nvhdr             sac.user7</span>
<span class="sd">    sac.isynth            sac.nwfid             sac.user8</span>
<span class="sd">    sac.iztype            sac.nzhour            sac.user9</span>
<span class="sd">    sac.ka                sac.nzjday            sac.validate</span>
<span class="sd">    sac.kcmpnm            sac.nzmin             sac.write</span>
<span class="sd">    sac.kdatrd            sac.nzmsec</span>

<span class="sd">...and documentation (in IPython)!</span>

<span class="sd">.. code:: python</span>

<span class="sd">    sac.iztype?</span>

<span class="sd">::</span>

<span class="sd">    Type:        property</span>
<span class="sd">    String form: &lt;property object at 0x106404940&gt;</span>
<span class="sd">    Docstring:</span>
<span class="sd">    I    Reference time equivalence:</span>

<span class="sd">    * IUNKN (5): Unknown</span>
<span class="sd">    * IB (9): Begin time</span>
<span class="sd">    * IDAY (10): Midnight of reference GMT day</span>
<span class="sd">    * IO (11): Event origin time</span>
<span class="sd">    * IA (12): First arrival time</span>
<span class="sd">    * ITn (13-22): User defined time pick n, n=0,9</span>

<span class="sd">Convert to/from ObsPy Traces</span>
<span class="sd">~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">.. rubric:: Example</span>

<span class="sd">&gt;&gt;&gt; from obspy import read</span>
<span class="sd">&gt;&gt;&gt; tr = read()[0]</span>
<span class="sd">&gt;&gt;&gt; print(tr.stats)  # doctest: +ELLIPSIS +NORMALIZE_WHITESPACE</span>
<span class="sd">         network: BW</span>
<span class="sd">         station: RJOB</span>
<span class="sd">        location:</span>
<span class="sd">         channel: EHZ</span>
<span class="sd">       starttime: 2009-08-24T00:20:03.000000Z</span>
<span class="sd">         endtime: 2009-08-24T00:20:32.990000Z</span>
<span class="sd">   sampling_rate: 100.0</span>
<span class="sd">           delta: 0.01</span>
<span class="sd">            npts: 3000</span>
<span class="sd">           calib: 1.0</span>
<span class="sd">    back_azimuth: 100.0</span>
<span class="sd">     inclination: 30.0</span>
<span class="sd">        response: Channel Response</span>
<span class="sd">            ...</span>


<span class="sd">&gt;&gt;&gt; sac = SACTrace.from_obspy_trace(tr)</span>
<span class="sd">&gt;&gt;&gt; print(sac)  # doctest: +NORMALIZE_WHITESPACE +ELLIPSIS</span>
<span class="sd">Reference Time = 08/24/2009 (236) 00:20:03.000000</span>
<span class="sd">   iztype IB: begin time</span>
<span class="sd">b          = 0.0</span>
<span class="sd">delta      = 0.009999999...</span>
<span class="sd">e          = 29.989999...</span>
<span class="sd">iftype     = itime</span>
<span class="sd">iztype     = ib</span>
<span class="sd">kcmpnm     = EHZ</span>
<span class="sd">knetwk     = BW</span>
<span class="sd">kstnm      = RJOB</span>
<span class="sd">lcalda     = False</span>
<span class="sd">leven      = True</span>
<span class="sd">lovrok     = True</span>
<span class="sd">lpspol     = True</span>
<span class="sd">npts       = 3000</span>
<span class="sd">nvhdr      = 6</span>
<span class="sd">nzhour     = 0</span>
<span class="sd">nzjday     = 236</span>
<span class="sd">nzmin      = 20</span>
<span class="sd">nzmsec     = 0</span>
<span class="sd">nzsec      = 3</span>
<span class="sd">nzyear     = 2009</span>
<span class="sd">scale      = 1.0</span>

<span class="sd">&gt;&gt;&gt; tr2 = sac.to_obspy_trace()</span>
<span class="sd">&gt;&gt;&gt; print(tr2.stats)  # doctest: +NORMALIZE_WHITESPACE +ELLIPSIS</span>
<span class="sd">         network: BW</span>
<span class="sd">         station: RJOB</span>
<span class="sd">        location:</span>
<span class="sd">         channel: EHZ</span>
<span class="sd">       starttime: 2009-08-24T00:20:03.000000Z</span>
<span class="sd">         endtime: 2009-08-24T00:20:32.990000Z</span>
<span class="sd">   sampling_rate: 100.0</span>
<span class="sd">           delta: 0.01</span>
<span class="sd">            npts: 3000</span>
<span class="sd">           calib: 1.0</span>
<span class="sd">             sac: AttribDict(...)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="p">(</span><span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span>
                        <span class="n">unicode_literals</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">future.builtins</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="kn">from</span> <span class="nn">future.utils</span> <span class="k">import</span> <span class="n">native_str</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="k">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">chain</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">obspy</span> <span class="k">import</span> <span class="n">Trace</span><span class="p">,</span> <span class="n">UTCDateTime</span>
<span class="kn">from</span> <span class="nn">obspy.geodetics</span> <span class="k">import</span> <span class="n">gps2dist_azimuth</span><span class="p">,</span> <span class="n">kilometer2degrees</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">header</span> <span class="k">as</span> <span class="n">HD</span>  <span class="c1"># noqa</span>
<span class="kn">from</span> <span class="nn">.util</span> <span class="k">import</span> <span class="n">SacError</span><span class="p">,</span> <span class="n">SacHeaderError</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">util</span> <span class="k">as</span> <span class="n">_ut</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">arrayio</span> <span class="k">as</span> <span class="n">_io</span>


<span class="c1"># ------------- HEADER GETTER/SETTERS -----------------------------------------</span>
<span class="c1">#</span>
<span class="c1"># These are functions used to set up header properties on the SACTrace class.</span>
<span class="c1"># Properties are accessed like class attributes, but use getter and/or setter</span>
<span class="c1"># functions.  They&#39;re defined here, outside the class, b/c there are lots of</span>
<span class="c1"># properties and we want to keep the class clean.</span>
<span class="c1">#</span>
<span class="c1"># getter/setter factories:</span>
<span class="c1"># Property getters/setters must be defined for _each_ header, even if they work</span>
<span class="c1"># the exact same way for similar headers, so we define function factories here</span>
<span class="c1"># for groups of headers that will be gotten and set in a similar fashion.</span>
<span class="c1">#</span>
<span class="c1"># Usage: delta_getter = _floatgetter(&#39;delta&#39;)</span>
<span class="c1">#        delta_setter = _floatsetter(&#39;delta&#39;)</span>
<span class="c1"># These factories produce functions that simply index into their array to get</span>
<span class="c1"># or set.  Use them for header values in hf, hi, and hs that need no special</span>
<span class="c1"># handling. Values that depend on other values will need their own</span>
<span class="c1"># getters/setters.</span>
<span class="c1">#</span>
<span class="c1"># See:</span>
<span class="c1"># https://stackoverflow.com/q/2123585</span>
<span class="c1">#</span>
<span class="c1"># TODO: Replace all these factories and properties with Python Descriptors.</span>
<span class="c1">#   http://nbviewer.jupyter.org/urls/gist.github.com/ChrisBeaumont/</span>
<span class="c1">#       5758381/raw/descriptor_writeup.ipynb</span>
<span class="c1">#   Also, don&#39;t forget to worry about access to __doc__ on both the class and</span>
<span class="c1">#   the instances.</span>
<span class="c1">#</span>
<span class="c1"># floats</span>
<div class="viewcode-block" id="_floatgetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._floatgetter.html#obspy.io.sac.sactrace._floatgetter">[docs]</a><span class="k">def</span> <span class="nf">_floatgetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_float</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)])</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">HD</span><span class="o">.</span><span class="n">FNULL</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">get_float</span></div>


<div class="viewcode-block" id="_floatsetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._floatsetter.html#obspy.io.sac.sactrace._floatsetter">[docs]</a><span class="k">def</span> <span class="nf">_floatsetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">set_float</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">FNULL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">set_float</span></div>


<span class="c1"># ints</span>
<div class="viewcode-block" id="_intgetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._intgetter.html#obspy.io.sac.sactrace._intgetter">[docs]</a><span class="k">def</span> <span class="nf">_intgetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_int</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">INTHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)])</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">HD</span><span class="o">.</span><span class="n">INULL</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">get_int</span></div>


<div class="viewcode-block" id="_intsetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._intsetter.html#obspy.io.sac.sactrace._intsetter">[docs]</a><span class="k">def</span> <span class="nf">_intsetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">set_int</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">%</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Non-integers may be truncated. (</span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">hdr</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">INULL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">INTHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">set_int</span></div>


<span class="c1"># logicals/bools (subtype of ints)</span>
<div class="viewcode-block" id="_boolgetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._boolgetter.html#obspy.io.sac.sactrace._boolgetter">[docs]</a><span class="k">def</span> <span class="nf">_boolgetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_bool</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">INTHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">get_bool</span></div>


<div class="viewcode-block" id="_boolsetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._boolsetter.html#obspy.io.sac.sactrace._boolsetter">[docs]</a><span class="k">def</span> <span class="nf">_boolsetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">set_bool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Logical header values must be {True, False, 1, 0}&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1"># booleans are subclasses of integers.  They will be set (cast)</span>
        <span class="c1"># directly into an integer array as 0 or 1.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">INTHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">set_bool</span></div>


<span class="c1"># enumerated values (stored as ints, represented by strings)</span>
<div class="viewcode-block" id="_enumgetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._enumgetter.html#obspy.io.sac.sactrace._enumgetter">[docs]</a><span class="k">def</span> <span class="nf">_enumgetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_enum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">INTHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">HD</span><span class="o">.</span><span class="n">INULL</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">_ut</span><span class="o">.</span><span class="n">is_valid_enum_int</span><span class="p">(</span><span class="n">hdr</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">ENUM_NAMES</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Unrecognized enumerated value </span><span class="si">{}</span><span class="s2"> for header &quot;</span><span class="si">{}</span><span class="s2">&quot;.</span>
<span class="s2">                     See .header for allowed values.&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hdr</span><span class="p">)</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">name</span>
    <span class="k">return</span> <span class="n">get_enum</span></div>


<div class="viewcode-block" id="_enumsetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._enumsetter.html#obspy.io.sac.sactrace._enumsetter">[docs]</a><span class="k">def</span> <span class="nf">_enumsetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">set_enum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">INULL</span>
        <span class="k">elif</span> <span class="n">_ut</span><span class="o">.</span><span class="n">is_valid_enum_str</span><span class="p">(</span><span class="n">hdr</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">ENUM_VALS</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Unrecognized enumerated value &quot;</span><span class="si">{}</span><span class="s1">&quot; for header &quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hdr</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">INTHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">set_enum</span></div>


<span class="c1"># strings</span>
<div class="viewcode-block" id="_strgetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._strgetter.html#obspy.io.sac.sactrace._strgetter">[docs]</a><span class="k">def</span> <span class="nf">_strgetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># value is a bytes</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">native_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">STRHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="c1"># value is a str</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">native_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">STRHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)])</span>

        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">HD</span><span class="o">.</span><span class="n">SNULL</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="c1"># it&#39;s None.  no .strip method</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">get_str</span></div>


<div class="viewcode-block" id="_strsetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._strsetter.html#obspy.io.sac.sactrace._strsetter">[docs]</a><span class="k">def</span> <span class="nf">_strsetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">set_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">SNULL</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Alphanumeric headers longer than 8 characters are &quot;</span>\
                  <span class="s2">&quot;right-truncated.&quot;</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1"># they will truncate themselves, since _hs is dtype &#39;|S8&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">STRHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">,</span> <span class="s1">&#39;strict&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">STRHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">return</span> <span class="n">set_str</span></div>


<span class="c1"># Factory for functions of .data (min, max, mean, len)</span>
<div class="viewcode-block" id="_make_data_func"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._make_data_func.html#obspy.io.sac.sactrace._make_data_func">[docs]</a><span class="k">def</span> <span class="nf">_make_data_func</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">hdr</span><span class="p">):</span>
    <span class="c1"># returns a method that returns the value of func(self.data), or the</span>
    <span class="c1"># corresponding array header value, if data is None</span>
    <span class="k">def</span> <span class="nf">do_data_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="c1"># data is None, get the value from header</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)])</span>
                <span class="n">null</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">FNULL</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="c1"># hdr is &#39;npts&#39;, the only integer</span>
                <span class="c1"># XXX: this also trip if a data-centric header is misspelled?</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">INTHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">hdr</span><span class="p">)])</span>
                <span class="n">null</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">INULL</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">null</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">do_data_func</span></div>

<span class="c1"># TODO: a data setter the requires a float32 array</span>


<span class="c1"># Factory function for setting relative time headers with either a relative</span>
<span class="c1"># time float or an absolute UTCDateTime</span>
<span class="c1"># used for: b, o, a, f, t0-t9</span>
<div class="viewcode-block" id="_reltime_setter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._reltime_setter.html#obspy.io.sac.sactrace._reltime_setter">[docs]</a><span class="k">def</span> <span class="nf">_reltime_setter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">set_reltime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UTCDateTime</span><span class="p">):</span>
            <span class="c1"># get the offset from reftime</span>
            <span class="n">offset</span> <span class="o">=</span> <span class="n">value</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">reftime</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># value is already a reftime offset.</span>
            <span class="n">offset</span> <span class="o">=</span> <span class="n">value</span>
        <span class="c1"># make and use a _floatsetter to actually set it</span>
        <span class="n">floatsetter</span> <span class="o">=</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">)</span>
        <span class="n">floatsetter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">set_reltime</span></div>


<span class="c1"># Factory function for setting geographic header values</span>
<span class="c1">#   (evlo, evla, stalo, stalat)</span>
<span class="c1"># that will check lcalda and calculate and set dist, az, baz, gcarc</span>
<div class="viewcode-block" id="_geosetter"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._geosetter.html#obspy.io.sac.sactrace._geosetter">[docs]</a><span class="k">def</span> <span class="nf">_geosetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">set_geo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># make and use a _floatsetter</span>
        <span class="n">set_geo_float</span> <span class="o">=</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="n">hdr</span><span class="p">)</span>
        <span class="n">set_geo_float</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lcalda</span><span class="p">:</span>
            <span class="c1"># check and maybe set lcalda</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_distances</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">SacHeaderError</span><span class="p">:</span>
                <span class="k">pass</span>
    <span class="k">return</span> <span class="n">set_geo</span></div>


<span class="c1"># OTHER GETTERS/SETTERS</span>
<div class="viewcode-block" id="_set_lcalda"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._set_lcalda.html#obspy.io.sac.sactrace._set_lcalda">[docs]</a><span class="k">def</span> <span class="nf">_set_lcalda</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="c1"># make and use a bool setter for lcalda</span>
    <span class="n">lcalda_setter</span> <span class="o">=</span> <span class="n">_boolsetter</span><span class="p">(</span><span class="s1">&#39;lcalda&#39;</span><span class="p">)</span>
    <span class="n">lcalda_setter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="c1"># try to set set distances if &quot;value&quot; evaluates to True</span>
    <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_distances</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">SacHeaderError</span><span class="p">:</span>
            <span class="k">pass</span></div>


<div class="viewcode-block" id="_get_e"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._get_e.html#obspy.io.sac.sactrace._get_e">[docs]</a><span class="k">def</span> <span class="nf">_get_e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">npts</span><span class="p">:</span>
            <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">npts</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">delta</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="c1"># b, npts, and/or delta are None/null</span>
        <span class="c1"># TODO: assume &quot;b&quot; is 0.0?</span>
        <span class="n">e</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">e</span></div>


<div class="viewcode-block" id="_set_iztype"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._set_iztype.html#obspy.io.sac.sactrace._set_iztype">[docs]</a><span class="k">def</span> <span class="nf">_set_iztype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iztype</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the iztype, which describes what the reftime is.</span>

<span class="sd">    Setting the iztype will shift the relative time headers, such that the</span>
<span class="sd">    header that iztype points to is (near) zero, and all others are shifted</span>
<span class="sd">    together by the difference.</span>

<span class="sd">    Affected headers: b, o, a, f, t0-t9</span>

<span class="sd">    :param iztype: One of the following strings:</span>
<span class="sd">        &#39;iunkn&#39;</span>
<span class="sd">        &#39;ib&#39;, begin time</span>
<span class="sd">        &#39;iday&#39;, midnight of reference GMT day</span>
<span class="sd">        &#39;io&#39;, event origin time</span>
<span class="sd">        &#39;ia&#39;, first arrival time</span>
<span class="sd">        &#39;it0&#39;-&#39;it9&#39;, user defined pick t0-t9.</span>
<span class="sd">    :type iztype: str</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The Plan:</span>
    <span class="c1"># 1. find the seconds needed to shift the old reftime to the new one.</span>
    <span class="c1"># 2. shift reference time onto the iztype header using that shift value.</span>
    <span class="c1"># 3. this triggers an _allt shift of all relative times by the same amount.</span>
    <span class="c1"># 4. If all goes well, actually set the iztype in the header.</span>

    <span class="c1"># 1.</span>
    <span class="k">if</span> <span class="n">iztype</span> <span class="o">==</span> <span class="s1">&#39;iunkn&#39;</span><span class="p">:</span>
        <span class="c1"># no shift</span>
        <span class="n">ref_val</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">elif</span> <span class="n">iztype</span> <span class="o">==</span> <span class="s1">&#39;iday&#39;</span><span class="p">:</span>
        <span class="c1"># seconds since midnight of reference day</span>
        <span class="n">reftime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reftime</span>
        <span class="n">ref_val</span> <span class="o">=</span> <span class="n">reftime</span> <span class="o">-</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">reftime</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
                                        <span class="n">julday</span><span class="o">=</span><span class="n">reftime</span><span class="o">.</span><span class="n">julday</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># a relative time header.</span>
        <span class="c1"># remove the &#39;i&#39; (first character) in the iztype to get the header name</span>
        <span class="n">ref_val</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iztype</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="k">if</span> <span class="n">ref_val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Reference header for iztype &#39;</span><span class="si">{}</span><span class="s2">&#39; is not set&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">iztype</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">SacError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="c1"># 2. set a new reference time,</span>
    <span class="c1"># 3. which also shifts all non-null relative times (self._allt).</span>
    <span class="c1">#    remainder microseconds may be in the reference header value, because</span>
    <span class="c1">#    nzmsec can&#39;t hold them.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reftime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reftime</span> <span class="o">+</span> <span class="n">ref_val</span>

    <span class="c1"># 4. no exceptions yet. actually set the iztype</span>
    <span class="c1">#    make an _enumsetter for iztype and use it, for its enum checking.</span>
    <span class="n">izsetter</span> <span class="o">=</span> <span class="n">_enumsetter</span><span class="p">(</span><span class="s1">&#39;iztype&#39;</span><span class="p">)</span>
    <span class="n">izsetter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iztype</span><span class="p">)</span></div>


<span class="c1"># kevnm is 16 characters, split into two 8-character fields</span>
<span class="c1"># intercept and handle in while getting and setting</span>
<div class="viewcode-block" id="_get_kevnm"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._get_kevnm.html#obspy.io.sac.sactrace._get_kevnm">[docs]</a><span class="k">def</span> <span class="nf">_get_kevnm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">kevnm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">STRHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;kevnm&#39;</span><span class="p">)]</span>
    <span class="n">kevnm2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">STRHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;kevnm2&#39;</span><span class="p">)]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">kevnm</span> <span class="o">=</span> <span class="n">kevnm</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">kevnm2</span> <span class="o">=</span> <span class="n">kevnm2</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="c1"># kevnm is a str</span>
        <span class="k">pass</span>

    <span class="k">if</span> <span class="n">kevnm</span> <span class="o">==</span> <span class="n">HD</span><span class="o">.</span><span class="n">SNULL</span><span class="p">:</span>
        <span class="n">kevnm</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">if</span> <span class="n">kevnm2</span> <span class="o">==</span> <span class="n">HD</span><span class="o">.</span><span class="n">SNULL</span><span class="p">:</span>
        <span class="n">kevnm2</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">kevnm</span> <span class="o">+</span> <span class="n">kevnm2</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">value</span></div>


<div class="viewcode-block" id="_set_kevnm"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace._set_kevnm.html#obspy.io.sac.sactrace._set_kevnm">[docs]</a><span class="k">def</span> <span class="nf">_set_kevnm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">SNULL</span> <span class="o">+</span> <span class="n">HD</span><span class="o">.</span><span class="n">SNULL</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">16</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;kevnm over 16 characters.  Truncated to </span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">[:</span><span class="mi">16</span><span class="p">])</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">kevnm</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:&lt;8s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">])</span>
    <span class="n">kevnm2</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:&lt;8s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">16</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">STRHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;kevnm&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">kevnm</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">STRHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;kevnm2&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">kevnm2</span></div>

<span class="c1"># TODO: move get/set reftime up here, make it a property</span>


<span class="c1"># -------------------------- SAC OBJECT INTERFACE -----------------------------</span>
<div class="viewcode-block" id="SACTrace"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.html#obspy.io.sac.sactrace.SACTrace">[docs]</a><span class="k">class</span> <span class="nc">SACTrace</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="vm">__doc__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Convenient and consistent in-memory representation of Seismic Analysis Code</span>
<span class="s2">    (SAC) files.</span>

<span class="s2">    This is the human-facing interface for making a valid instance.  For</span>
<span class="s2">    file-based or other constructors, see class methods .read and</span>
<span class="s2">    .from_obspy_trace.  SACTrace instances preserve relationships between</span>
<span class="s2">    header values.</span>

<span class="s2">    :param data: Associated time-series data vector. Optional. If omitted, None</span>
<span class="s2">        is set as the instance data attribute.</span>
<span class="s2">    :type data: :class:`numpy.ndarray` of float32</span>

<span class="s2">    Any valid header key/value pair is also an optional input keyword argument.</span>
<span class="s2">    If not provided, minimum required headers are set to valid default values.</span>
<span class="s2">    The default instance is an evenly-space trace, with a sample rate of 1.0,</span>
<span class="s2">    and len(data) or 0 npts, starting at 1970-01-01T00:00:00.000000.</span>

<span class="s2">    :var reftime: Read-only reference time.  Calculated from nzyear, nzjday,</span>
<span class="s2">        nzhour, nzmin, nzsec, nzmsec.</span>
<span class="s2">    :var byteorder: The byte order of the underlying header/data arrays.</span>
<span class="s2">        Raises :class:`SacError` if array byte orders are inconsistent, even in</span>
<span class="s2">        the case where &#39;&lt;&#39; is your native order and byteorders look like &#39;&lt;&#39;,</span>
<span class="s2">        &#39;=&#39;, &#39;=&#39;.</span>

<span class="s2">    Any valid header name is also an attribute. See below, :mod:`header`,</span>
<span class="s2">    or individial attribution docstrings for more header information.</span>

<span class="s2">                                 THE SAC HEADER</span>

<span class="s2">    NOTE: All header names and string values are lowercase. Header value</span>
<span class="s2">    access should be through instance attributes.</span>

<span class="s2">    &quot;&quot;&quot;</span> <span class="o">+</span> <span class="n">HD</span><span class="o">.</span><span class="n">HEADER_DOCSTRING</span>

<div class="viewcode-block" id="SACTrace.__init__"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.__init__.html#obspy.io.sac.sactrace.SACTrace.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leven</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">iztype</span><span class="o">=</span><span class="s1">&#39;ib&#39;</span><span class="p">,</span>
                 <span class="n">nvhdr</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">npts</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">iftype</span><span class="o">=</span><span class="s1">&#39;itime&#39;</span><span class="p">,</span> <span class="n">nzyear</span><span class="o">=</span><span class="mi">1970</span><span class="p">,</span> <span class="n">nzjday</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                 <span class="n">nzhour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nzmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nzsec</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nzmsec</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">lcalda</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">lpspol</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">lovrok</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">internal0</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a SACTrace object using header key-value pairs and a</span>
<span class="sd">        numpy.ndarray for the data, both optional.</span>

<span class="sd">        ..rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; sac = SACTrace(nzyear=1995, nzmsec=50, data=np.arange(100))</span>
<span class="sd">        &gt;&gt;&gt; print(sac)  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">        Reference Time = 01/01/1995 (001) 00:00:00.050000</span>
<span class="sd">           iztype IB: begin time</span>
<span class="sd">        b          = 0.0</span>
<span class="sd">        delta      = 1.0</span>
<span class="sd">        e          = 99.0</span>
<span class="sd">        iftype     = itime</span>
<span class="sd">        internal0  = 2.0</span>
<span class="sd">        iztype     = ib</span>
<span class="sd">        lcalda     = False</span>
<span class="sd">        leven      = True</span>
<span class="sd">        lovrok     = True</span>
<span class="sd">        lpspol     = True</span>
<span class="sd">        npts       = 100</span>
<span class="sd">        nvhdr      = 6</span>
<span class="sd">        nzhour     = 0</span>
<span class="sd">        nzjday     = 1</span>
<span class="sd">        nzmin      = 0</span>
<span class="sd">        nzmsec     = 50</span>
<span class="sd">        nzsec      = 0</span>
<span class="sd">        nzyear     = 1995</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># The Plan:</span>
        <span class="c1"># 1. Build the default header dictionary and update with provided</span>
        <span class="c1">#    values.</span>
        <span class="c1"># 2. Convert header dict to arrays (util.dict_to_header_arrays</span>
        <span class="c1">#    initializes the arrays and fills in without checking.</span>
        <span class="c1"># 3. set the _h[fis] and data arrays on self.</span>

        <span class="c1"># 1.</span>
        <span class="c1"># build the required header from provided or default values</span>
        <span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;leven&#39;</span><span class="p">:</span> <span class="n">leven</span><span class="p">,</span> <span class="s1">&#39;npts&#39;</span><span class="p">:</span> <span class="n">npts</span><span class="p">,</span> <span class="s1">&#39;delta&#39;</span><span class="p">:</span> <span class="n">delta</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">b</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="n">e</span><span class="p">,</span>
                  <span class="s1">&#39;iztype&#39;</span><span class="p">:</span> <span class="n">iztype</span><span class="p">,</span> <span class="s1">&#39;nvhdr&#39;</span><span class="p">:</span> <span class="n">nvhdr</span><span class="p">,</span> <span class="s1">&#39;iftype&#39;</span><span class="p">:</span> <span class="n">iftype</span><span class="p">,</span>
                  <span class="s1">&#39;nzyear&#39;</span><span class="p">:</span> <span class="n">nzyear</span><span class="p">,</span> <span class="s1">&#39;nzjday&#39;</span><span class="p">:</span> <span class="n">nzjday</span><span class="p">,</span> <span class="s1">&#39;nzhour&#39;</span><span class="p">:</span> <span class="n">nzhour</span><span class="p">,</span>
                  <span class="s1">&#39;nzmin&#39;</span><span class="p">:</span> <span class="n">nzmin</span><span class="p">,</span> <span class="s1">&#39;nzsec&#39;</span><span class="p">:</span> <span class="n">nzsec</span><span class="p">,</span> <span class="s1">&#39;nzmsec&#39;</span><span class="p">:</span> <span class="n">nzmsec</span><span class="p">,</span>
                  <span class="s1">&#39;lcalda&#39;</span><span class="p">:</span> <span class="n">lcalda</span><span class="p">,</span> <span class="s1">&#39;lpspol&#39;</span><span class="p">:</span> <span class="n">lpspol</span><span class="p">,</span> <span class="s1">&#39;lovrok&#39;</span><span class="p">:</span> <span class="n">lovrok</span><span class="p">,</span>
                  <span class="s1">&#39;internal0&#39;</span><span class="p">:</span> <span class="n">internal0</span><span class="p">}</span>

        <span class="c1"># combine header with remaining non-required args.</span>
        <span class="c1"># user can put non-SAC key:value pairs into the header, but they&#39;re</span>
        <span class="c1"># ignored on write.</span>
        <span class="n">header</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># -------------------------- DATA ARRAY -------------------------------</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># this is like &quot;headonly=True&quot;</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;data needs to be a numpy.ndarray&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Only copy the data if they are not of the required type</span>
                <span class="c1"># XXX: why require little endian instead of native byte order?</span>
                <span class="c1"># data = np.require(data, native_str(&#39;&lt;f4&#39;))</span>
                <span class="k">pass</span>

        <span class="c1"># --------------------------- HEADER ARRAYS ---------------------------</span>
        <span class="c1"># 2.</span>
        <span class="c1"># TODO: this is done even when we&#39;re reading a file.</span>
        <span class="c1">#   if it&#39;s too much overhead, it may need to change</span>

        <span class="c1"># swap enum names for integer values in the header dictionary</span>
        <span class="n">header</span> <span class="o">=</span> <span class="n">_ut</span><span class="o">.</span><span class="n">enum_string_to_int</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>

        <span class="c1"># XXX: will these always be little endian?</span>
        <span class="n">hf</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">hs</span> <span class="o">=</span> <span class="n">_io</span><span class="o">.</span><span class="n">dict_to_header_arrays</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>

        <span class="c1"># we now have data and headers, either default or provided.</span>

        <span class="c1"># 3.</span>
        <span class="c1"># this completely sidesteps any checks provided by class properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span> <span class="o">=</span> <span class="n">hf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span> <span class="o">=</span> <span class="n">hi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span> <span class="o">=</span> <span class="n">hs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_distances</span><span class="p">()</span></div>

    <span class="c1"># ---------------------------- SET UP HEADERS -----------------------------</span>
    <span class="c1"># SAC header values are set up as attributes, with getters and setters</span>
    <span class="c1"># format: header = property(getter_function, setter_function)</span>
    <span class="c1">#</span>
    <span class="c1"># Attributes are outside of __init__ b/c properties are just instructions</span>
    <span class="c1"># about how to retrieve attributes (getters/setters), and therefore shared</span>
    <span class="c1"># across all instances, not attribute data themselves.</span>
    <span class="c1">#</span>
    <span class="c1"># This section looks ugly, but it allows for the following:</span>
    <span class="c1"># 1. Relationships/checks between header variables can be done in setters</span>
    <span class="c1"># 2. The underlying header array structure is retained, for quick writing.</span>
    <span class="c1"># 3. Header access looks like simple attribute-access syntax.</span>
    <span class="c1">#    Looks funny to read here, but natural to use.</span>

    <span class="c1"># NOTE: To make something read-only, omit second argument to &quot;property&quot;.</span>

    <span class="c1"># FLOATS</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;delta&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;delta&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;delta&#39;</span><span class="p">])</span>
    <span class="n">depmin</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_make_data_func</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="s1">&#39;depmin&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;depmin&#39;</span><span class="p">])</span>
    <span class="n">depmax</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_make_data_func</span><span class="p">(</span><span class="nb">max</span><span class="p">,</span> <span class="s1">&#39;depmax&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;depmax&#39;</span><span class="p">])</span>
    <span class="n">scale</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;scale&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;scale&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;scale&#39;</span><span class="p">])</span>
    <span class="n">odelta</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;odelta&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;odelta&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;odelta&#39;</span><span class="p">])</span>
    <span class="n">b</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    <span class="n">e</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_e</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">])</span>
    <span class="n">o</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;o&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;o&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;o&#39;</span><span class="p">])</span>
    <span class="n">a</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
    <span class="n">internal0</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;internal0&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;internal0&#39;</span><span class="p">))</span>
    <span class="n">t0</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t0&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t0&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t0&#39;</span><span class="p">])</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t1&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t1&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t1&#39;</span><span class="p">])</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t2&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t2&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t2&#39;</span><span class="p">])</span>
    <span class="n">t3</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t3&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t3&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t3&#39;</span><span class="p">])</span>
    <span class="n">t4</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t4&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t4&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t4&#39;</span><span class="p">])</span>
    <span class="n">t5</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t5&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t5&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t5&#39;</span><span class="p">])</span>
    <span class="n">t6</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t6&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t6&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t6&#39;</span><span class="p">])</span>
    <span class="n">t7</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t7&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t7&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t7&#39;</span><span class="p">])</span>
    <span class="n">t8</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t8&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t8&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t8&#39;</span><span class="p">])</span>
    <span class="n">t9</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;t9&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;t9&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;t9&#39;</span><span class="p">])</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">),</span> <span class="n">_reltime_setter</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">])</span>
    <span class="n">stla</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;stla&#39;</span><span class="p">),</span> <span class="n">_geosetter</span><span class="p">(</span><span class="s1">&#39;stla&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;stla&#39;</span><span class="p">])</span>
    <span class="n">stlo</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;stlo&#39;</span><span class="p">),</span> <span class="n">_geosetter</span><span class="p">(</span><span class="s1">&#39;stlo&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;stlo&#39;</span><span class="p">])</span>
    <span class="n">stel</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;stel&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;stel&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;stel&#39;</span><span class="p">])</span>
    <span class="n">stdp</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;stdp&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;stdp&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;stdp&#39;</span><span class="p">])</span>
    <span class="n">evla</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;evla&#39;</span><span class="p">),</span> <span class="n">_geosetter</span><span class="p">(</span><span class="s1">&#39;evla&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;evla&#39;</span><span class="p">])</span>
    <span class="n">evlo</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;evlo&#39;</span><span class="p">),</span> <span class="n">_geosetter</span><span class="p">(</span><span class="s1">&#39;evlo&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;evlo&#39;</span><span class="p">])</span>
    <span class="n">evdp</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;evdp&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;evdp&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;evdp&#39;</span><span class="p">])</span>
    <span class="n">mag</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;mag&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;mag&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;mag&#39;</span><span class="p">])</span>
    <span class="n">user0</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user0&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user0&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user0&#39;</span><span class="p">])</span>
    <span class="n">user1</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user1&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user1&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user1&#39;</span><span class="p">])</span>
    <span class="n">user2</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user2&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user2&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user2&#39;</span><span class="p">])</span>
    <span class="n">user3</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user3&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user3&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user3&#39;</span><span class="p">])</span>
    <span class="n">user4</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user4&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user4&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user4&#39;</span><span class="p">])</span>
    <span class="n">user5</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user5&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user5&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user5&#39;</span><span class="p">])</span>
    <span class="n">user6</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user6&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user6&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user6&#39;</span><span class="p">])</span>
    <span class="n">user7</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user7&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user7&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user7&#39;</span><span class="p">])</span>
    <span class="n">user8</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user8&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user8&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user8&#39;</span><span class="p">])</span>
    <span class="n">user9</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;user9&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;user9&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;user9&#39;</span><span class="p">])</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;dist&#39;</span><span class="p">])</span>
    <span class="n">az</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;az&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;az&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;az&#39;</span><span class="p">])</span>
    <span class="n">baz</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;baz&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;baz&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
    <span class="n">gcarc</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;gcarc&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;gcarc&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;gcarc&#39;</span><span class="p">])</span>
    <span class="n">depmen</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_make_data_func</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span> <span class="s1">&#39;depmen&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;depmen&#39;</span><span class="p">])</span>
    <span class="n">cmpaz</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;cmpaz&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;cmpaz&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;cmpaz&#39;</span><span class="p">])</span>
    <span class="n">cmpinc</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_floatgetter</span><span class="p">(</span><span class="s1">&#39;cmpinc&#39;</span><span class="p">),</span> <span class="n">_floatsetter</span><span class="p">(</span><span class="s1">&#39;cmpinc&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;cmpinc&#39;</span><span class="p">])</span>
    <span class="c1">#</span>
    <span class="c1"># INTS</span>
    <span class="n">nzyear</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nzyear&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nzyear&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nzyear&#39;</span><span class="p">])</span>
    <span class="n">nzjday</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nzjday&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nzjday&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nzjday&#39;</span><span class="p">])</span>
    <span class="n">nzhour</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nzhour&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nzhour&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nzhour&#39;</span><span class="p">])</span>
    <span class="n">nzmin</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nzmin&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nzmin&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nzmin&#39;</span><span class="p">])</span>
    <span class="n">nzsec</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nzsec&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nzsec&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nzsec&#39;</span><span class="p">])</span>
    <span class="n">nzmsec</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nzmsec&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nzmsec&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nzmsec&#39;</span><span class="p">])</span>
    <span class="n">nvhdr</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nvhdr&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nvhdr&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nvhdr&#39;</span><span class="p">])</span>
    <span class="n">norid</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;norid&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;norid&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;norid&#39;</span><span class="p">])</span>
    <span class="n">nevid</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nevid&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nevid&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nevid&#39;</span><span class="p">])</span>
    <span class="n">npts</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_make_data_func</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="s1">&#39;npts&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;npts&#39;</span><span class="p">])</span>
    <span class="n">nwfid</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;nwfid&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;nwfid&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;nwfid&#39;</span><span class="p">])</span>
    <span class="n">iftype</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_enumgetter</span><span class="p">(</span><span class="s1">&#39;iftype&#39;</span><span class="p">),</span> <span class="n">_enumsetter</span><span class="p">(</span><span class="s1">&#39;iftype&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;iftype&#39;</span><span class="p">])</span>
    <span class="n">idep</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_enumgetter</span><span class="p">(</span><span class="s1">&#39;idep&#39;</span><span class="p">),</span> <span class="n">_enumsetter</span><span class="p">(</span><span class="s1">&#39;idep&#39;</span><span class="p">),</span>
                    <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;idep&#39;</span><span class="p">])</span>
    <span class="n">iztype</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_enumgetter</span><span class="p">(</span><span class="s1">&#39;iztype&#39;</span><span class="p">),</span> <span class="n">_set_iztype</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;iztype&#39;</span><span class="p">])</span>
    <span class="n">iinst</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;iinst&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;iinst&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;iinst&#39;</span><span class="p">])</span>
    <span class="n">istreg</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;istreg&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;istreg&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;istreg&#39;</span><span class="p">])</span>
    <span class="n">ievreg</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;ievreg&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;ievreg&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;ievreg&#39;</span><span class="p">])</span>
    <span class="n">ievtyp</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_enumgetter</span><span class="p">(</span><span class="s1">&#39;ievtyp&#39;</span><span class="p">),</span> <span class="n">_enumsetter</span><span class="p">(</span><span class="s1">&#39;ievtyp&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;ievtyp&#39;</span><span class="p">])</span>
    <span class="n">iqual</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;iqual&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;iqual&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;iqual&#39;</span><span class="p">])</span>
    <span class="n">isynth</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_enumgetter</span><span class="p">(</span><span class="s1">&#39;isynth&#39;</span><span class="p">),</span> <span class="n">_enumsetter</span><span class="p">(</span><span class="s1">&#39;isynth&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;isynth&#39;</span><span class="p">])</span>
    <span class="n">imagtyp</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_enumgetter</span><span class="p">(</span><span class="s1">&#39;imagtyp&#39;</span><span class="p">),</span> <span class="n">_enumsetter</span><span class="p">(</span><span class="s1">&#39;imagtyp&#39;</span><span class="p">),</span>
                       <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;imagtyp&#39;</span><span class="p">])</span>
    <span class="n">imagsrc</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_enumgetter</span><span class="p">(</span><span class="s1">&#39;imagsrc&#39;</span><span class="p">),</span> <span class="n">_enumsetter</span><span class="p">(</span><span class="s1">&#39;imagsrc&#39;</span><span class="p">),</span>
                       <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;imagsrc&#39;</span><span class="p">])</span>
    <span class="n">leven</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_boolgetter</span><span class="p">(</span><span class="s1">&#39;leven&#39;</span><span class="p">),</span> <span class="n">_boolsetter</span><span class="p">(</span><span class="s1">&#39;leven&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;leven&#39;</span><span class="p">])</span>
    <span class="n">lpspol</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_boolgetter</span><span class="p">(</span><span class="s1">&#39;lpspol&#39;</span><span class="p">),</span> <span class="n">_boolsetter</span><span class="p">(</span><span class="s1">&#39;lpspol&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;lpspol&#39;</span><span class="p">])</span>
    <span class="n">lovrok</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_boolgetter</span><span class="p">(</span><span class="s1">&#39;lovrok&#39;</span><span class="p">),</span> <span class="n">_boolsetter</span><span class="p">(</span><span class="s1">&#39;lovrok&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;lovrok&#39;</span><span class="p">])</span>
    <span class="n">lcalda</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_boolgetter</span><span class="p">(</span><span class="s1">&#39;lcalda&#39;</span><span class="p">),</span> <span class="n">_set_lcalda</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;lcalda&#39;</span><span class="p">])</span>
    <span class="n">unused23</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_intgetter</span><span class="p">(</span><span class="s1">&#39;unused23&#39;</span><span class="p">),</span> <span class="n">_intsetter</span><span class="p">(</span><span class="s1">&#39;unused23&#39;</span><span class="p">))</span>
    <span class="c1">#</span>
    <span class="c1"># STRINGS</span>
    <span class="n">kstnm</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kstnm&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kstnm&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kstnm&#39;</span><span class="p">])</span>
    <span class="n">kevnm</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_kevnm</span><span class="p">,</span> <span class="n">_set_kevnm</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kevnm&#39;</span><span class="p">])</span>
    <span class="n">khole</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;khole&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;khole&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;khole&#39;</span><span class="p">])</span>
    <span class="n">ko</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;ko&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;ko&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;ko&#39;</span><span class="p">])</span>
    <span class="n">ka</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;ka&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;ka&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;ka&#39;</span><span class="p">])</span>
    <span class="n">kt0</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt0&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt0&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt0&#39;</span><span class="p">])</span>
    <span class="n">kt1</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt1&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt1&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt1&#39;</span><span class="p">])</span>
    <span class="n">kt2</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt2&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt2&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt2&#39;</span><span class="p">])</span>
    <span class="n">kt3</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt3&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt3&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt3&#39;</span><span class="p">])</span>
    <span class="n">kt4</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt4&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt4&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt4&#39;</span><span class="p">])</span>
    <span class="n">kt5</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt5&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt5&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt5&#39;</span><span class="p">])</span>
    <span class="n">kt6</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt6&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt6&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt6&#39;</span><span class="p">])</span>
    <span class="n">kt7</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt7&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt7&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt7&#39;</span><span class="p">])</span>
    <span class="n">kt8</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt8&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt8&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt8&#39;</span><span class="p">])</span>
    <span class="n">kt9</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kt9&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kt9&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kt9&#39;</span><span class="p">])</span>
    <span class="n">kf</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kf&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kf&#39;</span><span class="p">),</span> <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kf&#39;</span><span class="p">])</span>
    <span class="n">kuser0</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kuser0&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kuser0&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kuser0&#39;</span><span class="p">])</span>
    <span class="n">kuser1</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kuser1&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kuser1&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kuser1&#39;</span><span class="p">])</span>
    <span class="n">kuser2</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kuser2&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kuser2&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kuser2&#39;</span><span class="p">])</span>
    <span class="n">kcmpnm</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kcmpnm&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kcmpnm&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kcmpnm&#39;</span><span class="p">])</span>
    <span class="n">knetwk</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;knetwk&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;knetwk&#39;</span><span class="p">),</span>
                      <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;knetwk&#39;</span><span class="p">])</span>
    <span class="n">kdatrd</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kdatrd&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kdatrd&#39;</span><span class="p">))</span>
    <span class="n">kinst</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_strgetter</span><span class="p">(</span><span class="s1">&#39;kinst&#39;</span><span class="p">),</span> <span class="n">_strsetter</span><span class="p">(</span><span class="s1">&#39;kinst&#39;</span><span class="p">),</span>
                     <span class="n">doc</span><span class="o">=</span><span class="n">HD</span><span class="o">.</span><span class="n">DOC</span><span class="p">[</span><span class="s1">&#39;kinst&#39;</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_header</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convenient read-only dictionary of non-null header array values.</span>

<span class="sd">        Header value access should be through instance attributes. All header</span>
<span class="sd">        names and string values are lowercase. Computed every time, so use</span>
<span class="sd">        frugally. See class docstring for header descriptions.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">_io</span><span class="o">.</span><span class="n">header_arrays_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">,</span>
                                        <span class="n">nulls</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">byteorder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The byte order of the underlying header/data arrays.</span>

<span class="sd">        Raises SacError if array byte orders are inconsistent, even in the</span>
<span class="sd">        case where &#39;&lt;&#39; is your native order and byteorders look like</span>
<span class="sd">        &#39;&lt;&#39;, &#39;=&#39;, &#39;=&#39;.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span> <span class="o">==</span>\
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span>
        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Inconsistent header/data byteorders.&#39;</span>
            <span class="k">raise</span> <span class="n">SacError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">bo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span>

        <span class="k">if</span> <span class="n">bo</span> <span class="o">==</span> <span class="s1">&#39;=&#39;</span><span class="p">:</span>
            <span class="n">byteorder</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">byteorder</span>
        <span class="k">elif</span> <span class="n">bo</span> <span class="o">==</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">:</span>
            <span class="n">byteorder</span> <span class="o">=</span> <span class="s1">&#39;little&#39;</span>
        <span class="k">elif</span> <span class="n">bo</span> <span class="o">==</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">:</span>
            <span class="n">byteorder</span> <span class="o">=</span> <span class="s1">&#39;big&#39;</span>

        <span class="k">return</span> <span class="n">byteorder</span>

    <span class="c1"># TODO: make a byteorder setter?</span>
<div class="viewcode-block" id="SACTrace._byteswap"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace._byteswap.html#obspy.io.sac.sactrace.SACTrace._byteswap">[docs]</a>    <span class="k">def</span> <span class="nf">_byteswap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change the underlying byte order and dtype interpretation of the float,</span>
<span class="sd">        int, and (if present) data arrays.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="o">.</span><span class="n">byteswap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">newbyteorder</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="o">.</span><span class="n">byteswap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">newbyteorder</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">byteswap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">newbyteorder</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># if this fails, roll it back?</span>
            <span class="k">raise</span> <span class="n">e</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">reftime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get or set the SAC header reference time as a UTCDateTime instance.</span>

<span class="sd">        reftime is not an attribute, but is constructed and dismantled each</span>
<span class="sd">        time directly to/from the SAC &quot;nz&quot;-time fields.</span>

<span class="sd">        Setting a new reftime shifts all non-null relative time headers</span>
<span class="sd">        accordingly.  It accepts a UTCDateTime object, from which time shifts</span>
<span class="sd">        are calculated.</span>

<span class="sd">        ..rubric:: notes</span>

<span class="sd">        The reftime you supply will be robbed of its remainder microseconds,</span>
<span class="sd">        which are then pushed into the relative time header shifts.  This means</span>
<span class="sd">        that the reftime you observe after you set it here may not exactly</span>
<span class="sd">        match the reftime you supplied; it may be `remainder microseconds`</span>
<span class="sd">        earlier. Nor will the iztype reference header value be exactly zero;</span>
<span class="sd">        it will be equal to `remainder microseconds` (as seconds).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_ut</span><span class="o">.</span><span class="n">get_sac_reftime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_header</span><span class="p">)</span>

    <span class="nd">@reftime</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">reftime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_reftime</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">old_reftime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reftime</span>

            <span class="c1"># find the milliseconds and leftover microseconds for new reftime</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">rem_microsecs</span> <span class="o">=</span> <span class="n">_ut</span><span class="o">.</span><span class="n">split_microseconds</span><span class="p">(</span><span class="n">new_reftime</span><span class="o">.</span><span class="n">microsecond</span><span class="p">)</span>

            <span class="c1"># snap the new reftime to the most recent milliseconds</span>
            <span class="c1"># (subtract the leftover microseconds)</span>
            <span class="n">new_reftime</span><span class="o">.</span><span class="n">microsecond</span> <span class="o">-=</span> <span class="n">rem_microsecs</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">nzyear</span> <span class="o">=</span> <span class="n">new_reftime</span><span class="o">.</span><span class="n">year</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nzjday</span> <span class="o">=</span> <span class="n">new_reftime</span><span class="o">.</span><span class="n">julday</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nzhour</span> <span class="o">=</span> <span class="n">new_reftime</span><span class="o">.</span><span class="n">hour</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nzmin</span> <span class="o">=</span> <span class="n">new_reftime</span><span class="o">.</span><span class="n">minute</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nzsec</span> <span class="o">=</span> <span class="n">new_reftime</span><span class="o">.</span><span class="n">second</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nzmsec</span> <span class="o">=</span> <span class="n">new_reftime</span><span class="o">.</span><span class="n">microsecond</span> <span class="o">/</span> <span class="mi">1000</span>

            <span class="c1"># get the float seconds between the old and new reftimes</span>
            <span class="n">shift</span> <span class="o">=</span> <span class="n">old_reftime</span> <span class="o">-</span> <span class="n">new_reftime</span>

            <span class="c1"># shift the relative time headers</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_allt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">(</span><span class="n">shift</span><span class="p">))</span>

        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;New reference time must be an obspy.UTCDateTime instance.&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="c1"># --------------------------- I/O METHODS ---------------------------------</span>
<div class="viewcode-block" id="SACTrace.read"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.read.html#obspy.io.sac.sactrace.SACTrace.read">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">headonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
             <span class="n">checksize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">debug_strings</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct an instance from a binary or ASCII file on disk.</span>

<span class="sd">        :param source: Full path string for File-like object from a SAC binary</span>
<span class="sd">            file on disk.  If it is an open File object, open &#39;rb&#39;.</span>
<span class="sd">        :type source: str or file</span>
<span class="sd">        :param headonly: If headonly is True, only read the header arrays not</span>
<span class="sd">            the data array.</span>
<span class="sd">        :type headonly: bool</span>
<span class="sd">        :param ascii: If True, file is a SAC ASCII/Alphanumeric file.</span>
<span class="sd">        :type ascii: bool</span>
<span class="sd">        :param byteorder: If omitted or None, automatic byte-order checking is</span>
<span class="sd">            done, starting with native order. If byteorder is specified and</span>
<span class="sd">            incorrect, a :class:`SacIOError` is raised. Only valid for binary</span>
<span class="sd">            files.</span>
<span class="sd">        :type byteorder: str {&#39;little&#39;, &#39;big&#39;}, optional</span>
<span class="sd">        :param checksize: If True, check that the theoretical file size from</span>
<span class="sd">            the header matches the size on disk. Only valid for binary files.</span>
<span class="sd">        :type checksize: bool</span>
<span class="sd">        :param debug_strings: By default, non-ASCII and null-termination</span>
<span class="sd">            characters are removed from character header fields, and those</span>
<span class="sd">            beginning with &#39;-12345&#39; are considered unset. If True, they</span>
<span class="sd">            are instead passed without modification.  Good for debugging.</span>
<span class="sd">        :type debug_strings: bool</span>

<span class="sd">        :raises: :class:`SacIOError` if checksize failed, byteorder was wrong,</span>
<span class="sd">            or header arrays are wrong size.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from obspy.core.util import get_example_file</span>
<span class="sd">        &gt;&gt;&gt; from obspy.io.sac.util import SacInvalidContentError</span>
<span class="sd">        &gt;&gt;&gt; file_ = get_example_file(&quot;test.sac&quot;)</span>
<span class="sd">        &gt;&gt;&gt; sac = SACTrace.read(file_, headonly=True)</span>
<span class="sd">        &gt;&gt;&gt; sac.data is None</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; sac = SACTrace.read(file_, headonly=False)</span>
<span class="sd">        &gt;&gt;&gt; sac.data  # doctest: +ELLIPSIS +NORMALIZE_WHITESPACE</span>
<span class="sd">        array([ -8.74227766e-08,  -3.09016973e-01,  -5.87785363e-01,</span>
<span class="sd">                -8.09017122e-01,  -9.51056600e-01,  -1.00000000e+00,</span>
<span class="sd">                -9.51056302e-01,  -8.09016585e-01,  -5.87784529e-01,</span>
<span class="sd">                ...</span>
<span class="sd">                 8.09022486e-01,   9.51059461e-01,   1.00000000e+00,</span>
<span class="sd">                 9.51053500e-01,   8.09011161e-01,   5.87777138e-01,</span>
<span class="sd">                 3.09007347e-01], dtype=float32)</span>

<span class="sd">        See also: :meth:`SACTrace.validate`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ascii</span><span class="p">:</span>
            <span class="n">hf</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">hs</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">_io</span><span class="o">.</span><span class="n">read_sac_ascii</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">headonly</span><span class="o">=</span><span class="n">headonly</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">hf</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">hs</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">_io</span><span class="o">.</span><span class="n">read_sac</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">headonly</span><span class="o">=</span><span class="n">headonly</span><span class="p">,</span>
                                            <span class="n">byteorder</span><span class="o">=</span><span class="n">byteorder</span><span class="p">,</span>
                                            <span class="n">checksize</span><span class="o">=</span><span class="n">checksize</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">debug_strings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">hs</span><span class="p">):</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">_ut</span><span class="o">.</span><span class="n">_clean_str</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">strip_whitespace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">val</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">native_str</span><span class="p">(</span><span class="s1">&#39;-12345&#39;</span><span class="p">)):</span>
                    <span class="n">val</span> <span class="o">=</span> <span class="n">HD</span><span class="o">.</span><span class="n">SNULL</span>
                <span class="n">hs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

        <span class="n">sac</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_arrays</span><span class="p">(</span><span class="n">hf</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">hs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sac</span><span class="o">.</span><span class="n">dist</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sac</span><span class="o">.</span><span class="n">_set_distances</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">sac</span></div>

<div class="viewcode-block" id="SACTrace.write"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.write.html#obspy.io.sac.sactrace.SACTrace.write">[docs]</a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">headonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">flush_headers</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write the header and (optionally) data arrays to a SAC binary file.</span>

<span class="sd">        :param dest: Full path or File-like object to SAC binary file on disk.</span>
<span class="sd">        :type dest: str or file</span>
<span class="sd">        :param headonly: If headonly is True, only read the header arrays not</span>
<span class="sd">            the data array.</span>
<span class="sd">        :type headonly: bool</span>
<span class="sd">        :param ascii: If True, file is a SAC ASCII/Alphanumeric file.</span>
<span class="sd">        :type ascii: bool</span>
<span class="sd">        :param byteorder: If omitted or None, automatic byte-order checking is</span>
<span class="sd">            done, starting with native order. If byteorder is specified and</span>
<span class="sd">            incorrect, a :class:`SacIOError` is raised. Only valid for binary</span>
<span class="sd">            files.</span>
<span class="sd">        :type byteorder: str {&#39;little&#39;, &#39;big&#39;}, optional</span>
<span class="sd">        :param flush_headers: If True, update data headers like &#39;depmin&#39; and</span>
<span class="sd">            &#39;depmax&#39; with values from the data array.</span>
<span class="sd">        :type flush_headers: bool</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">headonly</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># do a check for float32 data here instead of arrayio.write_sac?</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
            <span class="k">if</span> <span class="n">flush_headers</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_flush_headers</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">ascii</span><span class="p">:</span>
            <span class="n">_io</span><span class="o">.</span><span class="n">write_sac_ascii</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">byteorder</span> <span class="o">=</span> <span class="n">byteorder</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">byteorder</span>
            <span class="n">_io</span><span class="o">.</span><span class="n">write_sac</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
                          <span class="n">byteorder</span><span class="o">=</span><span class="n">byteorder</span><span class="p">)</span></div>

<div class="viewcode-block" id="SACTrace._from_arrays"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace._from_arrays.html#obspy.io.sac.sactrace.SACTrace._from_arrays">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_from_arrays</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">hf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hi</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Low-level array-based constructor.</span>

<span class="sd">        This constructor is good for getting a &quot;blank&quot; SAC object, and is used</span>
<span class="sd">        in other, perhaps more useful, alternate constructors (&quot;See Also&quot;).</span>
<span class="sd">        No value checking is done and header values are completely overwritten</span>
<span class="sd">        with the provided arrays, which is why this is a hidden constructor.</span>

<span class="sd">        :param hf: SAC float header array</span>
<span class="sd">        :type hf: :class:`numpy.ndarray` of floats</span>
<span class="sd">        :param hi: SAC int header array</span>
<span class="sd">        :type hi: :class:`numpy.ndarray` of ints</span>
<span class="sd">        :param hs: SAC string header array</span>
<span class="sd">        :type hs: :class:`numpy.ndarray` of str</span>
<span class="sd">        :param data: SAC data array, optional.</span>

<span class="sd">        If omitted or None, the header arrays are intialized according to</span>
<span class="sd">        :func:`arrayio.init_header_arrays`.  If data is omitted, it is</span>
<span class="sd">        simply set to None on the corresponding :class:`SACTrace`.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; sac = SACTrace._from_arrays()</span>
<span class="sd">        &gt;&gt;&gt; print(sac)  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">        Reference Time = XX/XX/XX (XXX) XX:XX:XX.XXXXXX</span>
<span class="sd">            iztype not set</span>
<span class="sd">        lcalda     = True</span>
<span class="sd">        leven      = False</span>
<span class="sd">        lovrok     = False</span>
<span class="sd">        lpspol     = False</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># use the first byteorder we find, or system byteorder if we</span>
        <span class="c1"># never find any</span>
        <span class="n">bo</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
        <span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="p">(</span><span class="n">hf</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">hs</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">bo</span> <span class="o">=</span> <span class="n">arr</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="c1"># arr is None (not supplied)</span>
                <span class="k">pass</span>
        <span class="n">hf0</span><span class="p">,</span> <span class="n">hi0</span><span class="p">,</span> <span class="n">hs0</span> <span class="o">=</span> <span class="n">_io</span><span class="o">.</span><span class="n">init_header_arrays</span><span class="p">(</span><span class="n">byteorder</span><span class="o">=</span><span class="n">bo</span><span class="p">)</span>
        <span class="c1"># TODO: hf0, hi0, hs0 = _io.init_header_array_values(hf0, hi0, hs0)</span>

        <span class="k">if</span> <span class="n">hf</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">hf</span> <span class="o">=</span> <span class="n">hf0</span>
        <span class="k">if</span> <span class="n">hi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">hi</span> <span class="o">=</span> <span class="n">hi0</span>
        <span class="k">if</span> <span class="n">hs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">hs</span> <span class="o">=</span> <span class="n">hs0</span>

        <span class="c1"># get the default instance, but completely replace the arrays</span>
        <span class="c1"># initializes arrays twice, but it beats converting empty arrays to a</span>
        <span class="c1"># dict and then passing it to __init__, i think...maybe...</span>
        <span class="n">sac</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
        <span class="n">sac</span><span class="o">.</span><span class="n">_hf</span> <span class="o">=</span> <span class="n">hf</span>
        <span class="n">sac</span><span class="o">.</span><span class="n">_hi</span> <span class="o">=</span> <span class="n">hi</span>
        <span class="n">sac</span><span class="o">.</span><span class="n">_hs</span> <span class="o">=</span> <span class="n">hs</span>
        <span class="n">sac</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>

        <span class="k">return</span> <span class="n">sac</span></div>

    <span class="c1"># TO/FROM OBSPY TRACES</span>
<div class="viewcode-block" id="SACTrace.from_obspy_trace"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.from_obspy_trace.html#obspy.io.sac.sactrace.SACTrace.from_obspy_trace">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_obspy_trace</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">trace</span><span class="p">,</span> <span class="n">keep_sac_header</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct an instance from an ObsPy Trace.</span>

<span class="sd">        :param trace: Source Trace object</span>
<span class="sd">        :type trace: :class:`~obspy.core.Trace` instance</span>
<span class="sd">        :param keep_sac_header: If True, any old stats.sac header values are</span>
<span class="sd">            kept as is, and only a minimal set of values are updated from the</span>
<span class="sd">            stats dictionary: npts, e, and data.  If an old iztype and a valid</span>
<span class="sd">            reftime are present, b and e will be properly referenced to it.  If</span>
<span class="sd">            False, a new SAC header is constructed from only information found</span>
<span class="sd">            in the stats dictionary, with some other default values introduced.</span>
<span class="sd">        :type keep_sac_header: bool</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">header</span> <span class="o">=</span> <span class="n">_ut</span><span class="o">.</span><span class="n">obspy_to_sac_header</span><span class="p">(</span><span class="n">trace</span><span class="o">.</span><span class="n">stats</span><span class="p">,</span> <span class="n">keep_sac_header</span><span class="p">)</span>

        <span class="c1"># handle the data headers</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">trace</span><span class="o">.</span><span class="n">data</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># data is a empty numpy.array</span>
                <span class="n">data</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="c1"># data is None</span>
            <span class="n">data</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">byteorder</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="c1"># data is None</span>
            <span class="n">byteorder</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>

        <span class="n">hf</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">hs</span> <span class="o">=</span> <span class="n">_io</span><span class="o">.</span><span class="n">dict_to_header_arrays</span><span class="p">(</span><span class="n">header</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="n">byteorder</span><span class="p">)</span>
        <span class="n">sac</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_arrays</span><span class="p">(</span><span class="n">hf</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">hs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="c1"># sac._flush_headers()</span>

        <span class="k">return</span> <span class="n">sac</span></div>

<div class="viewcode-block" id="SACTrace.to_obspy_trace"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.to_obspy_trace.html#obspy.io.sac.sactrace.SACTrace.to_obspy_trace">[docs]</a>    <span class="k">def</span> <span class="nf">to_obspy_trace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug_headers</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return an ObsPy Trace instance.</span>

<span class="sd">        Required headers: nz-time fields, npts, delta, calib, kcmpnm, kstnm,</span>
<span class="sd">        ...?</span>

<span class="sd">        :param debug_headers: Include _all_ SAC headers into the</span>
<span class="sd">            Trace.stats.sac dictionary.</span>
<span class="sd">        :type debug_headers: bool</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from obspy.core.util import get_example_file</span>
<span class="sd">        &gt;&gt;&gt; file_ = get_example_file(&quot;test.sac&quot;)</span>
<span class="sd">        &gt;&gt;&gt; sac = SACTrace.read(file_, headonly=True)</span>
<span class="sd">        &gt;&gt;&gt; tr = sac.to_obspy_trace()</span>
<span class="sd">        &gt;&gt;&gt; print(tr)  # doctest: +ELLIPSIS</span>
<span class="sd">        .STA..Q | 1978-07-18T08:00:10.000000Z - ... | 1.0 Hz, 100 samples</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># make the obspy test for tests/data/testxy.sac pass</span>
        <span class="c1"># ObsPy does not require a valid reftime</span>
        <span class="c1"># try:</span>
        <span class="c1">#     self.validate(&#39;reftime&#39;)</span>
        <span class="c1"># except SacInvalidContentError:</span>
        <span class="c1">#     if not self.nzyear:</span>
        <span class="c1">#         self.nzyear = 1970</span>
        <span class="c1">#     if not self.nzjday:</span>
        <span class="c1">#         self.nzjday = 1</span>
        <span class="c1">#     for hdr in [&#39;nzhour&#39;, &#39;nzmin&#39;, &#39;nzsec&#39;, &#39;nzmsec&#39;]:</span>
        <span class="c1">#         if not getattr(self, hdr):</span>
        <span class="c1">#             setattr(self, hdr, 0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;delta&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># headonly is True</span>
            <span class="c1"># Make it something palatable to ObsPy</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([],</span> <span class="n">dtype</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">byteorder</span> <span class="o">+</span> <span class="s1">&#39;f4&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>

        <span class="n">sachdr</span> <span class="o">=</span> <span class="n">_io</span><span class="o">.</span><span class="n">header_arrays_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">,</span>
                                           <span class="n">nulls</span><span class="o">=</span><span class="n">debug_headers</span><span class="p">)</span>
        <span class="c1"># TODO: logic to use debug_headers for real</span>

        <span class="n">stats</span> <span class="o">=</span> <span class="n">_ut</span><span class="o">.</span><span class="n">sac_to_obspy_header</span><span class="p">(</span><span class="n">sachdr</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Trace</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">stats</span><span class="p">)</span></div>

    <span class="c1"># ---------------------- other properties/methods -------------------------</span>
<div class="viewcode-block" id="SACTrace.validate"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.validate.html#obspy.io.sac.sactrace.SACTrace.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">tests</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check validity of loaded SAC file content, such as header/data</span>
<span class="sd">        consistency.</span>

<span class="sd">        :param tests: One or more of the following validity tests:</span>
<span class="sd">            &#39;delta&#39; : Time step &quot;delta&quot; is positive.</span>
<span class="sd">            &#39;logicals&#39; : Logical values are 0, 1, or null</span>
<span class="sd">            &#39;data_hdrs&#39; : Length, min, mean, max of data array match header</span>
<span class="sd">                values.</span>
<span class="sd">            &#39;enums&#39; : Check validity of enumerated values.</span>
<span class="sd">            &#39;reftime&#39; : Reference time values in header are all set.</span>
<span class="sd">            &#39;reltime&#39; : Relative time values in header are absolutely</span>
<span class="sd">                referenced.</span>
<span class="sd">            &#39;all&#39; : Do all tests.</span>
<span class="sd">        :type tests: str</span>

<span class="sd">        :raises: :class:`SacInvalidContentError` if any of the specified tests</span>
<span class="sd">            fail. :class:`ValueError` if &#39;data_hdrs&#39; is specified and data is</span>
<span class="sd">            None, empty array, or no tests specified.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from obspy.core.util import get_example_file</span>
<span class="sd">        &gt;&gt;&gt; from obspy.io.sac.util import SacInvalidContentError</span>
<span class="sd">        &gt;&gt;&gt; file_ = get_example_file(&quot;LMOW.BHE.SAC&quot;)</span>
<span class="sd">        &gt;&gt;&gt; sac = SACTrace.read(file_)</span>
<span class="sd">        &gt;&gt;&gt; # make the time step invalid, catch it, and fix it</span>
<span class="sd">        &gt;&gt;&gt; sac.delta *= -1.0</span>
<span class="sd">        &gt;&gt;&gt; try:</span>
<span class="sd">        ...     sac.validate(&#39;delta&#39;)</span>
<span class="sd">        ... except SacInvalidContentError as e:</span>
<span class="sd">        ...     sac.delta *= -1.0</span>
<span class="sd">        ...     sac.validate(&#39;delta&#39;)</span>
<span class="sd">        &gt;&gt;&gt; # make the data and depmin/men/max not match, catch the validation</span>
<span class="sd">        &gt;&gt;&gt; # error, then fix (flush) the headers so that they validate</span>
<span class="sd">        &gt;&gt;&gt; sac.data += 5.0</span>
<span class="sd">        &gt;&gt;&gt; try:</span>
<span class="sd">        ...     sac.validate(&#39;data_hdrs&#39;)</span>
<span class="sd">        ... except SacInvalidContentError:</span>
<span class="sd">        ...     sac._flush_headers()</span>
<span class="sd">        ...     sac.validate(&#39;data_hdrs&#39;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_io</span><span class="o">.</span><span class="n">validate_sac_content</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
                                 <span class="o">*</span><span class="n">tests</span><span class="p">)</span></div>

<div class="viewcode-block" id="SACTrace._format_header_str"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace._format_header_str.html#obspy.io.sac.sactrace.SACTrace._format_header_str">[docs]</a>    <span class="k">def</span> <span class="nf">_format_header_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdrlist</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Produce a print-friendly string of header values for __repr__ ,</span>
<span class="sd">        .listhdr(), and .lh()</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># interpret hdrlist</span>
        <span class="k">if</span> <span class="n">hdrlist</span> <span class="o">==</span> <span class="s1">&#39;all&#39;</span><span class="p">:</span>
            <span class="n">hdrlist</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_header</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">elif</span> <span class="n">hdrlist</span> <span class="o">==</span> <span class="s1">&#39;picks&#39;</span><span class="p">:</span>
            <span class="n">hdrlist</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;t0&#39;</span><span class="p">,</span> <span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">,</span> <span class="s1">&#39;t3&#39;</span><span class="p">,</span> <span class="s1">&#39;t4&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;t5&#39;</span><span class="p">,</span> <span class="s1">&#39;t6&#39;</span><span class="p">,</span> <span class="s1">&#39;t7&#39;</span><span class="p">,</span> <span class="s1">&#39;t8&#39;</span><span class="p">,</span> <span class="s1">&#39;t9&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Unrecognized hdrlist &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">hdrlist</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># start building header string</span>
        <span class="c1">#</span>
        <span class="c1"># reference time</span>
        <span class="n">header_str</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">timefmt</span> <span class="o">=</span> <span class="s2">&quot;Reference Time = %m/</span><span class="si">%d</span><span class="s2">/%Y (%j) %H:%M:%S.</span><span class="si">%f</span><span class="s2">&quot;</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reftime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">timefmt</span><span class="p">))</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">SacError</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Reference time information incomplete.&quot;</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">notime_str</span> <span class="o">=</span> <span class="s2">&quot;Reference Time = XX/XX/XX (XXX) XX:XX:XX.XXXXXX&quot;</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">notime_str</span><span class="p">)</span>
        <span class="c1">#</span>
        <span class="c1"># reftime type</span>
        <span class="c1"># TODO: use enumerated value dict here?</span>
        <span class="n">iztype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iztype</span>
        <span class="k">if</span> <span class="n">iztype</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">iztype not set&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">iztype</span> <span class="o">==</span> <span class="s1">&#39;ib&#39;</span><span class="p">:</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">iztype IB: begin time&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">iztype</span> <span class="o">==</span> <span class="s1">&#39;io&#39;</span><span class="p">:</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">iztype IO: origin time&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">iztype</span> <span class="o">==</span> <span class="s1">&#39;ia&#39;</span><span class="p">:</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">iztype IA: first arrival time&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">iztype</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span>
            <span class="n">vals</span> <span class="o">=</span> <span class="p">(</span><span class="n">iztype</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">iztype</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
            <span class="n">izfmt</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">iztype </span><span class="si">{}</span><span class="s2">: user-defined time </span><span class="si">{}</span><span class="s2">&quot;</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">izfmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">vals</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">iztype</span> <span class="o">==</span> <span class="s1">&#39;iunkn&#39;</span><span class="p">:</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">iztype IUNKN (Unknown)&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">unrecognized iztype: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">iztype</span><span class="p">))</span>
        <span class="c1">#</span>
        <span class="c1"># non-null headers</span>
        <span class="n">hdrfmt</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:10.10s}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">hdr</span> <span class="ow">in</span> <span class="n">hdrlist</span><span class="p">:</span>
            <span class="c1"># XXX: non-null header values might have no property for getattr</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hdrfmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">hdr</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdr</span><span class="p">)))</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">header_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hdrfmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">hdr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_header</span><span class="p">[</span><span class="n">hdr</span><span class="p">]))</span>

        <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">header_str</span><span class="p">)</span></div>

<div class="viewcode-block" id="SACTrace.listhdr"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.listhdr.html#obspy.io.sac.sactrace.SACTrace.listhdr">[docs]</a>    <span class="k">def</span> <span class="nf">listhdr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdrlist</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print header values.</span>

<span class="sd">        Default is all non-null values.</span>

<span class="sd">        :param hdrlist: Which header fields to you want to list. Choose one of</span>
<span class="sd">            {&#39;all&#39;, &#39;picks&#39;} or iterable of header fields.  An iterable of</span>
<span class="sd">            header fields can look like &#39;bea&#39; or (&#39;b&#39;, &#39;e&#39;, &#39;a&#39;).</span>

<span class="sd">            &#39;all&#39; (default) prints all non-null values.</span>
<span class="sd">            &#39;picks&#39; prints fields which are used to define time picks.</span>

<span class="sd">        An iterable of header fields can look like &#39;bea&#39; or (&#39;b&#39;, &#39;e&#39;, &#39;a&#39;).</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from obspy.core.util import get_example_file</span>
<span class="sd">        &gt;&gt;&gt; file_ = get_example_file(&quot;LMOW.BHE.SAC&quot;)</span>
<span class="sd">        &gt;&gt;&gt; sac = SACTrace.read(file_)</span>
<span class="sd">        &gt;&gt;&gt; sac.lh()  # doctest: +NORMALIZE_WHITESPACE +ELLIPSIS</span>
<span class="sd">        Reference Time = 04/10/2001 (100) 00:23:00.465000</span>
<span class="sd">           iztype IB: begin time</span>
<span class="sd">        a          = 0.0</span>
<span class="sd">        b          = 0.0</span>
<span class="sd">        delta      = 0.009999999...</span>
<span class="sd">        depmax     = 0.003305610...</span>
<span class="sd">        depmen     = 0.00243799...</span>
<span class="sd">        depmin     = 0.00148824...</span>
<span class="sd">        e          = 0.98999997...</span>
<span class="sd">        iftype     = itime</span>
<span class="sd">        iztype     = ib</span>
<span class="sd">        kcmpnm     = BHE</span>
<span class="sd">        kevnm      = None</span>
<span class="sd">        kstnm      = LMOW</span>
<span class="sd">        lcalda     = True</span>
<span class="sd">        leven      = True</span>
<span class="sd">        lpspol     = False</span>
<span class="sd">        nevid      = 0</span>
<span class="sd">        norid      = 0</span>
<span class="sd">        npts       = 100</span>
<span class="sd">        nvhdr      = 6</span>
<span class="sd">        nzhour     = 0</span>
<span class="sd">        nzjday     = 100</span>
<span class="sd">        nzmin      = 23</span>
<span class="sd">        nzmsec     = 465</span>
<span class="sd">        nzsec      = 0</span>
<span class="sd">        nzyear     = 2001</span>
<span class="sd">        stla       = -39.409999...</span>
<span class="sd">        stlo       = 175.75</span>
<span class="sd">        unused23   = 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># https://ds.iris.edu/files/sac-manual/commands/listhdr.html</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_header_str</span><span class="p">(</span><span class="n">hdrlist</span><span class="p">))</span></div>

<div class="viewcode-block" id="SACTrace.lh"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.lh.html#obspy.io.sac.sactrace.SACTrace.lh">[docs]</a>    <span class="k">def</span> <span class="nf">lh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Alias of listhdr method.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listhdr</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="SACTrace.__str__"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.__str__.html#obspy.io.sac.sactrace.SACTrace.__str__">[docs]</a>    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_header_str</span><span class="p">()</span></div>

<div class="viewcode-block" id="SACTrace.__repr__"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.__repr__.html#obspy.io.sac.sactrace.SACTrace.__repr__">[docs]</a>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># XXX: run self._flush_headers first?</span>
        <span class="c1"># TODO: make this somehow more readable.</span>
        <span class="n">h</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_header</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">fmt</span> <span class="o">=</span> <span class="s2">&quot;, </span><span class="si">{}</span><span class="s2">=</span><span class="si">{!r}</span><span class="s2">&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
        <span class="n">argstr</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">h</span><span class="p">))[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="n">argstr</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span></div>

<div class="viewcode-block" id="SACTrace.copy"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace.copy.html#obspy.io.sac.sactrace.SACTrace.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="SACTrace._flush_headers"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace._flush_headers.html#obspy.io.sac.sactrace.SACTrace._flush_headers">[docs]</a>    <span class="k">def</span> <span class="nf">_flush_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Flush to the header arrays any header property values that may not be</span>
<span class="sd">        reflected there, such as data min/max/mean, npts, e.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># XXX: do I really care which byte order it is?</span>
        <span class="c1"># self.data = np.require(self.data, native_str(&#39;&lt;f4&#39;))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hi</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">INTHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;npts&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">npts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">e</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;depmin&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depmin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;depmax&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depmax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;depmen&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depmen</span></div>

<div class="viewcode-block" id="SACTrace._allt"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace._allt.html#obspy.io.sac.sactrace.SACTrace._allt">[docs]</a>    <span class="k">def</span> <span class="nf">_allt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shift</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Shift all relative time headers by some value (addition).</span>

<span class="sd">        Similar to SAC&#39;s &quot;chnhdr allt&quot;.</span>

<span class="sd">        Note</span>
<span class="sd">        ----</span>
<span class="sd">        This method is triggered by setting an instance&#39;s iztype or changing</span>
<span class="sd">        its reference time, which is the most likely use case for this</span>
<span class="sd">        functionality.  If what you&#39;re trying to do is set an origin time and</span>
<span class="sd">        make a file origin-based:</span>

<span class="sd">        SAC&gt; CHNHDR O GMT 1982 123 13 37 10 103</span>
<span class="sd">        SAC&gt;  LISTHDR O</span>
<span class="sd">        O 123.103</span>
<span class="sd">        SAC&gt;  CHNHDR ALLT -123.103 IZTYPE IO</span>

<span class="sd">        ...it is recommended to just make sure your target reference header is</span>
<span class="sd">        set and correct, and set the iztype:</span>

<span class="sd">        &gt;&gt;&gt; from obspy import UTCDateTime</span>
<span class="sd">        &gt;&gt;&gt; from obspy.core.util import get_example_file</span>
<span class="sd">        &gt;&gt;&gt; file_ = get_example_file(&quot;test.sac&quot;)</span>
<span class="sd">        &gt;&gt;&gt; sac = SACTrace.read(file_)</span>
<span class="sd">        &gt;&gt;&gt; sac.o = UTCDateTime(year=1982, julday=123,</span>
<span class="sd">        ...                     hour=13, minute=37,</span>
<span class="sd">        ...                     second=10, microsecond=103)</span>
<span class="sd">        &gt;&gt;&gt; sac.iztype = &#39;io&#39;</span>

<span class="sd">        The iztype setter will deal with shifting the time values.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">hdr</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdr</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdr</span><span class="p">,</span> <span class="n">val</span> <span class="o">+</span> <span class="n">shift</span><span class="p">)</span></div>

<div class="viewcode-block" id="SACTrace._set_distances"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.sac.sactrace.SACTrace._set_distances.html#obspy.io.sac.sactrace.SACTrace._set_distances">[docs]</a>    <span class="k">def</span> <span class="nf">_set_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate dist, az, baz, gcarc.  If force=True, ignore lcalda.</span>
<span class="sd">        Raises SacHeaderError if force=True and geographic headers are unset.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lcalda</span> <span class="ow">or</span> <span class="n">force</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">m</span><span class="p">,</span> <span class="n">az</span><span class="p">,</span> <span class="n">baz</span> <span class="o">=</span> <span class="n">gps2dist_azimuth</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evla</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">evlo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stla</span><span class="p">,</span>
                                              <span class="bp">self</span><span class="o">.</span><span class="n">stlo</span><span class="p">)</span>
                <span class="n">dist</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="mf">1000.0</span>
                <span class="n">gcarc</span> <span class="o">=</span> <span class="n">kilometer2degrees</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;az&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">az</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;baz&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">baz</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">dist</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_hf</span><span class="p">[</span><span class="n">HD</span><span class="o">.</span><span class="n">FLOATHDRS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;gcarc&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">gcarc</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="c1"># one or more of the geographic values is None</span>
                <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Not enough information to calculate distance, &quot;</span>
                           <span class="s2">&quot;azimuth.&quot;</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">SacHeaderError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div></div>
</pre></div>

</div>

<footer>
<p class="text-muted small">
By the <a href="https://github.com/orgs/obspy/people">ObsPy
Development Team</a> and many <a href="#contributers" role="button"
data-toggle="modal" data-target="#contributers">Awesome Contributors</a>™ &nbsp;|&nbsp; Built with
<a href="http://getbootstrap.com/">Bootstrap</a> and
<a href="http://glyphicons.com//">Glyphicons</a> &nbsp;|&nbsp; Copyright 2008-2016
</p>
</footer>
<div id="contributers" class="modal fade" tabindex="-1"
role="dialog" aria-labelledby="contributersLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal"
aria-hidden="true">&times;</button>
<h3 class="modal-title" id="contributersLabel">Thank you!</h3>
</div>
<div class="modal-body">
<p>We would like to thank our contributors, whose efforts make
this software what it is. These people have helped by writing code
and documentation, and by testing. They have created and
maintained this product, its associated libraries and
applications, our build tools and our web sites.</p>
<h4>Contributors</h4>
<div class="container-fluid">
<div class="row">
<div class="col-md-6">
<ul>
<li>Ammon, Charles J.</li>
<li>Arnarsson, Ólafur St.</li>
<li>Barsch, Robert</li>
<li>Bernardi, Fabrizio</li>
<li>Beyreuther, Moritz</li>
<li>Carothers, Lloyd</li>
<li>Egdorf, Sven</li>
<li>Ermert, Laura</li>
<li>Fabbri, Tommaso</li>
<li>Grunberg, Marc</li>
<li>Heimann, Sebastian</li>
<li>Hope, Gaute</li>
<li>Inza, Adolfo</li>
<li>Ketchum, David</li>
<li>Kremers, Simon</li>
<li>Krieger, Lars</li>
<li>Käufl, Paul</li>
<li>Lecocq, Thomas</li>
<li>Lesage, Philippe</li>
<li>Lopes, Rui L.</li>
<li>Maggi, Alessia</li>
<li>Megies, Tobias</li>
<li>Michelini, Alberto</li>
<li>Morgenstern, Bernhard</li>
<li>Panning, Mark P.</li>
<li>Reyes, Celso</li>
<li>Rothenhäusler, Nicolas</li>
<li>Sales de Andrade, Elliott</li>
<li>Saul, Joachim</li>
<li>Sippl, Christian</li>
<li>Stange, Stefan</li>
<li>Trabant, Chad</li>
<li>Walker, Andrew</li>
<li>Wassermann, Joachim</li>
<li>Winkelman, Andrew</li>
<li>van Driel, Martin</li>
</ul>
</div>
<div class="col-md-6">
<ul>
<li>Antunes, Emanuel</li>
<li>Bank, Markus</li>
<li>Behr, Yannik</li>
<li>Bernauer, Felix</li>
<li>Bonaimé, Sébastien</li>
<li>Danecek, Peter</li>
<li>Engels, Fabian</li>
<li>Eulenfeld, Tom</li>
<li>Grellier, Clément</li>
<li>Hammer, Conny</li>
<li>Heiniger, Lukas</li>
<li>Igel, Heiner</li>
<li>Isken, Marius</li>
<li>Koymans, Mathijs</li>
<li>Kress, Victor</li>
<li>Krischer, Lion</li>
<li>Köhler, Andreas</li>
<li>Leeman, John</li>
<li>Lomax, Anthony</li>
<li>MacCarthy, Jonathan</li>
<li>Martin, Henri</li>
<li>Meschede, Matthias</li>
<li>Miller, Nathaniel C.</li>
<li>Nof, Ran Novitsky</li>
<li>Rapagnani, Giovanni</li>
<li>Ringler, Adam</li>
<li>Russo, Emiliano</li>
<li>Satriano, Claudio</li>
<li>Scheingraber, Chris</li>
<li>Snoke, Arthur</li>
<li>Sullivan, Benjamin</li>
<li>Uieda, Leonardo</li>
<li>Walther, Marcus</li>
<li>Williams, Mark C.</li>
<li>Zad, Seyed Kasra Hosseini</li>
</ul>
</div>
</div>
</div>
<h4>Funds</h4>
<p>ObsPy was partially funded by the</p>
<ul>
<li>German Science Foundation (DFG) via grant DFG IG 16/9-1</li>
<li>German Ministry for Education and Research (BMBF), GEOTECHNOLOGIEN grant 03G0646H.</li>
<li>NERA project (Network of European Research Infrastructures for Earthquake Risk Assessment and Mitigation) under the European Community&#39;s Seventh Framework Programme (FP7/2007-2013) grant agreement n° 262330</li>
<li>Leibniz Institute for Applied Geophysics (LIAG)</li>
<li>VERCE EU-FP7 project (no. 283543)</li>
</ul>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>

</div>


  </body>
</html>