<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>obspy.io.nied.knet &#8212; ObsPy Documentation (1.0.3)</title>
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/font.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/base.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript">
  var shiftWindow = function() { scrollBy(0, -70) };
  if (location.hash) shiftWindow();
  window.addEventListener("hashchange", shiftWindow);
</script>

  </head>
  <body>
<div id="wrapper">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">
<button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a href="/" class="navbar-brand" title="Home"><span class="icon-obspy"></span>&nbsp;ObsPy</a>
</div>
<div class="navbar-collapse collapse">
<form class="navbar-form navbar-right" role="search" method="get" action="http://docs.obspy.org/search.html">
<div class="form-group">
<input type="text" class="form-control" placeholder="Search Docs" name="q">
</div>
</form>
<ul class="nav navbar-nav navbar-right">
<li><a href="https://github.com/obspy/obspy/" title="GitHub"><span class="icon-github iconx2"></span><span class="hidden-sm">&nbsp;GitHub</span></a></li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Documentation"><span class="glyphicon glyphicon-book iconx2"></span><span class="hidden-sm">&nbsp;Documentation</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Getting&nbsp;Started</li>
<li><a href="https://github.com/obspy/obspy/wiki#installation">Installation</a></li>
<li><a href="https://tutorial.obspy.org/">Tutorial</a></li>
<li><a href="http://gallery.obspy.org/">Gallery</a></li>
<li><a href="https://docs.obspy.org/">API&nbsp;Documentation&nbsp;(latest&nbsp;release)</a></li>
<li><a href="https://docs.obspy.org/master/">API&nbsp;Documentation&nbsp;(current&nbsp;master)</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Mailing&nbsp;Lists"><span class="glyphicon glyphicon-envelope iconx2"></span><span class="hidden-sm">&nbsp;Mailing&nbsp;Lists</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Announcements&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-announcements"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-announcements/"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archive</a></li>
<li class="divider"></li>
<li class="dropdown-header">Users&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-users"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-users"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archives</a></li>
<li><a href="mailto:users@obspy.org"><span class="glyphicon glyphicon-envelope"></span>&nbsp;Post&nbsp;a&nbsp;message</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Developer&nbsp;Resources"><span class="glyphicon glyphicon-cog iconx2"></span><span class="hidden-sm">&nbsp;Developer&nbsp;Resources</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="https://gitter.im/obspy/obspy">Gitter</a></li>
<li><a href="https://github.com/obspy/obspy/blob/master/.github/CONTRIBUTING.md">How&nbsp;to&nbsp;contribute</a></li>
<li><a href="http://docs.obspy.org/coding_style.html">Coding&nbsp;Style&nbsp;Guide</a></li>
<li><a href="https://github.com/obspy/obspy/releases/">All&nbsp;Releases</a></li>
<li class="divider"></li>
<li class="dropdown-header">Code&nbsp;Analysis</li>
<li><a href="http://docs.obspy.org/master/pep8/index.html">PEP8</a></li>
<li><a href="http://docs.obspy.org/master/coverage/index.html">Python&nbsp;Coverage</a></li>
<li><a href="http://docs.obspy.org/master/c_coverage/index.html">C&nbsp;Coverage</a></li>
<li><a href="https://coveralls.io/r/obspy/obspy?branch=master">Coveralls</a></li>
<li class="divider"></li>
<li class="dropdown-header">Continuous&nbsp;Integration</li>
<li><a href="http://tests.obspy.org/">Test&nbsp;Reports</a></li>
<li><a href="https://travis-ci.org/obspy/obspy/"><span class="icon-travis"></span>&nbsp;Travis&nbsp;CI</a></li>
<li><a href="https://ci.appveyor.com/project/obspy/obspy"><span class="icon-appveyor"></span>&nbsp;AppVeyor</a></li>
</ul>
</li>
</ul>
</div>
</div>
</nav>

<div id="content" class="container">
  
    <div class="breadcrumb pull-right"><a href="../../../../genindex.html" title="General Index"
         accesskey="I">index</a><span style="color: #ccc; padding: 0 5px;">| </span><a href="../../../../py-modindex.html" title="Python Module Index"
         >modules</a>
    </div>
    <ol class="breadcrumb">
        <li><a href="../../../../contents.html">ObsPy Documentation (1.0.3)</a></li>
        <li><a href="../../../index.html" accesskey="U">Module code</a></li> 
    </ol>
  
  <h1>Source code for obspy.io.nied.knet</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Reading of the K-NET and KiK-net ASCII format as defined on</span>
<span class="sd">http://www.kyoshin.bosai.go.jp.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="p">(</span><span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span>
                        <span class="n">unicode_literals</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">future.builtins</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA @UnusedWildImport</span>

<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">obspy</span> <span class="k">import</span> <span class="n">UTCDateTime</span><span class="p">,</span> <span class="n">Stream</span><span class="p">,</span> <span class="n">Trace</span>
<span class="kn">from</span> <span class="nn">obspy.core.trace</span> <span class="k">import</span> <span class="n">Stats</span>


<div class="viewcode-block" id="KNETException"><a class="viewcode-back" href="../../../../packages/obspy.io.nied.knet.KNETException.html#obspy.io.nied.knet.KNETException">[docs]</a><span class="k">class</span> <span class="nc">KNETException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="_buffer_proxy"><a class="viewcode-back" href="../../../../packages/obspy.io.nied.knet._buffer_proxy.html#obspy.io.nied.knet._buffer_proxy">[docs]</a><span class="k">def</span> <span class="nf">_buffer_proxy</span><span class="p">(</span><span class="n">filename_or_buf</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">reset_fp</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">file_mode</span><span class="o">=</span><span class="s2">&quot;rb&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calls a function with an open file or file-like object as the first</span>
<span class="sd">    argument. If the file originally was a filename, the file will be</span>
<span class="sd">    opened, otherwise it will just be passed to the underlying function.</span>

<span class="sd">    :param filename_or_buf: File to pass.</span>
<span class="sd">    :type filename_or_buf: str, open file, or file-like object.</span>
<span class="sd">    :param function: The function to call.</span>
<span class="sd">    :param reset_fp: If True, the file pointer will be set to the initial</span>
<span class="sd">        position after the function has been called.</span>
<span class="sd">    :type reset_fp: bool</span>
<span class="sd">    :param file_mode: Mode to open file in if necessary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">position</span> <span class="o">=</span> <span class="n">filename_or_buf</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
        <span class="n">is_buffer</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">is_buffer</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="n">is_buffer</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">ret_val</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">filename_or_buf</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">reset_fp</span><span class="p">:</span>
            <span class="n">filename_or_buf</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret_val</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename_or_buf</span><span class="p">,</span> <span class="n">file_mode</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">function</span><span class="p">(</span><span class="n">fh</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="_is_knet_ascii"><a class="viewcode-back" href="../../../../packages/obspy.io.nied.knet._is_knet_ascii.html#obspy.io.nied.knet._is_knet_ascii">[docs]</a><span class="k">def</span> <span class="nf">_is_knet_ascii</span><span class="p">(</span><span class="n">filename_or_buf</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if the file is a valid K-NET/KiK-net ASCII file.</span>

<span class="sd">    :param filename_or_buf: File to test.</span>
<span class="sd">    :type filename_or_buf: str or file-like object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_buffer_proxy</span><span class="p">(</span><span class="n">filename_or_buf</span><span class="p">,</span> <span class="n">_internal_is_knet_ascii</span><span class="p">,</span>
                             <span class="n">reset_fp</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># Happens for example when passing the data as a string which would be</span>
    <span class="c1"># interpreted as a filename.</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">UnicodeDecodeError</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="_internal_is_knet_ascii"><a class="viewcode-back" href="../../../../packages/obspy.io.nied.knet._internal_is_knet_ascii.html#obspy.io.nied.knet._internal_is_knet_ascii">[docs]</a><span class="k">def</span> <span class="nf">_internal_is_knet_ascii</span><span class="p">(</span><span class="n">buf</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if the file is a valid K-NET/KiK-net ASCII file.</span>

<span class="sd">    :param buf: File to read.</span>
<span class="sd">    :type buf: Open file or open file like object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">first_string</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="c1"># File has less than 11 characters</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">first_string</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">11</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">first_string</span> <span class="o">==</span> <span class="s1">&#39;Origin Time&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="_prep_hdr_line"><a class="viewcode-back" href="../../../../packages/obspy.io.nied.knet._prep_hdr_line.html#obspy.io.nied.knet._prep_hdr_line">[docs]</a><span class="k">def</span> <span class="nf">_prep_hdr_line</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function to check the contents of a header line and split it.</span>

<span class="sd">    :param name: String that the line should start with.</span>
<span class="sd">    :type name: str</span>
<span class="sd">    :param line: Line to check and split.</span>
<span class="sd">    :type line: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">KNETException</span><span class="p">(</span><span class="s2">&quot;Expected line to start with </span><span class="si">%s</span><span class="s2"> but got </span><span class="si">%s</span><span class="s2"> &quot;</span>
                            <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span></div>


<div class="viewcode-block" id="_read_knet_hdr"><a class="viewcode-back" href="../../../../packages/obspy.io.nied.knet._read_knet_hdr.html#obspy.io.nied.knet._read_knet_hdr">[docs]</a><span class="k">def</span> <span class="nf">_read_knet_hdr</span><span class="p">(</span><span class="n">hdrlines</span><span class="p">,</span> <span class="n">convert_stnm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the header values into a dictionary.</span>

<span class="sd">    :param hdrlines: List of the header lines of a a K-NET/KiK-net ASCII file</span>
<span class="sd">    :type hdrlines: list</span>
<span class="sd">    :param convert_stnm: For station names with 6 letters write the last two</span>
<span class="sd">        letters of the station code to the &#39;location&#39; field</span>
<span class="sd">    :type convert_stnm: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">hdrdict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;knet&#39;</span><span class="p">:</span> <span class="p">{}}</span>
    <span class="n">hdrnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Origin Time&#39;</span><span class="p">,</span> <span class="s1">&#39;Lat.&#39;</span><span class="p">,</span> <span class="s1">&#39;Long.&#39;</span><span class="p">,</span> <span class="s1">&#39;Depth. (km)&#39;</span><span class="p">,</span> <span class="s1">&#39;Mag.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Station Code&#39;</span><span class="p">,</span> <span class="s1">&#39;Station Lat.&#39;</span><span class="p">,</span> <span class="s1">&#39;Station Long.&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Station Height(m)&#39;</span><span class="p">,</span> <span class="s1">&#39;Record Time&#39;</span><span class="p">,</span> <span class="s1">&#39;Sampling Freq(Hz)&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Duration Time(s)&#39;</span><span class="p">,</span> <span class="s1">&#39;Dir.&#39;</span><span class="p">,</span> <span class="s1">&#39;Scale Factor&#39;</span><span class="p">,</span> <span class="s1">&#39;Max. Acc. (gal)&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Last Correction&#39;</span><span class="p">,</span> <span class="s1">&#39;Memo.&#39;</span><span class="p">]</span>
    <span class="n">_i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Event information</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">flds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">UTCDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="s1">&#39;%Y/%m/</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span>
    <span class="c1"># All times are in Japanese standard time which is 9 hours ahead of UTC</span>
    <span class="n">dt</span> <span class="o">-=</span> <span class="mi">9</span> <span class="o">*</span> <span class="mf">3600.</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;evot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dt</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">lat</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;evla&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lat</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">lon</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;evlo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lon</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">dp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;evdp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">mag</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mag</span>

    <span class="c1"># Station information</span>
    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="c1"># K-NET and KiK-Net station names can be more than 5 characters long</span>
    <span class="c1"># which will cause the station name to be truncated when writing the</span>
    <span class="c1"># the trace as miniSEED; if convert_stnm is enabled, the last two</span>
    <span class="c1"># letters of the station code are written to the &#39;location&#39; field</span>
    <span class="n">stnm</span> <span class="o">=</span> <span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">if</span> <span class="n">convert_stnm</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">stnm</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">stnm</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
        <span class="n">stnm</span> <span class="o">=</span> <span class="n">stnm</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stnm</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">7</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KNETException</span><span class="p">(</span>
            <span class="s2">&quot;Station name can&#39;t be more than 7 characters long!&quot;</span><span class="p">)</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;station&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stnm</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">location</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;stla&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;stlo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;stel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="c1"># Data information</span>
    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">flds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="c1"># A 15 s delay is added to the record time by the</span>
    <span class="c1"># the K-NET and KiK-Net data logger</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">UTCDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="s1">&#39;%Y/%m/</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mf">15.0</span>
    <span class="c1"># All times are in Japanese standard time which is 9 hours ahead of UTC</span>
    <span class="n">dt</span> <span class="o">-=</span> <span class="mi">9</span> <span class="o">*</span> <span class="mf">3600.</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;starttime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dt</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">freqstr</span> <span class="o">=</span> <span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;[0-9]*&#39;</span><span class="p">,</span> <span class="n">freqstr</span><span class="p">)</span>
    <span class="n">freq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;sampling_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">freq</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">channel</span> <span class="o">=</span> <span class="n">flds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">kiknetcomps</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="s1">&#39;NS1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="s1">&#39;EW1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span> <span class="s1">&#39;UD1&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;4&#39;</span><span class="p">:</span> <span class="s1">&#39;NS2&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">:</span> <span class="s1">&#39;EW2&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">:</span> <span class="s1">&#39;UD2&#39;</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">channel</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">in</span> <span class="n">kiknetcomps</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>  <span class="c1"># kiknet directions are 1-6</span>
        <span class="n">channel</span> <span class="o">=</span> <span class="n">kiknetcomps</span><span class="p">[</span><span class="n">channel</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">channel</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">eqn</span> <span class="o">=</span> <span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">num</span><span class="p">,</span> <span class="n">denom</span> <span class="o">=</span> <span class="n">eqn</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
    <span class="n">num</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;[0-9]*&#39;</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
    <span class="n">denom</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">denom</span><span class="p">)</span>
    <span class="c1"># convert the calibration from gal to m/s^2</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;calib&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">num</span> <span class="o">/</span> <span class="n">denom</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">acc</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;accmax&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">acc</span>

    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">flds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">flds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">UTCDateTime</span><span class="p">()</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="s1">&#39;%Y/%m/</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span>
    <span class="c1"># All times are in Japanese standard time which is 9 hours ahead of UTC</span>
    <span class="n">dt</span> <span class="o">-=</span> <span class="mi">9</span> <span class="o">*</span> <span class="mf">3600.</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;last correction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dt</span>

    <span class="c1"># The comment (&#39;Memo&#39;) field is optional</span>
    <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">flds</span> <span class="o">=</span> <span class="n">_prep_hdr_line</span><span class="p">(</span><span class="n">hdrnames</span><span class="p">[</span><span class="n">_i</span><span class="p">],</span> <span class="n">hdrlines</span><span class="p">[</span><span class="n">_i</span><span class="p">])</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">flds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;knet&#39;</span><span class="p">][</span><span class="s1">&#39;comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">flds</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">hdrlines</span><span class="p">)</span> <span class="o">!=</span> <span class="n">_i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">KNETException</span><span class="p">(</span><span class="s2">&quot;Expected </span><span class="si">%d</span><span class="s2"> header lines but got </span><span class="si">%d</span><span class="s2">&quot;</span>
                            <span class="o">%</span> <span class="p">(</span><span class="n">_i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">hdrlines</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">hdrdict</span></div>


<div class="viewcode-block" id="_read_knet_ascii"><a class="viewcode-back" href="../../../../packages/obspy.io.nied.knet._read_knet_ascii.html#obspy.io.nied.knet._read_knet_ascii">[docs]</a><span class="k">def</span> <span class="nf">_read_knet_ascii</span><span class="p">(</span><span class="n">filename_or_buf</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads a K-NET/KiK-net ASCII file and returns an ObsPy Stream object.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This function should NOT be called directly, it registers via the</span>
<span class="sd">        ObsPy :func:`~obspy.core.stream.read` function, call this instead.</span>

<span class="sd">    :param filename: K-NET/KiK-net ASCII file to be read.</span>
<span class="sd">    :type filename: str or file-like object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_buffer_proxy</span><span class="p">(</span><span class="n">filename_or_buf</span><span class="p">,</span> <span class="n">_internal_read_knet_ascii</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="_internal_read_knet_ascii"><a class="viewcode-back" href="../../../../packages/obspy.io.nied.knet._internal_read_knet_ascii.html#obspy.io.nied.knet._internal_read_knet_ascii">[docs]</a><span class="k">def</span> <span class="nf">_internal_read_knet_ascii</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads a K-NET/KiK-net ASCII file and returns an ObsPy Stream object.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This function should NOT be called directly, it registers via the</span>
<span class="sd">        ObsPy :func:`~obspy.core.stream.read` function, call this instead.</span>

<span class="sd">    :param buf: File to read.</span>
<span class="sd">    :type buf: Open file or open file like object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">hdrdict</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">cur_pos</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
    <span class="n">buf</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
    <span class="n">buf</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">cur_pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="c1"># First read the headerlines</span>
    <span class="n">headerlines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="n">buf</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">headerlines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;Memo&#39;</span><span class="p">):</span>
            <span class="n">hdrdict</span> <span class="o">=</span> <span class="n">_read_knet_hdr</span><span class="p">(</span><span class="n">headerlines</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">break</span>

    <span class="k">while</span> <span class="n">buf</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">+=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">]</span>

    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;npts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="c1"># The FDSN network code for the National Research Institute for Earth</span>
    <span class="c1"># Science and Disaster Prevention (NEID JAPAN) is BO (Bosai-Ken Network)</span>
    <span class="n">hdrdict</span><span class="p">[</span><span class="s1">&#39;network&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;BO&#39;</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">stats</span> <span class="o">=</span> <span class="n">Stats</span><span class="p">(</span><span class="n">hdrdict</span><span class="p">)</span>
    <span class="n">trace</span> <span class="o">=</span> <span class="n">Trace</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">stats</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Stream</span><span class="p">([</span><span class="n">trace</span><span class="p">])</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">exclude_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>

<footer>
<p class="text-muted small">
By the <a href="https://github.com/orgs/obspy/people">ObsPy
Development Team</a> and many <a href="#contributers" role="button"
data-toggle="modal" data-target="#contributers">Awesome Contributors</a>™ &nbsp;|&nbsp; Built with
<a href="http://getbootstrap.com/">Bootstrap</a> and
<a href="http://glyphicons.com//">Glyphicons</a> &nbsp;|&nbsp; Copyright 2008-2016
</p>
</footer>
<div id="contributers" class="modal fade" tabindex="-1"
role="dialog" aria-labelledby="contributersLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal"
aria-hidden="true">&times;</button>
<h3 class="modal-title" id="contributersLabel">Thank you!</h3>
</div>
<div class="modal-body">
<p>We would like to thank our contributors, whose efforts make
this software what it is. These people have helped by writing code
and documentation, and by testing. They have created and
maintained this product, its associated libraries and
applications, our build tools and our web sites.</p>
<h4>Contributors</h4>
<div class="container-fluid">
<div class="row">
<div class="col-md-6">
<ul>
<li>Ammon, Charles J.</li>
<li>Arnarsson, Ólafur St.</li>
<li>Barsch, Robert</li>
<li>Bernardi, Fabrizio</li>
<li>Beyreuther, Moritz</li>
<li>Carothers, Lloyd</li>
<li>Egdorf, Sven</li>
<li>Ermert, Laura</li>
<li>Fabbri, Tommaso</li>
<li>Grunberg, Marc</li>
<li>Heimann, Sebastian</li>
<li>Hope, Gaute</li>
<li>Inza, Adolfo</li>
<li>Ketchum, David</li>
<li>Kremers, Simon</li>
<li>Krieger, Lars</li>
<li>Käufl, Paul</li>
<li>Lecocq, Thomas</li>
<li>Lesage, Philippe</li>
<li>Lopes, Rui L.</li>
<li>Maggi, Alessia</li>
<li>Megies, Tobias</li>
<li>Michelini, Alberto</li>
<li>Morgenstern, Bernhard</li>
<li>Panning, Mark P.</li>
<li>Reyes, Celso</li>
<li>Rothenhäusler, Nicolas</li>
<li>Sales de Andrade, Elliott</li>
<li>Saul, Joachim</li>
<li>Sippl, Christian</li>
<li>Stange, Stefan</li>
<li>Trabant, Chad</li>
<li>Walker, Andrew</li>
<li>Wassermann, Joachim</li>
<li>Winkelman, Andrew</li>
<li>van Driel, Martin</li>
</ul>
</div>
<div class="col-md-6">
<ul>
<li>Antunes, Emanuel</li>
<li>Bank, Markus</li>
<li>Behr, Yannik</li>
<li>Bernauer, Felix</li>
<li>Bonaimé, Sébastien</li>
<li>Danecek, Peter</li>
<li>Engels, Fabian</li>
<li>Eulenfeld, Tom</li>
<li>Grellier, Clément</li>
<li>Hammer, Conny</li>
<li>Heiniger, Lukas</li>
<li>Igel, Heiner</li>
<li>Isken, Marius</li>
<li>Koymans, Mathijs</li>
<li>Kress, Victor</li>
<li>Krischer, Lion</li>
<li>Köhler, Andreas</li>
<li>Leeman, John</li>
<li>Lomax, Anthony</li>
<li>MacCarthy, Jonathan</li>
<li>Martin, Henri</li>
<li>Meschede, Matthias</li>
<li>Miller, Nathaniel C.</li>
<li>Nof, Ran Novitsky</li>
<li>Rapagnani, Giovanni</li>
<li>Ringler, Adam</li>
<li>Russo, Emiliano</li>
<li>Satriano, Claudio</li>
<li>Scheingraber, Chris</li>
<li>Snoke, Arthur</li>
<li>Sullivan, Benjamin</li>
<li>Uieda, Leonardo</li>
<li>Walther, Marcus</li>
<li>Williams, Mark C.</li>
<li>Zad, Seyed Kasra Hosseini</li>
</ul>
</div>
</div>
</div>
<h4>Funds</h4>
<p>ObsPy was partially funded by the</p>
<ul>
<li>German Science Foundation (DFG) via grant DFG IG 16/9-1</li>
<li>German Ministry for Education and Research (BMBF), GEOTECHNOLOGIEN grant 03G0646H.</li>
<li>NERA project (Network of European Research Infrastructures for Earthquake Risk Assessment and Mitigation) under the European Community&#39;s Seventh Framework Programme (FP7/2007-2013) grant agreement n° 262330</li>
<li>Leibniz Institute for Applied Geophysics (LIAG)</li>
<li>VERCE EU-FP7 project (no. 283543)</li>
</ul>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>

</div>


  </body>
</html>