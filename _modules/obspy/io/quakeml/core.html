<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>obspy.io.quakeml.core &#8212; ObsPy Documentation (1.0.3)</title>
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/font.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/base.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript">
  var shiftWindow = function() { scrollBy(0, -70) };
  if (location.hash) shiftWindow();
  window.addEventListener("hashchange", shiftWindow);
</script>

  </head>
  <body>
<div id="wrapper">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">
<button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a href="/" class="navbar-brand" title="Home"><span class="icon-obspy"></span>&nbsp;ObsPy</a>
</div>
<div class="navbar-collapse collapse">
<form class="navbar-form navbar-right" role="search" method="get" action="search.html">
<div class="form-group">
<input type="text" class="form-control" placeholder="Search Docs" name="q">
</div>
</form>
<ul class="nav navbar-nav navbar-right">
<li><a href="https://github.com/obspy/obspy/" title="GitHub"><span class="icon-github iconx2"></span><span class="hidden-sm">&nbsp;GitHub</span></a></li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Documentation"><span class="glyphicon glyphicon-book iconx2"></span><span class="hidden-sm">&nbsp;Documentation</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Getting&nbsp;Started</li>
<li><a href="https://github.com/obspy/obspy/wiki#installation">Installation</a></li>
<li><a href="https://tutorial.obspy.org/">Tutorial</a></li>
<li><a href="http://gallery.obspy.org/">Gallery</a></li>
<li><a href="https://docs.obspy.org/">API&nbsp;Documentation&nbsp;(latest&nbsp;release)</a></li>
<li><a href="https://docs.obspy.org/master/">API&nbsp;Documentation&nbsp;(current&nbsp;master)</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Mailing&nbsp;Lists"><span class="glyphicon glyphicon-envelope iconx2"></span><span class="hidden-sm">&nbsp;Mailing&nbsp;Lists</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Announcements&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-announcements"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-announcements/"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archive</a></li>
<li class="divider"></li>
<li class="dropdown-header">Users&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-users"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-users"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archives</a></li>
<li><a href="mailto:users@obspy.org"><span class="glyphicon glyphicon-envelope"></span>&nbsp;Post&nbsp;a&nbsp;message</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Developer&nbsp;Resources"><span class="glyphicon glyphicon-cog iconx2"></span><span class="hidden-sm">&nbsp;Developer&nbsp;Resources</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="https://gitter.im/obspy/obspy">Gitter</a></li>
<li><a href="https://github.com/obspy/obspy/blob/master/.github/CONTRIBUTING.md">How&nbsp;to&nbsp;contribute</a></li>
<li><a href="http://docs.obspy.org/coding_style.html">Coding&nbsp;Style&nbsp;Guide</a></li>
<li><a href="https://github.com/obspy/obspy/releases/">All&nbsp;Releases</a></li>
<li class="divider"></li>
<li class="dropdown-header">Code&nbsp;Analysis</li>
<li><a href="http://docs.obspy.org/master/pep8/index.html">PEP8</a></li>
<li><a href="http://docs.obspy.org/master/coverage/index.html">Python&nbsp;Coverage</a></li>
<li><a href="http://docs.obspy.org/master/c_coverage/index.html">C&nbsp;Coverage</a></li>
<li><a href="https://coveralls.io/r/obspy/obspy?branch=master">Coveralls</a></li>
<li class="divider"></li>
<li class="dropdown-header">Continuous&nbsp;Integration</li>
<li><a href="http://tests.obspy.org/">Test&nbsp;Reports</a></li>
<li><a href="https://travis-ci.org/obspy/obspy/"><span class="icon-travis"></span>&nbsp;Travis&nbsp;CI</a></li>
<li><a href="https://ci.appveyor.com/project/obspy/obspy"><span class="icon-appveyor"></span>&nbsp;AppVeyor</a></li>
</ul>
</li>
</ul>
</div>
</div>
</nav>

<div id="content" class="container">
  
    <div class="breadcrumb pull-right"><a href="../../../../genindex.html" title="General Index"
         accesskey="I">index</a><span style="color: #ccc; padding: 0 5px;">| </span><a href="../../../../py-modindex.html" title="Python Module Index"
         >modules</a>
    </div>
    <ol class="breadcrumb">
        <li><a href="../../../../contents.html">ObsPy Documentation (1.0.3)</a></li>
        <li><a href="../../../index.html" accesskey="U">Module code</a></li> 
    </ol>
  
  <h1>Source code for obspy.io.quakeml.core</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">QuakeML read and write support.</span>

<span class="sd">QuakeML is a flexible, extensible and modular XML representation of</span>
<span class="sd">seismological data which is intended to cover a broad range of fields of</span>
<span class="sd">application in modern seismology. QuakeML is an open standard and is developed</span>
<span class="sd">by a distributed team in a transparent collaborative manner.</span>

<span class="sd">.. seealso:: https://quake.ethz.ch/quakeml/</span>

<span class="sd">.. note::</span>

<span class="sd">    For handling additional information not covered by the QuakeML standard and</span>
<span class="sd">    how to output it to QuakeML see the :ref:`ObsPy Tutorial &lt;quakeml-extra&gt;`.</span>

<span class="sd">:copyright:</span>
<span class="sd">    The ObsPy Development Team (devs@obspy.org)</span>
<span class="sd">:license:</span>
<span class="sd">    GNU Lesser General Public License, Version 3</span>
<span class="sd">    (https://www.gnu.org/copyleft/lesser.html)</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="p">(</span><span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span>
                        <span class="n">unicode_literals</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">future.builtins</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>

<span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">from</span> <span class="nn">lxml</span> <span class="k">import</span> <span class="n">etree</span>

<span class="kn">from</span> <span class="nn">obspy.core.event</span> <span class="k">import</span> <span class="p">(</span><span class="n">Amplitude</span><span class="p">,</span> <span class="n">Arrival</span><span class="p">,</span> <span class="n">Axis</span><span class="p">,</span> <span class="n">Catalog</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span>
                              <span class="n">CompositeTime</span><span class="p">,</span> <span class="n">ConfidenceEllipsoid</span><span class="p">,</span> <span class="n">CreationInfo</span><span class="p">,</span>
                              <span class="n">DataUsed</span><span class="p">,</span> <span class="n">Event</span><span class="p">,</span> <span class="n">EventDescription</span><span class="p">,</span>
                              <span class="n">FocalMechanism</span><span class="p">,</span> <span class="n">Magnitude</span><span class="p">,</span> <span class="n">MomentTensor</span><span class="p">,</span>
                              <span class="n">NodalPlane</span><span class="p">,</span> <span class="n">NodalPlanes</span><span class="p">,</span> <span class="n">Origin</span><span class="p">,</span> <span class="n">OriginQuality</span><span class="p">,</span>
                              <span class="n">OriginUncertainty</span><span class="p">,</span> <span class="n">Pick</span><span class="p">,</span> <span class="n">PrincipalAxes</span><span class="p">,</span>
                              <span class="n">QuantityError</span><span class="p">,</span> <span class="n">ResourceIdentifier</span><span class="p">,</span>
                              <span class="n">SourceTimeFunction</span><span class="p">,</span> <span class="n">StationMagnitude</span><span class="p">,</span>
                              <span class="n">StationMagnitudeContribution</span><span class="p">,</span> <span class="n">Tensor</span><span class="p">,</span> <span class="n">TimeWindow</span><span class="p">,</span>
                              <span class="n">WaveformStreamID</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">obspy.core.utcdatetime</span> <span class="k">import</span> <span class="n">UTCDateTime</span>
<span class="kn">from</span> <span class="nn">obspy.core.util</span> <span class="k">import</span> <span class="n">AttribDict</span>
<span class="kn">from</span> <span class="nn">obspy.core.util.deprecation_helpers</span> <span class="k">import</span> \
    <span class="n">DynamicAttributeImportRerouteModule</span>


<span class="n">NSMAP_QUAKEML</span> <span class="o">=</span> <span class="p">{</span><span class="kc">None</span><span class="p">:</span> <span class="s2">&quot;http://quakeml.org/xmlns/bed/1.2&quot;</span><span class="p">,</span>
                 <span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="s2">&quot;http://quakeml.org/xmlns/quakeml/1.2&quot;</span><span class="p">}</span>


<span class="k">def</span> <span class="nf">_get_first_child_namespace</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function extracting the namespace of an element.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">element</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">etree</span><span class="o">.</span><span class="n">QName</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span><span class="o">.</span><span class="n">namespace</span>


<span class="k">def</span> <span class="nf">_xml_doc_from_anything</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function attempting to create an xml etree element from either a</span>
<span class="sd">    filename, a file-like object, or a (byte)string.</span>

<span class="sd">    Will raise a ValueError if it fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">xml_doc</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">xml_doc</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">xml_doc</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">source</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Could not parse &#39;</span><span class="si">%s</span><span class="s2">&#39; to an etree element.&quot;</span> <span class="o">%</span>
                                 <span class="n">source</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">xml_doc</span>


<div class="viewcode-block" id="_is_quakeml"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core._is_quakeml.html#obspy.io.quakeml.core._is_quakeml">[docs]</a><span class="k">def</span> <span class="nf">_is_quakeml</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks whether a file is QuakeML format.</span>

<span class="sd">    :type filename: str</span>
<span class="sd">    :param filename: Name of the QuakeML file to be checked.</span>
<span class="sd">    :rtype: bool</span>
<span class="sd">    :return: ``True`` if QuakeML file.</span>

<span class="sd">    .. rubric:: Example</span>

<span class="sd">    &gt;&gt;&gt; _is_quakeml(&#39;/path/to/quakeml.xml&#39;)  # doctest: +SKIP</span>
<span class="sd">    True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;tell&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;seek&quot;</span><span class="p">)</span> <span class="ow">and</span> \
            <span class="nb">hasattr</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;read&quot;</span><span class="p">):</span>
        <span class="n">file_like_object</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">position</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">file_like_object</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">xml_doc</span> <span class="o">=</span> <span class="n">_xml_doc_from_anything</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">file_like_object</span><span class="p">:</span>
            <span class="n">filename</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="c1"># check if node &quot;*/eventParameters/event&quot; for the global namespace exists</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">xml_doc</span><span class="p">,</span> <span class="s2">&quot;getroot&quot;</span><span class="p">):</span>
            <span class="n">namespace</span> <span class="o">=</span> <span class="n">_get_first_child_namespace</span><span class="p">(</span><span class="n">xml_doc</span><span class="o">.</span><span class="n">getroot</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">namespace</span> <span class="o">=</span> <span class="n">_get_first_child_namespace</span><span class="p">(</span><span class="n">xml_doc</span><span class="p">)</span>
        <span class="n">xml_doc</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;q:eventParameters&#39;</span><span class="p">,</span> <span class="n">namespaces</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;q&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">})[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="Unpickler"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler.html#obspy.io.quakeml.core.Unpickler">[docs]</a><span class="k">class</span> <span class="nc">Unpickler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    De-serializes a QuakeML string into an ObsPy Catalog object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Unpickler.__init__"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler.__init__.html#obspy.io.quakeml.core.Unpickler.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xml_doc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xml_doc</span> <span class="o">=</span> <span class="n">xml_doc</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">xml_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_doc</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_doc</span>

<div class="viewcode-block" id="Unpickler.load"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler.load.html#obspy.io.quakeml.core.Unpickler.load">[docs]</a>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads QuakeML file into ObsPy catalog object.</span>

<span class="sd">        :type file: str</span>
<span class="sd">        :param file: File name to read.</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Catalog`</span>
<span class="sd">        :returns: ObsPy Catalog object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xml_doc</span> <span class="o">=</span> <span class="n">_xml_doc_from_anything</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize</span><span class="p">()</span></div>

<div class="viewcode-block" id="Unpickler.loads"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler.loads.html#obspy.io.quakeml.core.Unpickler.loads">[docs]</a>    <span class="k">def</span> <span class="nf">loads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parses QuakeML string into ObsPy catalog object.</span>

<span class="sd">        :type string: str</span>
<span class="sd">        :param string: QuakeML string to parse.</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Catalog`</span>
<span class="sd">        :returns: ObsPy Catalog object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xml_doc</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deserialize</span><span class="p">()</span></div>

<div class="viewcode-block" id="Unpickler._xpath2obj"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._xpath2obj.html#obspy.io.quakeml.core.Unpickler._xpath2obj">[docs]</a>    <span class="k">def</span> <span class="nf">_xpath2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xpath</span><span class="p">,</span> <span class="n">element</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">convert_to</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">,</span> <span class="n">element</span><span class="o">=</span><span class="n">element</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">q</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
        <span class="k">if</span> <span class="n">text</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">text</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">convert_to</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;false&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">convert_to</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Could not convert </span><span class="si">%s</span><span class="s2"> to type </span><span class="si">%s</span><span class="s2">. Returning None.&quot;</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span> <span class="o">%</span> <span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">convert_to</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Unpickler._xpath"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._xpath.html#obspy.io.quakeml.core.Unpickler._xpath">[docs]</a>    <span class="k">def</span> <span class="nf">_xpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xpath</span><span class="p">,</span> <span class="n">element</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">element</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span>

        <span class="n">namespaces</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">namespace</span><span class="p">:</span>
            <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;b:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">xpath</span>
            <span class="n">namespaces</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">}</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;nsmap&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="kc">None</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">nsmap</span><span class="p">:</span>
            <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;b:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">xpath</span>
            <span class="n">namespaces</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="n">element</span><span class="o">.</span><span class="n">nsmap</span><span class="p">[</span><span class="kc">None</span><span class="p">]}</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;nsmap&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="kc">None</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsmap</span><span class="p">:</span>
            <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;b:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">xpath</span>
            <span class="n">namespaces</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">nsmap</span><span class="p">[</span><span class="kc">None</span><span class="p">]}</span>

        <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="n">xpath</span><span class="p">,</span> <span class="n">namespaces</span><span class="o">=</span><span class="n">namespaces</span><span class="p">)</span></div>

<div class="viewcode-block" id="Unpickler._comments"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._comments.html#obspy.io.quakeml.core.Unpickler._comments">[docs]</a>    <span class="k">def</span> <span class="nf">_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;comment&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
            <span class="n">comment</span> <span class="o">=</span> <span class="n">Comment</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">comment</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
            <span class="n">comment</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
            <span class="n">comment</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="n">comment</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._station_magnitude_contributions"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._station_magnitude_contributions.html#obspy.io.quakeml.core.Unpickler._station_magnitude_contributions">[docs]</a>    <span class="k">def</span> <span class="nf">_station_magnitude_contributions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s2">&quot;stationMagnitudeContribution&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
            <span class="n">contrib</span> <span class="o">=</span> <span class="n">StationMagnitudeContribution</span><span class="p">()</span>
            <span class="n">contrib</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s2">&quot;weight&quot;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="n">contrib</span><span class="o">.</span><span class="n">residual</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s2">&quot;residual&quot;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="n">contrib</span><span class="o">.</span><span class="n">station_magnitude_id</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s2">&quot;stationMagnitudeID&quot;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="n">contrib</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">contrib</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._creation_info"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._creation_info.html#obspy.io.quakeml.core.Unpickler._creation_info">[docs]</a>    <span class="k">def</span> <span class="nf">_creation_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s2">&quot;creationInfo&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Only one CreationInfo allowed.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">CreationInfo</span><span class="p">()</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">agency_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;agencyURI&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">author_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;authorURI&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">agency_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;agencyID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">author</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;creationTime&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">UTCDateTime</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._origin_quality"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._origin_quality.html#obspy.io.quakeml.core.Unpickler._origin_quality">[docs]</a>    <span class="k">def</span> <span class="nf">_origin_quality</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s2">&quot;quality&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Only one OriginQuality allowed.&quot;</span><span class="p">)</span>
        <span class="c1"># Do not add an element if it is not given in the XML file.</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">OriginQuality</span><span class="p">()</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">associated_phase_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;associatedPhaseCount&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">used_phase_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;usedPhaseCount&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">associated_station_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;associatedStationCount&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">used_station_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;usedStationCount&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">depth_phase_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;depthPhaseCount&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">standard_error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;standardError&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">azimuthal_gap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;azimuthalGap&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">secondary_azimuthal_gap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;secondaryAzimuthalGap&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">ground_truth_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;groundTruthLevel&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">minimum_distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;minimumDistance&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">maximum_distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;maximumDistance&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">median_distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;medianDistance&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._event_description"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._event_description.html#obspy.io.quakeml.core.Unpickler._event_description">[docs]</a>    <span class="k">def</span> <span class="nf">_event_description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
            <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">EventDescription</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="n">out</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">out</span></div>

<div class="viewcode-block" id="Unpickler._value"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._value.html#obspy.io.quakeml.core.Unpickler._value">[docs]</a>    <span class="k">def</span> <span class="nf">_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">quantity_type</span><span class="o">=</span><span class="nb">float</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="n">quantity_type</span><span class="p">)</span>
        <span class="c1"># All errors are QuantityError.</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">QuantityError</span><span class="p">()</span>
        <span class="c1"># Don&#39;t set the errors if they are not set.</span>
        <span class="n">confidence_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;confidenceLevel&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">confidence_level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">error</span><span class="o">.</span><span class="n">confidence_level</span> <span class="o">=</span> <span class="n">confidence_level</span>
        <span class="k">if</span> <span class="n">quantity_type</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">:</span>
            <span class="n">uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;uncertainty&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">uncertainty</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">error</span><span class="o">.</span><span class="n">uncertainty</span> <span class="o">=</span> <span class="n">uncertainty</span>
            <span class="n">lower_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;lowerUncertainty&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">lower_uncertainty</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">error</span><span class="o">.</span><span class="n">lower_uncertainty</span> <span class="o">=</span> <span class="n">lower_uncertainty</span>
            <span class="n">upper_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;upperUncertainty&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">upper_uncertainty</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">error</span><span class="o">.</span><span class="n">upper_uncertainty</span> <span class="o">=</span> <span class="n">upper_uncertainty</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;uncertainty&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">uncertainty</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">error</span><span class="o">.</span><span class="n">uncertainty</span> <span class="o">=</span> <span class="n">uncertainty</span>
            <span class="n">lower_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;lowerUncertainty&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">lower_uncertainty</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">error</span><span class="o">.</span><span class="n">lower_uncertainty</span> <span class="o">=</span> <span class="n">lower_uncertainty</span>
            <span class="n">upper_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;upperUncertainty&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">upper_uncertainty</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">error</span><span class="o">.</span><span class="n">upper_uncertainty</span> <span class="o">=</span> <span class="n">upper_uncertainty</span>
        <span class="k">return</span> <span class="n">value</span><span class="p">,</span> <span class="n">error</span></div>

<div class="viewcode-block" id="Unpickler._float_value"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._float_value.html#obspy.io.quakeml.core.Unpickler._float_value">[docs]</a>    <span class="k">def</span> <span class="nf">_float_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span></div>

<div class="viewcode-block" id="Unpickler._int_value"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._int_value.html#obspy.io.quakeml.core.Unpickler._int_value">[docs]</a>    <span class="k">def</span> <span class="nf">_int_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span></div>

<div class="viewcode-block" id="Unpickler._time_value"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._time_value.html#obspy.io.quakeml.core.Unpickler._time_value">[docs]</a>    <span class="k">def</span> <span class="nf">_time_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">UTCDateTime</span><span class="p">)</span></div>

<div class="viewcode-block" id="Unpickler._composite_times"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._composite_times.html#obspy.io.quakeml.core.Unpickler._composite_times">[docs]</a>    <span class="k">def</span> <span class="nf">_composite_times</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;compositeTime&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
            <span class="n">ct</span> <span class="o">=</span> <span class="n">CompositeTime</span><span class="p">()</span>
            <span class="n">ct</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">year_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_int_value</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">)</span>
            <span class="n">ct</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">month_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_int_value</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="s1">&#39;month&#39;</span><span class="p">)</span>
            <span class="n">ct</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">day_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_int_value</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">)</span>
            <span class="n">ct</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">hour_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_int_value</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="s1">&#39;hour&#39;</span><span class="p">)</span>
            <span class="n">ct</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">minute_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_int_value</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="s1">&#39;minute&#39;</span><span class="p">)</span>
            <span class="n">ct</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">second_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="n">ct</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ct</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._confidence_ellipsoid"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._confidence_ellipsoid.html#obspy.io.quakeml.core.Unpickler._confidence_ellipsoid">[docs]</a>    <span class="k">def</span> <span class="nf">_confidence_ellipsoid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">ConfidenceEllipsoid</span><span class="p">()</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">semi_major_axis_length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;semiMajorAxisLength&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">semi_minor_axis_length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;semiMinorAxisLength&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">semi_intermediate_axis_length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;semiIntermediateAxisLength&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">major_axis_plunge</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;majorAxisPlunge&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">major_axis_azimuth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;majorAxisAzimuth&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">major_axis_rotation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;majorAxisRotation&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._origin_uncertainty"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._origin_uncertainty.html#obspy.io.quakeml.core.Unpickler._origin_uncertainty">[docs]</a>    <span class="k">def</span> <span class="nf">_origin_uncertainty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s2">&quot;originUncertainty&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Only one OriginUncertainty allowed.&quot;</span><span class="p">)</span>
        <span class="c1"># Do not add an element if it is not given in the XML file.</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">OriginUncertainty</span><span class="p">()</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">preferred_description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;preferredDescription&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">horizontal_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;horizontalUncertainty&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">min_horizontal_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;minHorizontalUncertainty&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">max_horizontal_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;maxHorizontalUncertainty&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">azimuth_max_horizontal_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;azimuthMaxHorizontalUncertainty&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">confidence_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
            <span class="s1">&#39;confidenceLevel&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">ce_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;confidenceEllipsoid&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ce_el</span> <span class="o">=</span> <span class="n">ce_el</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">confidence_ellipsoid</span> <span class="o">=</span> <span class="n">ConfidenceEllipsoid</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">confidence_ellipsoid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_confidence_ellipsoid</span><span class="p">(</span><span class="n">ce_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._waveform_ids"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._waveform_ids.html#obspy.io.quakeml.core.Unpickler._waveform_ids">[docs]</a>    <span class="k">def</span> <span class="nf">_waveform_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">objs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">wid_el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;waveformID&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">WaveformStreamID</span><span class="p">()</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">network_code</span> <span class="o">=</span> <span class="n">wid_el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;networkCode&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">station_code</span> <span class="o">=</span> <span class="n">wid_el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;stationCode&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">location_code</span> <span class="o">=</span> <span class="n">wid_el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;locationCode&#39;</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">channel_code</span> <span class="o">=</span> <span class="n">wid_el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;channelCode&#39;</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">resource_uri</span> <span class="o">=</span> <span class="n">wid_el</span><span class="o">.</span><span class="n">text</span>
            <span class="n">objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">objs</span></div>

<div class="viewcode-block" id="Unpickler._waveform_id"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._waveform_id.html#obspy.io.quakeml.core.Unpickler._waveform_id">[docs]</a>    <span class="k">def</span> <span class="nf">_waveform_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_ids</span><span class="p">(</span><span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Unpickler._arrival"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._arrival.html#obspy.io.quakeml.core.Unpickler._arrival">[docs]</a>    <span class="k">def</span> <span class="nf">_arrival</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an Arrival object.</span>

<span class="sd">        :type element: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Arrival`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Arrival</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">pick_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;pickID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">phase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;phase&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">time_correction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;timeCorrection&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">azimuth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;azimuth&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">takeoff_angle</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">takeoff_angle_errors</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;takeoffAngle&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">time_residual</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;timeResidual&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">horizontal_slowness_residual</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;horizontalSlownessResidual&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">backazimuth_residual</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;backazimuthResidual&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">time_weight</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;timeWeight&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">horizontal_slowness_weight</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;horizontalSlownessWeight&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">backazimuth_weight</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;backazimuthWeight&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">earth_model_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;earthModelID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._pick"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._pick.html#obspy.io.quakeml.core.Unpickler._pick">[docs]</a>    <span class="k">def</span> <span class="nf">_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into a Pick object.</span>

<span class="sd">        :type element: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Pick`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Pick</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">time_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_id</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">filter_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;filterID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">method_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;methodID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">horizontal_slowness</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">horizontal_slowness_errors</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;horizontalSlowness&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">backazimuth</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">backazimuth_errors</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;backazimuth&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">slowness_method_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;slownessMethodID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">onset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;onset&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">phase_hint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;phaseHint&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">polarity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;polarity&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationMode&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationStatus&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._time_window"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._time_window.html#obspy.io.quakeml.core.Unpickler._time_window">[docs]</a>    <span class="k">def</span> <span class="nf">_time_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into a TimeWindow object.</span>

<span class="sd">        :type element: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.TimeWindow`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">TimeWindow</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">begin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;begin&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">convert_to</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">convert_to</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">reference</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                                        <span class="n">convert_to</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._amplitude"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._amplitude.html#obspy.io.quakeml.core.Unpickler._amplitude">[docs]</a>    <span class="k">def</span> <span class="nf">_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into a Amplitude object.</span>

<span class="sd">        :type element: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Amplitude`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Amplitude</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">generic_amplitude</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">generic_amplitude_errors</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;genericAmplitude&#39;</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;unit&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">method_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;methodID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">period</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">period_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;period&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">snr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;snr&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">time_window_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;timeWindow&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">time_window_el</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">time_window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_window</span><span class="p">(</span><span class="n">time_window_el</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">pick_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;pickID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_id</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">filter_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;filterID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">scaling_time</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">scaling_time_errors</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_time_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;scalingTime&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">magnitude_hint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;magnitudeHint&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationMode&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationStatus&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._origin"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._origin.html#obspy.io.quakeml.core.Unpickler._origin">[docs]</a>    <span class="k">def</span> <span class="nf">_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">arrivals</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an Origin object.</span>

<span class="sd">        :type element: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Origin`</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from lxml import etree</span>
<span class="sd">        &gt;&gt;&gt; XML = b&#39;&#39;&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="sd">        ... &lt;origin&gt;</span>
<span class="sd">        ...   &lt;latitude&gt;&lt;value&gt;34.23&lt;/value&gt;&lt;/latitude&gt;</span>
<span class="sd">        ... &lt;/origin&gt;&#39;&#39;&#39;</span>
<span class="sd">        &gt;&gt;&gt; xml_doc = etree.fromstring(XML)</span>
<span class="sd">        &gt;&gt;&gt; unpickler = Unpickler(xml_doc)</span>
<span class="sd">        &gt;&gt;&gt; origin = unpickler._origin(xml_doc, arrivals=[])</span>
<span class="sd">        &gt;&gt;&gt; print(origin.latitude)</span>
<span class="sd">        34.23</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Origin</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">time_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">latitude_errors</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;latitude&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">longitude_errors</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">depth_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">depth_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;depthType&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">time_fixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;timeFixed&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">epicenter_fixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;epicenterFixed&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">reference_system_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;referenceSystemID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">method_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;methodID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">earth_model_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;earthModelID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">composite_times</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composite_times</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">quality</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_origin_quality</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">origin_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationMode&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationStatus&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">origin_uncertainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_origin_uncertainty</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">arrivals</span> <span class="o">=</span> <span class="n">arrivals</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._magnitude"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._magnitude.html#obspy.io.quakeml.core.Unpickler._magnitude">[docs]</a>    <span class="k">def</span> <span class="nf">_magnitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into a Magnitude object.</span>

<span class="sd">        :type element: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Magnitude`</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from lxml import etree</span>
<span class="sd">        &gt;&gt;&gt; XML = b&#39;&#39;&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="sd">        ... &lt;magnitude&gt;</span>
<span class="sd">        ...   &lt;mag&gt;&lt;value&gt;3.2&lt;/value&gt;&lt;/mag&gt;</span>
<span class="sd">        ... &lt;/magnitude&gt;&#39;&#39;&#39;</span>
<span class="sd">        &gt;&gt;&gt; xml_doc = etree.fromstring(XML)</span>
<span class="sd">        &gt;&gt;&gt; unpickler = Unpickler(xml_doc)</span>
<span class="sd">        &gt;&gt;&gt; magnitude = unpickler._magnitude(xml_doc)</span>
<span class="sd">        &gt;&gt;&gt; print(magnitude.mag)</span>
<span class="sd">        3.2</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Magnitude</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">mag_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">magnitude_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">origin_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;originID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">method_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;methodID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">station_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;stationCount&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">azimuthal_gap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;azimuthalGap&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationMode&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationStatus&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">station_magnitude_contributions</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_station_magnitude_contributions</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._station_magnitude"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._station_magnitude.html#obspy.io.quakeml.core.Unpickler._station_magnitude">[docs]</a>    <span class="k">def</span> <span class="nf">_station_magnitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into a StationMagnitude object.</span>

<span class="sd">        :type element: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.StationMagnitude`</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from lxml import etree</span>
<span class="sd">        &gt;&gt;&gt; XML = b&#39;&#39;&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="sd">        ... &lt;stationMagnitude&gt;</span>
<span class="sd">        ...   &lt;mag&gt;&lt;value&gt;3.2&lt;/value&gt;&lt;/mag&gt;</span>
<span class="sd">        ... &lt;/stationMagnitude&gt;&#39;&#39;&#39;</span>
<span class="sd">        &gt;&gt;&gt; xml_doc = etree.fromstring(XML)</span>
<span class="sd">        &gt;&gt;&gt; unpickler = Unpickler(xml_doc)</span>
<span class="sd">        &gt;&gt;&gt; station_mag = unpickler._station_magnitude(xml_doc)</span>
<span class="sd">        &gt;&gt;&gt; print(station_mag.mag)</span>
<span class="sd">        3.2</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">StationMagnitude</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">origin_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;originID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">mag_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">station_magnitude_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">amplitude_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;amplitudeID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">method_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;methodID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_id</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._axis"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._axis.html#obspy.io.quakeml.core.Unpickler._axis">[docs]</a>    <span class="k">def</span> <span class="nf">_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an Axis object.</span>

<span class="sd">        :type parent: etree.Element</span>
<span class="sd">        :type name: str</span>
<span class="sd">        :param name: tag name of axis</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Axis`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Axis</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">azimuth</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">azimuth_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;azimuth&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">plunge</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">plunge_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;plunge&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">length_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._principal_axes"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._principal_axes.html#obspy.io.quakeml.core.Unpickler._principal_axes">[docs]</a>    <span class="k">def</span> <span class="nf">_principal_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an PrincipalAxes object.</span>

<span class="sd">        :type parent: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.PrincipalAxes`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;principalAxes&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">PrincipalAxes</span><span class="p">()</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">t_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axis</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;tAxis&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">p_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axis</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;pAxis&#39;</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_axis</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;nAxis&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._nodal_plane"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._nodal_plane.html#obspy.io.quakeml.core.Unpickler._nodal_plane">[docs]</a>    <span class="k">def</span> <span class="nf">_nodal_plane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an NodalPlane object.</span>

<span class="sd">        :type parent: etree.Element</span>
<span class="sd">        :type name: str</span>
<span class="sd">        :param name: tag name of sub nodal plane</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.NodalPlane`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">NodalPlane</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span>
        <span class="c1"># required parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">strike</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">strike_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;strike&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">dip</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">dip_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;dip&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">rake</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">rake_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;rake&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._nodal_planes"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._nodal_planes.html#obspy.io.quakeml.core.Unpickler._nodal_planes">[docs]</a>    <span class="k">def</span> <span class="nf">_nodal_planes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an NodalPlanes object.</span>

<span class="sd">        :type parent: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.NodalPlanes`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">NodalPlanes</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;nodalPlanes&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodal_plane</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;nodalPlane1&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodal_plane</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;nodalPlane2&#39;</span><span class="p">)</span>
        <span class="c1"># optional attribute</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">preferred_plane</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sub_el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;preferredPlane&#39;</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">preferred_plane</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._source_time_function"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._source_time_function.html#obspy.io.quakeml.core.Unpickler._source_time_function">[docs]</a>    <span class="k">def</span> <span class="nf">_source_time_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an SourceTimeFunction object.</span>

<span class="sd">        :type parent: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.SourceTimeFunction`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">SourceTimeFunction</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;sourceTimeFunction&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span>
        <span class="c1"># required parameters</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">rise_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;riseTime&#39;</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">decay_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;decayTime&#39;</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._tensor"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._tensor.html#obspy.io.quakeml.core.Unpickler._tensor">[docs]</a>    <span class="k">def</span> <span class="nf">_tensor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an Tensor object.</span>

<span class="sd">        :type parent: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.Tensor`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;tensor&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span>
        <span class="c1"># required parameters</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">m_rr</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">m_rr_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mrr&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">m_tt</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">m_tt_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mtt&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">m_pp</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">m_pp_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mpp&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">m_rt</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">m_rt_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mrt&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">m_rp</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">m_rp_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mrp&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">m_tp</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">m_tp_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mtp&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub_el</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._data_used"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._data_used.html#obspy.io.quakeml.core.Unpickler._data_used">[docs]</a>    <span class="k">def</span> <span class="nf">_data_used</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into a list of DataUsed objects.</span>

<span class="sd">        :type parent: etree.Element</span>
<span class="sd">        :rtype: list of :class:`~obspy.core.event.DataUsed`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;dataUsed&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
            <span class="n">data_used</span> <span class="o">=</span> <span class="n">DataUsed</span><span class="p">()</span>
            <span class="c1"># required parameters</span>
            <span class="n">data_used</span><span class="o">.</span><span class="n">wave_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;waveType&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
            <span class="c1"># optional parameter</span>
            <span class="n">data_used</span><span class="o">.</span><span class="n">station_count</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;stationCount&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
            <span class="n">data_used</span><span class="o">.</span><span class="n">component_count</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;componentCount&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
            <span class="n">data_used</span><span class="o">.</span><span class="n">shortest_period</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;shortestPeriod&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="n">data_used</span><span class="o">.</span><span class="n">longest_period</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;longestPeriod&#39;</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="n">data_used</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_used</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._moment_tensor"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._moment_tensor.html#obspy.io.quakeml.core.Unpickler._moment_tensor">[docs]</a>    <span class="k">def</span> <span class="nf">_moment_tensor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into an MomentTensor object.</span>

<span class="sd">        :type parent: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.MomentTensor`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">MomentTensor</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mt_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;momentTensor&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span>
        <span class="c1"># required parameters</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">derived_origin_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;derivedOriginID&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">moment_magnitude_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;momentMagnitudeID&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">scalar_moment</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">scalar_moment_errors</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_float_value</span><span class="p">(</span><span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;scalarMoment&#39;</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">tensor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tensor</span><span class="p">(</span><span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">variance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;variance&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">variance_reduction</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;varianceReduction&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">double_couple</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;doubleCouple&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">clvd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;clvd&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">iso</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;iso&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">greens_function_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;greensFunctionID&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">filter_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;filterID&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">source_time_function</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source_time_function</span><span class="p">(</span><span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">data_used</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_used</span><span class="p">(</span><span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">method_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;methodID&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">inversion_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;inversionType&#39;</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">mt_el</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">mt_el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">mt_el</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._focal_mechanism"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._focal_mechanism.html#obspy.io.quakeml.core.Unpickler._focal_mechanism">[docs]</a>    <span class="k">def</span> <span class="nf">_focal_mechanism</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an etree.Element into a FocalMechanism object.</span>

<span class="sd">        :type element: etree.Element</span>
<span class="sd">        :rtype: :class:`~obspy.core.event.FocalMechanism`</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from lxml import etree</span>
<span class="sd">        &gt;&gt;&gt; XML = b&#39;&#39;&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="sd">        ... &lt;focalMechanism&gt;</span>
<span class="sd">        ...   &lt;methodID&gt;smi:ISC/methodID=Best_double_couple&lt;/methodID&gt;</span>
<span class="sd">        ... &lt;/focalMechanism&gt;&#39;&#39;&#39;</span>
<span class="sd">        &gt;&gt;&gt; xml_doc = etree.fromstring(XML)</span>
<span class="sd">        &gt;&gt;&gt; unpickler = Unpickler(xml_doc)</span>
<span class="sd">        &gt;&gt;&gt; fm = unpickler._focal_mechanism(xml_doc)</span>
<span class="sd">        &gt;&gt;&gt; print(fm.method_id)</span>
<span class="sd">        smi:ISC/methodID=Best_double_couple</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">FocalMechanism</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="c1"># optional parameter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">waveform_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_ids</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">triggering_origin_id</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;triggeringOriginID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">azimuthal_gap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;azimuthalGap&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">station_polarity_count</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;stationPolarityCount&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">misfit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;misfit&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">station_distribution_ratio</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;stationDistributionRatio&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">method_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;methodID&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">moment_tensor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_moment_tensor</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_planes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodal_planes</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">principal_axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_principal_axes</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationMode&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">evaluation_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;evaluationStatus&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Unpickler._deserialize"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._deserialize.html#obspy.io.quakeml.core.Unpickler._deserialize">[docs]</a>    <span class="k">def</span> <span class="nf">_deserialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># check node &quot;quakeml/eventParameters&quot; for global namespace</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">namespace</span> <span class="o">=</span> <span class="n">_get_first_child_namespace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="p">)</span>
            <span class="n">catalog_el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;eventParameters&#39;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Not a QuakeML compatible file or string&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_quakeml_namespaces</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ns</span> <span class="k">for</span> <span class="n">ns</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">nsmap</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">ns</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;http://quakeml.org/xmlns/&quot;</span><span class="p">)]</span>
        <span class="c1"># create catalog</span>
        <span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># add any custom namespace abbreviations of root element to Catalog</span>
        <span class="n">catalog</span><span class="o">.</span><span class="n">nsmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_root</span><span class="o">.</span><span class="n">nsmap</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="c1"># optional catalog attributes</span>
        <span class="n">catalog</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="n">catalog_el</span><span class="p">)</span>
        <span class="n">catalog</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">catalog_el</span><span class="p">)</span>
        <span class="n">catalog</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">catalog_el</span><span class="p">)</span>
        <span class="c1"># loop over all events</span>
        <span class="k">for</span> <span class="n">event_el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;event&#39;</span><span class="p">,</span> <span class="n">catalog_el</span><span class="p">):</span>
            <span class="c1"># create new Event object</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">force_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="c1"># optional event attributes</span>
            <span class="n">event</span><span class="o">.</span><span class="n">preferred_origin_id</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;preferredOriginID&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">)</span>
            <span class="n">event</span><span class="o">.</span><span class="n">preferred_magnitude_id</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;preferredMagnitudeID&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">)</span>
            <span class="n">event</span><span class="o">.</span><span class="n">preferred_focal_mechanism_id</span> <span class="o">=</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;preferredFocalMechanismID&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">)</span>
            <span class="n">event_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">)</span>
            <span class="c1"># Change for QuakeML 1.2RC4. &#39;null&#39; is no longer acceptable as an</span>
            <span class="c1"># event type. Will be replaced with &#39;not reported&#39;.</span>
            <span class="k">if</span> <span class="n">event_type</span> <span class="o">==</span> <span class="s2">&quot;null&quot;</span><span class="p">:</span>
                <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;not reported&quot;</span>
            <span class="c1"># USGS event types contain &#39;_&#39; which is not compliant with</span>
            <span class="c1"># the QuakeML standard</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">event_type</span> <span class="o">=</span> <span class="n">event_type</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">event</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="n">event_type</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Event type &#39;</span><span class="si">%s</span><span class="s2">&#39; does not comply &quot;</span> <span class="o">%</span> <span class="n">event_type</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;with QuakeML standard -- event will be ignored.&quot;</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">event</span><span class="o">.</span><span class="n">event_type_certainty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath2obj</span><span class="p">(</span>
                <span class="s1">&#39;typeCertainty&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">)</span>
            <span class="n">event</span><span class="o">.</span><span class="n">creation_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">event_el</span><span class="p">)</span>
            <span class="n">event</span><span class="o">.</span><span class="n">event_descriptions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_description</span><span class="p">(</span><span class="n">event_el</span><span class="p">)</span>
            <span class="n">event</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">event_el</span><span class="p">)</span>
            <span class="c1"># origins</span>
            <span class="n">event</span><span class="o">.</span><span class="n">origins</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">origin_el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;origin&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">):</span>
                <span class="c1"># Have to be created before the origin is created to avoid a</span>
                <span class="c1"># rare issue where a warning is read when the same event is</span>
                <span class="c1"># read twice - the warnings does not occur if two referred</span>
                <span class="c1"># to objects compare equal - for this the arrivals have to</span>
                <span class="c1"># be bound to the event before the resource id is assigned.</span>
                <span class="n">arrivals</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">arrival_el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;arrival&#39;</span><span class="p">,</span> <span class="n">origin_el</span><span class="p">):</span>
                    <span class="n">arrival</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrival</span><span class="p">(</span><span class="n">arrival_el</span><span class="p">)</span>
                    <span class="n">arrivals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arrival</span><span class="p">)</span>

                <span class="n">origin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_origin</span><span class="p">(</span><span class="n">origin_el</span><span class="p">,</span> <span class="n">arrivals</span><span class="o">=</span><span class="n">arrivals</span><span class="p">)</span>

                <span class="c1"># append origin with arrivals</span>
                <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
            <span class="c1"># magnitudes</span>
            <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">magnitude_el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;magnitude&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">):</span>
                <span class="n">magnitude</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_magnitude</span><span class="p">(</span><span class="n">magnitude_el</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">magnitude</span><span class="p">)</span>
            <span class="c1"># station magnitudes</span>
            <span class="n">event</span><span class="o">.</span><span class="n">station_magnitudes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">magnitude_el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;stationMagnitude&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">):</span>
                <span class="n">magnitude</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_station_magnitude</span><span class="p">(</span><span class="n">magnitude_el</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">station_magnitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">magnitude</span><span class="p">)</span>
            <span class="c1"># picks</span>
            <span class="n">event</span><span class="o">.</span><span class="n">picks</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">pick_el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;pick&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">):</span>
                <span class="n">pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pick</span><span class="p">(</span><span class="n">pick_el</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">picks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pick</span><span class="p">)</span>
            <span class="c1"># amplitudes</span>
            <span class="n">event</span><span class="o">.</span><span class="n">amplitudes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;amplitude&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">):</span>
                <span class="n">amp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_amplitude</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">amplitudes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">amp</span><span class="p">)</span>
            <span class="c1"># focal mechanisms</span>
            <span class="n">event</span><span class="o">.</span><span class="n">focal_mechanisms</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">fm_el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xpath</span><span class="p">(</span><span class="s1">&#39;focalMechanism&#39;</span><span class="p">,</span> <span class="n">event_el</span><span class="p">):</span>
                <span class="n">fm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_focal_mechanism</span><span class="p">(</span><span class="n">fm_el</span><span class="p">)</span>
                <span class="n">event</span><span class="o">.</span><span class="n">focal_mechanisms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fm</span><span class="p">)</span>
            <span class="c1"># finally append newly created event to catalog</span>
            <span class="n">event</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">event_el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">event_el</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
            <span class="n">catalog</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="n">catalog</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">catalog_el</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;publicID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">catalog_el</span><span class="p">,</span> <span class="n">catalog</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">catalog</span></div>

<div class="viewcode-block" id="Unpickler._extra"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Unpickler._extra.html#obspy.io.quakeml.core.Unpickler._extra">[docs]</a>    <span class="k">def</span> <span class="nf">_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add information stored in custom tags/attributes in obj.extra.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># search all namespaces in current scope</span>
        <span class="k">for</span> <span class="n">ns</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">nsmap</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="c1"># skip the two top-level quakeml namespaces,</span>
            <span class="c1"># we&#39;re not interested in quakeml defined tags here</span>
            <span class="k">if</span> <span class="n">ns</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_quakeml_namespaces</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="c1"># process all elements of this custom namespace, if any</span>
            <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">iterfind</span><span class="p">(</span><span class="s2">&quot;{</span><span class="si">%s</span><span class="s2">}*&quot;</span> <span class="o">%</span> <span class="n">ns</span><span class="p">):</span>
                <span class="c1"># remove namespace from tag name</span>
                <span class="n">_</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">el</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">el</span><span class="o">.</span><span class="n">text</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">extra</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;extra&quot;</span><span class="p">,</span> <span class="n">AttribDict</span><span class="p">())</span>
                <span class="c1"># Catalog object is not based on AttribDict..</span>
                <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Catalog</span><span class="p">):</span>
                        <span class="k">raise</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;extra&quot;</span><span class="p">):</span>
                        <span class="n">extra</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">extra</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">extra</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">()</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">extra</span>
                <span class="n">extra</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
                               <span class="s1">&#39;namespace&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ns</span><span class="p">}</span>
                <span class="k">if</span> <span class="n">el</span><span class="o">.</span><span class="n">attrib</span><span class="p">:</span>
                    <span class="n">extra</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;attrib&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">el</span><span class="o">.</span><span class="n">attrib</span>
        <span class="c1"># process all attributes of custom namespaces, if any</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">attrib</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># no custom namespace</span>
            <span class="k">if</span> <span class="s2">&quot;}&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="c1"># separate namespace from tag name</span>
            <span class="n">ns</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">extra</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;extra&quot;</span><span class="p">,</span> <span class="n">AttribDict</span><span class="p">())</span>
            <span class="c1"># Catalog object is not based on AttribDict..</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Catalog</span><span class="p">):</span>
                    <span class="k">raise</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;extra&quot;</span><span class="p">):</span>
                    <span class="n">extra</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">extra</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">extra</span> <span class="o">=</span> <span class="n">AttribDict</span><span class="p">()</span>
                    <span class="n">obj</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="n">extra</span>
            <span class="n">extra</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">),</span>
                           <span class="s1">&#39;namespace&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ns</span><span class="p">,</span>
                           <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;attribute&#39;</span><span class="p">}</span></div></div>


<div class="viewcode-block" id="Pickler"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler.html#obspy.io.quakeml.core.Pickler">[docs]</a><span class="k">class</span> <span class="nc">Pickler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Serializes an ObsPy Catalog object into QuakeML format.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Pickler.__init__"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler.__init__.html#obspy.io.quakeml.core.Pickler.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nsmap</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="c1"># set of namespace urls without given abbreviation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ns_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="c1"># dictionary of namespace/namespace urls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ns_dict</span> <span class="o">=</span> <span class="n">nsmap</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ns_dict</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ns_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ns_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">NSMAP_QUAKEML</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span></div>

<div class="viewcode-block" id="Pickler.dump"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler.dump.html#obspy.io.quakeml.core.Pickler.dump">[docs]</a>    <span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">catalog</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes ObsPy Catalog into given file.</span>

<span class="sd">        :type catalog: :class:`~obspy.core.event.Catalog`</span>
<span class="sd">        :param catalog: ObsPy Catalog object.</span>
<span class="sd">        :type file: str</span>
<span class="sd">        :param file: File name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;wt&#39;</span><span class="p">)</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_serialize</span><span class="p">(</span><span class="n">catalog</span><span class="p">))</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>

<div class="viewcode-block" id="Pickler.dumps"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler.dumps.html#obspy.io.quakeml.core.Pickler.dumps">[docs]</a>    <span class="k">def</span> <span class="nf">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">catalog</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns QuakeML string of given ObsPy Catalog object.</span>

<span class="sd">        :type catalog: :class:`~obspy.core.event.Catalog`</span>
<span class="sd">        :param catalog: ObsPy Catalog object.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        :returns: QuakeML formatted string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialize</span><span class="p">(</span><span class="n">catalog</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._id"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._id.html#obspy.io.quakeml.core.Pickler._id">[docs]</a>    <span class="k">def</span> <span class="nf">_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">get_quakeml_uri</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ResourceIdentifier</span><span class="p">()</span><span class="o">.</span><span class="n">get_quakeml_uri</span><span class="p">()</span></div>

<div class="viewcode-block" id="Pickler._str"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._str.html#obspy.io.quakeml.core.Pickler._str">[docs]</a>    <span class="k">def</span> <span class="nf">_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">always_create</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ResourceIdentifier</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_quakeml_uri</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">always_create</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="n">attrib</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span></div>

<div class="viewcode-block" id="Pickler._bool"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._bool.html#obspy.io.quakeml.core.Pickler._bool">[docs]</a>    <span class="k">def</span> <span class="nf">_bool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">always_create</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">always_create</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="n">attrib</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> \
            <span class="nb">str</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span></div>

<div class="viewcode-block" id="Pickler._time"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._time.html#obspy.io.quakeml.core.Pickler._time">[docs]</a>    <span class="k">def</span> <span class="nf">_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">always_create</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">always_create</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._value"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._value.html#obspy.io.quakeml.core.Pickler._value">[docs]</a>    <span class="k">def</span> <span class="nf">_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">always_create</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">always_create</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">quantity</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">subelement</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">quantity</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">uncertainty</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;uncertainty&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">lower_uncertainty</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;lowerUncertainty&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">upper_uncertainty</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;upperUncertainty&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">confidence_level</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;confidenceLevel&#39;</span><span class="p">)</span>
        <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subelement</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._waveform_id"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._waveform_id.html#obspy.io.quakeml.core.Pickler._waveform_id">[docs]</a>    <span class="k">def</span> <span class="nf">_waveform_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">attrib</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">network_code</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;networkCode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">network_code</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">station_code</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;stationCode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">station_code</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">location_code</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;locationCode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">location_code</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">channel_code</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;channelCode&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">channel_code</span>
        <span class="n">subelement</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;waveformID&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="n">attrib</span><span class="p">)</span>
        <span class="c1"># WaveformStreamID has a non-mandatory resource_id</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">resource_uri</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">obj</span><span class="o">.</span><span class="n">resource_uri</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">subelement</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">subelement</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">resource_uri</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subelement</span><span class="o">.</span><span class="n">attrib</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">required</span><span class="p">:</span>
            <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subelement</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._waveform_ids"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._waveform_ids.html#obspy.io.quakeml.core.Pickler._waveform_ids">[docs]</a>    <span class="k">def</span> <span class="nf">_waveform_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objs</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_id</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="n">required</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._creation_info"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._creation_info.html#obspy.io.quakeml.core.Pickler._creation_info">[docs]</a>    <span class="k">def</span> <span class="nf">_creation_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">creation_info</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">creation_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">subelement</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;creationInfo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">creation_info</span><span class="o">.</span><span class="n">agency_id</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;agencyID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">creation_info</span><span class="o">.</span><span class="n">agency_uri</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;agencyURI&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">creation_info</span><span class="o">.</span><span class="n">author</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;author&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">creation_info</span><span class="o">.</span><span class="n">author_uri</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;authorURI&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_time</span><span class="p">(</span><span class="n">creation_info</span><span class="o">.</span><span class="n">creation_time</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;creationTime&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">creation_info</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="n">subelement</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">subelement</span><span class="p">)</span>
        <span class="c1"># append only if at least one sub-element is set</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subelement</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subelement</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._station_magnitude_contributions"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._station_magnitude_contributions.html#obspy.io.quakeml.core.Pickler._station_magnitude_contributions">[docs]</a>    <span class="k">def</span> <span class="nf">_station_magnitude_contributions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stat_contrib</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">contrib</span> <span class="ow">in</span> <span class="n">stat_contrib</span><span class="p">:</span>
            <span class="n">contrib_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;stationMagnitudeContribution&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">contrib</span><span class="o">.</span><span class="n">station_magnitude_id</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">contrib_el</span><span class="p">,</span>
                      <span class="s1">&#39;stationMagnitudeID&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">contrib</span><span class="o">.</span><span class="n">weight</span><span class="p">,</span> <span class="n">contrib_el</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">contrib</span><span class="o">.</span><span class="n">residual</span><span class="p">,</span> <span class="n">contrib_el</span><span class="p">,</span> <span class="s1">&#39;residual&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">contrib</span><span class="p">,</span> <span class="n">contrib_el</span><span class="p">)</span>
            <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">contrib_el</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._comments"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._comments.html#obspy.io.quakeml.core.Pickler._comments">[docs]</a>    <span class="k">def</span> <span class="nf">_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">comments</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">comments</span><span class="p">:</span>
            <span class="n">attrib</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">comment</span><span class="o">.</span><span class="n">resource_id</span><span class="p">:</span>
                <span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">comment</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>
            <span class="n">comment_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;comment&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="n">attrib</span><span class="p">)</span>
            <span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">comment_el</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">comment</span><span class="o">.</span><span class="n">text</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">comment</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">comment_el</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">comment</span><span class="p">,</span> <span class="n">comment_el</span><span class="p">)</span>
            <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_el</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._extra"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._extra.html#obspy.io.quakeml.core.Pickler._extra">[docs]</a>    <span class="k">def</span> <span class="nf">_extra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add information stored in obj.extra as custom tags/attributes in</span>
<span class="sd">        non-quakeml namespace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;extra&quot;</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
            <span class="n">ns</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;namespace&quot;</span><span class="p">]</span>
            <span class="n">attrib</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;attrib&quot;</span><span class="p">,</span> <span class="p">{})</span>
            <span class="n">type_</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;element&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_namespace</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="s2">&quot;{</span><span class="si">%s</span><span class="s2">}</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ns</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="c1"># add either as subelement or attribute</span>
            <span class="k">if</span> <span class="n">type_</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;attribute&quot;</span><span class="p">,</span> <span class="s2">&quot;attrib&quot;</span><span class="p">):</span>
                <span class="n">element</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">type_</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;element&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_bool</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="n">attrib</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="n">attrib</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Invalid &#39;type&#39; for custom QuakeML item: &#39;</span><span class="si">%s</span><span class="s2">&#39;. &quot;</span>
                       <span class="s2">&quot;Should be either &#39;element&#39; or &#39;attribute&#39; or &quot;</span>
                       <span class="s2">&quot;left empty.&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="n">type_</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._get_namespace_map"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._get_namespace_map.html#obspy.io.quakeml.core.Pickler._get_namespace_map">[docs]</a>    <span class="k">def</span> <span class="nf">_get_namespace_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nsmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ns_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">_i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">ns</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ns_set</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ns</span> <span class="ow">in</span> <span class="n">nsmap</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">continue</span>
            <span class="n">ns_abbrev</span> <span class="o">=</span> <span class="s2">&quot;ns</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">_i</span>
            <span class="k">while</span> <span class="n">ns_abbrev</span> <span class="ow">in</span> <span class="n">nsmap</span><span class="p">:</span>
                <span class="n">_i</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">ns_abbrev</span> <span class="o">=</span> <span class="s2">&quot;ns</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">_i</span>
            <span class="n">nsmap</span><span class="p">[</span><span class="n">ns_abbrev</span><span class="p">]</span> <span class="o">=</span> <span class="n">ns</span>
        <span class="k">return</span> <span class="n">nsmap</span></div>

<div class="viewcode-block" id="Pickler._add_namespace"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._add_namespace.html#obspy.io.quakeml.core.Pickler._add_namespace">[docs]</a>    <span class="k">def</span> <span class="nf">_add_namespace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ns</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ns_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._arrival"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._arrival.html#obspy.io.quakeml.core.Pickler._arrival">[docs]</a>    <span class="k">def</span> <span class="nf">_arrival</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arrival</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an Arrival into etree.Element object.</span>

<span class="sd">        :type arrival: :class:`~obspy.core.event.Arrival`</span>
<span class="sd">        :rtype: etree.Element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">attrib</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)}</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;arrival&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="n">attrib</span><span class="p">)</span>
        <span class="c1"># required parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">pick_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;pickID&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">phase</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;phase&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">time_correction</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;timeCorrection&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">azimuth</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;azimuth&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;distance&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">takeoff_angle</span><span class="p">,</span> <span class="n">arrival</span><span class="o">.</span><span class="n">takeoff_angle_errors</span><span class="p">,</span>
                    <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;takeoffAngle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">time_residual</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;timeResidual&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">horizontal_slowness_residual</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                  <span class="s1">&#39;horizontalSlownessResidual&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">backazimuth_residual</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;backazimuthResidual&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">time_weight</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;timeWeight&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">horizontal_slowness_weight</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                  <span class="s1">&#39;horizontalSlownessWeight&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">backazimuth_weight</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;backazimuthWeight&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">earth_model_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;earthModelID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">arrival</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">arrival</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">element</span></div>

<div class="viewcode-block" id="Pickler._magnitude"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._magnitude.html#obspy.io.quakeml.core.Pickler._magnitude">[docs]</a>    <span class="k">def</span> <span class="nf">_magnitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">magnitude</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an Magnitude into etree.Element object.</span>

<span class="sd">        :type magnitude: :class:`~obspy.core.event.Magnitude`</span>
<span class="sd">        :rtype: etree.Element</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from obspy.io.quakeml.core import Pickler</span>
<span class="sd">        &gt;&gt;&gt; from obspy.core.event import Magnitude</span>
<span class="sd">        &gt;&gt;&gt; from lxml.etree import tostring</span>
<span class="sd">        &gt;&gt;&gt; magnitude = Magnitude()</span>
<span class="sd">        &gt;&gt;&gt; magnitude.mag = 3.2</span>
<span class="sd">        &gt;&gt;&gt; el = Pickler()._magnitude(magnitude)</span>
<span class="sd">        &gt;&gt;&gt; print(tostring(el, encoding=&quot;utf-8&quot;,</span>
<span class="sd">        ...                xml_declaration=True).decode()) \</span>
<span class="sd">                # doctest: +ELLIPSIS +NORMALIZE_WHITESPACE</span>
<span class="sd">        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;</span>
<span class="sd">        &lt;magnitude ...&lt;mag&gt;&lt;value&gt;3.2&lt;/value&gt;&lt;/mag&gt;...&lt;/magnitude&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span>
            <span class="s1">&#39;magnitude&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">.</span><span class="n">mag_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">magnitude_type</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">origin_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;originID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">method_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;methodID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">station_count</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;stationCount&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">azimuthal_gap</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;azimuthalGap&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationMode&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">evaluation_status</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationStatus&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_station_magnitude_contributions</span><span class="p">(</span>
            <span class="n">magnitude</span><span class="o">.</span><span class="n">station_magnitude_contributions</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">magnitude</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">element</span></div>

<div class="viewcode-block" id="Pickler._station_magnitude"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._station_magnitude.html#obspy.io.quakeml.core.Pickler._station_magnitude">[docs]</a>    <span class="k">def</span> <span class="nf">_station_magnitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">magnitude</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an StationMagnitude into etree.Element object.</span>

<span class="sd">        :type magnitude: :class:`~obspy.core.event.StationMagnitude`</span>
<span class="sd">        :rtype: etree.Element</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from obspy.io.quakeml.core import Pickler</span>
<span class="sd">        &gt;&gt;&gt; from obspy.core.event import StationMagnitude</span>
<span class="sd">        &gt;&gt;&gt; from lxml.etree import tostring</span>
<span class="sd">        &gt;&gt;&gt; station_mag = StationMagnitude()</span>
<span class="sd">        &gt;&gt;&gt; station_mag.mag = 3.2</span>
<span class="sd">        &gt;&gt;&gt; el = Pickler()._station_magnitude(station_mag)</span>
<span class="sd">        &gt;&gt;&gt; print(tostring(el, encoding=&quot;utf-8&quot;,</span>
<span class="sd">        ...       xml_declaration=True).decode()) \</span>
<span class="sd">                # doctest: +ELLIPSIS +NORMALIZE_WHITESPACE</span>
<span class="sd">        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;</span>
<span class="sd">        &lt;stationMagnitude ...&lt;value&gt;3.2&lt;/value&gt;...&lt;/stationMagnitude&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span>
            <span class="s1">&#39;stationMagnitude&#39;</span><span class="p">,</span>
            <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">origin_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;originID&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">.</span><span class="n">mag_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">station_magnitude_type</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">amplitude_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;amplitudeID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">method_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;methodID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_id</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">waveform_id</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">magnitude</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">magnitude</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">element</span></div>

<div class="viewcode-block" id="Pickler._origin"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._origin.html#obspy.io.quakeml.core.Pickler._origin">[docs]</a>    <span class="k">def</span> <span class="nf">_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an Origin into etree.Element object.</span>

<span class="sd">        :type origin: :class:`~obspy.core.event.Origin`</span>
<span class="sd">        :rtype: etree.Element</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; from obspy.io.quakeml.core import Pickler</span>
<span class="sd">        &gt;&gt;&gt; from obspy.core.event import Origin</span>
<span class="sd">        &gt;&gt;&gt; from lxml.etree import tostring</span>
<span class="sd">        &gt;&gt;&gt; origin = Origin()</span>
<span class="sd">        &gt;&gt;&gt; origin.latitude = 34.23</span>
<span class="sd">        &gt;&gt;&gt; el = Pickler()._origin(origin)</span>
<span class="sd">        &gt;&gt;&gt; print(tostring(el, encoding=&quot;utf-8&quot;,</span>
<span class="sd">        ...                xml_declaration=True).decode()) \</span>
<span class="sd">                # doctest: +ELLIPSIS +NORMALIZE_WHITESPACE</span>
<span class="sd">        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;</span>
<span class="sd">        &lt;origin ...&lt;latitude&gt;&lt;value&gt;34.23&lt;/value&gt;&lt;/latitude&gt;...&lt;/origin&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span>
            <span class="s1">&#39;origin&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">origin</span><span class="o">.</span><span class="n">time_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">origin</span><span class="o">.</span><span class="n">latitude_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                    <span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span> <span class="n">origin</span><span class="o">.</span><span class="n">longitude_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                    <span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">origin</span><span class="o">.</span><span class="n">depth_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">depth_type</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;depthType&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bool</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">time_fixed</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;timeFixed&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bool</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">epicenter_fixed</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;epicenterFixed&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">reference_system_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;referenceSystemID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">method_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;methodID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">earth_model_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;earthModelID&#39;</span><span class="p">)</span>
        <span class="c1"># compositeTime</span>
        <span class="k">for</span> <span class="n">ctime</span> <span class="ow">in</span> <span class="n">origin</span><span class="o">.</span><span class="n">composite_times</span><span class="p">:</span>
            <span class="n">ct_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;compositeTime&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">ctime</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">ctime</span><span class="o">.</span><span class="n">year_errors</span><span class="p">,</span> <span class="n">ct_el</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">ctime</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">ctime</span><span class="o">.</span><span class="n">month_errors</span><span class="p">,</span> <span class="n">ct_el</span><span class="p">,</span> <span class="s1">&#39;month&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">ctime</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">ctime</span><span class="o">.</span><span class="n">day_errors</span><span class="p">,</span> <span class="n">ct_el</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">ctime</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="n">ctime</span><span class="o">.</span><span class="n">hour_errors</span><span class="p">,</span> <span class="n">ct_el</span><span class="p">,</span> <span class="s1">&#39;hour&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">ctime</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="n">ctime</span><span class="o">.</span><span class="n">minute_errors</span><span class="p">,</span> <span class="n">ct_el</span><span class="p">,</span> <span class="s1">&#39;minute&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">ctime</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">ctime</span><span class="o">.</span><span class="n">second_errors</span><span class="p">,</span> <span class="n">ct_el</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">ctime</span><span class="p">,</span> <span class="n">ct_el</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ct_el</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ct_el</span><span class="p">)</span>
        <span class="c1"># quality</span>
        <span class="n">qu</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">quality</span>
        <span class="k">if</span> <span class="n">qu</span><span class="p">:</span>
            <span class="n">qu_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;quality&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">associated_phase_count</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;associatedPhaseCount&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">used_phase_count</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;usedPhaseCount&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">associated_station_count</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span>
                      <span class="s1">&#39;associatedStationCount&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">used_station_count</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;usedStationCount&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">depth_phase_count</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;depthPhaseCount&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">standard_error</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;standardError&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">azimuthal_gap</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;azimuthalGap&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">secondary_azimuthal_gap</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span>
                      <span class="s1">&#39;secondaryAzimuthalGap&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">ground_truth_level</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;groundTruthLevel&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">minimum_distance</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;minimumDistance&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">maximum_distance</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;maximumDistance&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">qu</span><span class="o">.</span><span class="n">median_distance</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">,</span> <span class="s1">&#39;medianDistance&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">qu</span><span class="p">,</span> <span class="n">qu_el</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">qu_el</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qu_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">origin_type</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;region&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationMode&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">evaluation_status</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationStatus&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">origin</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="c1"># origin uncertainty</span>
        <span class="n">ou</span> <span class="o">=</span> <span class="n">origin</span><span class="o">.</span><span class="n">origin_uncertainty</span>
        <span class="k">if</span> <span class="n">ou</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ou_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;originUncertainty&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ou</span><span class="o">.</span><span class="n">preferred_description</span><span class="p">,</span> <span class="n">ou_el</span><span class="p">,</span> <span class="s1">&#39;preferredDescription&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ou</span><span class="o">.</span><span class="n">horizontal_uncertainty</span><span class="p">,</span> <span class="n">ou_el</span><span class="p">,</span>
                      <span class="s1">&#39;horizontalUncertainty&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ou</span><span class="o">.</span><span class="n">min_horizontal_uncertainty</span><span class="p">,</span> <span class="n">ou_el</span><span class="p">,</span>
                      <span class="s1">&#39;minHorizontalUncertainty&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ou</span><span class="o">.</span><span class="n">max_horizontal_uncertainty</span><span class="p">,</span> <span class="n">ou_el</span><span class="p">,</span>
                      <span class="s1">&#39;maxHorizontalUncertainty&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ou</span><span class="o">.</span><span class="n">azimuth_max_horizontal_uncertainty</span><span class="p">,</span> <span class="n">ou_el</span><span class="p">,</span>
                      <span class="s1">&#39;azimuthMaxHorizontalUncertainty&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ou</span><span class="o">.</span><span class="n">confidence_level</span><span class="p">,</span> <span class="n">ou_el</span><span class="p">,</span>
                      <span class="s1">&#39;confidenceLevel&#39;</span><span class="p">)</span>
            <span class="n">ce</span> <span class="o">=</span> <span class="n">ou</span><span class="o">.</span><span class="n">confidence_ellipsoid</span>
            <span class="k">if</span> <span class="n">ce</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ce_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;confidenceEllipsoid&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">semi_major_axis_length</span><span class="p">,</span> <span class="n">ce_el</span><span class="p">,</span>
                          <span class="s1">&#39;semiMajorAxisLength&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">semi_minor_axis_length</span><span class="p">,</span> <span class="n">ce_el</span><span class="p">,</span>
                          <span class="s1">&#39;semiMinorAxisLength&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">semi_intermediate_axis_length</span><span class="p">,</span> <span class="n">ce_el</span><span class="p">,</span>
                          <span class="s1">&#39;semiIntermediateAxisLength&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">major_axis_plunge</span><span class="p">,</span> <span class="n">ce_el</span><span class="p">,</span> <span class="s1">&#39;majorAxisPlunge&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">major_axis_azimuth</span><span class="p">,</span> <span class="n">ce_el</span><span class="p">,</span> <span class="s1">&#39;majorAxisAzimuth&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">major_axis_rotation</span><span class="p">,</span> <span class="n">ce_el</span><span class="p">,</span> <span class="s1">&#39;majorAxisRotation&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">ce_el</span><span class="p">)</span>
                <span class="c1"># add confidence ellipsoid to origin uncertainty only if set</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ce_el</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">ou_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ce_el</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">ou</span><span class="p">,</span> <span class="n">ou_el</span><span class="p">)</span>
            <span class="c1"># add origin uncertainty to origin only if anything is set</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ou_el</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ou_el</span><span class="p">)</span>
        <span class="c1"># arrivals</span>
        <span class="k">for</span> <span class="n">ar</span> <span class="ow">in</span> <span class="n">origin</span><span class="o">.</span><span class="n">arrivals</span><span class="p">:</span>
            <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_arrival</span><span class="p">(</span><span class="n">ar</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">element</span></div>

<div class="viewcode-block" id="Pickler._time_window"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._time_window.html#obspy.io.quakeml.core.Pickler._time_window">[docs]</a>    <span class="k">def</span> <span class="nf">_time_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_window</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;timeWindow&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_time</span><span class="p">(</span><span class="n">time_window</span><span class="o">.</span><span class="n">reference</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;reference&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">time_window</span><span class="o">.</span><span class="n">begin</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;begin&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">time_window</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">time_window</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._amplitude"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._amplitude.html#obspy.io.quakeml.core.Pickler._amplitude">[docs]</a>    <span class="k">def</span> <span class="nf">_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amp</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts an Amplitude into etree.Element object.</span>

<span class="sd">        :type amp: :class:`~obspy.core.event.Amplitude`</span>
<span class="sd">        :rtype: etree.Element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span>
            <span class="s1">&#39;amplitude&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
        <span class="c1"># required parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">generic_amplitude</span><span class="p">,</span> <span class="n">amp</span><span class="o">.</span><span class="n">generic_amplitude_errors</span><span class="p">,</span>
                    <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;genericAmplitude&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">unit</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;unit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">method_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;methodID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">period</span><span class="p">,</span> <span class="n">amp</span><span class="o">.</span><span class="n">period_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;period&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">snr</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;snr&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">amp</span><span class="o">.</span><span class="n">time_window</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_time_window</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">time_window</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">pick_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;pickID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_id</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">waveform_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">filter_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;filterID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">scaling_time</span><span class="p">,</span> <span class="n">amp</span><span class="o">.</span><span class="n">scaling_time_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                    <span class="s1">&#39;scalingTime&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">magnitude_hint</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;magnitudeHint&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationMode&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">evaluation_status</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationStatus&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">amp</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">amp</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">element</span></div>

<div class="viewcode-block" id="Pickler._pick"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._pick.html#obspy.io.quakeml.core.Pickler._pick">[docs]</a>    <span class="k">def</span> <span class="nf">_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pick</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a Pick into etree.Element object.</span>

<span class="sd">        :type pick: :class:`~obspy.core.event.Pick`</span>
<span class="sd">        :rtype: etree.Element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span>
            <span class="s1">&#39;pick&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
        <span class="c1"># required parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">pick</span><span class="o">.</span><span class="n">time_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_id</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">waveform_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">filter_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;filterID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">method_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;methodID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">horizontal_slowness</span><span class="p">,</span> <span class="n">pick</span><span class="o">.</span><span class="n">horizontal_slowness_errors</span><span class="p">,</span>
                    <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;horizontalSlowness&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">backazimuth</span><span class="p">,</span> <span class="n">pick</span><span class="o">.</span><span class="n">backazimuth_errors</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                    <span class="s1">&#39;backazimuth&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">slowness_method_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;slownessMethodID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">onset</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;onset&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">phase_hint</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;phaseHint&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">polarity</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;polarity&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationMode&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">evaluation_status</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationStatus&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">pick</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">pick</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">element</span></div>

<div class="viewcode-block" id="Pickler._nodal_planes"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._nodal_planes.html#obspy.io.quakeml.core.Pickler._nodal_planes">[docs]</a>    <span class="k">def</span> <span class="nf">_nodal_planes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a NodalPlanes into etree.Element object.</span>

<span class="sd">        :type pick: :class:`~obspy.core.event.NodalPlanes`</span>
<span class="sd">        :rtype: etree.Element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">subelement</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;nodalPlanes&#39;</span><span class="p">)</span>
        <span class="c1"># optional</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span><span class="p">:</span>
            <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;nodalPlane1&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span><span class="o">.</span><span class="n">strike</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span><span class="o">.</span><span class="n">strike_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;strike&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span><span class="o">.</span><span class="n">dip</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span><span class="o">.</span><span class="n">dip_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;dip&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span><span class="o">.</span><span class="n">rake</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span><span class="o">.</span><span class="n">rake_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;rake&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_1</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
            <span class="n">subelement</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span><span class="p">:</span>
            <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;nodalPlane2&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span><span class="o">.</span><span class="n">strike</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span><span class="o">.</span><span class="n">strike_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;strike&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span><span class="o">.</span><span class="n">dip</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span><span class="o">.</span><span class="n">dip_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;dip&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span><span class="o">.</span><span class="n">rake</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span><span class="o">.</span><span class="n">rake_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;rake&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">nodal_plane_2</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
            <span class="n">subelement</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">preferred_plane</span><span class="p">:</span>
            <span class="n">subelement</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;preferredPlane&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">preferred_plane</span><span class="p">)</span>
        <span class="c1"># append only if at least one sub-element is set</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">subelement</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subelement</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subelement</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._principal_axes"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._principal_axes.html#obspy.io.quakeml.core.Pickler._principal_axes">[docs]</a>    <span class="k">def</span> <span class="nf">_principal_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a PrincipalAxes into etree.Element object.</span>

<span class="sd">        :type pick: :class:`~obspy.core.event.PrincipalAxes`</span>
<span class="sd">        :rtype: etree.Element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">subelement</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;principalAxes&#39;</span><span class="p">)</span>
        <span class="c1"># tAxis</span>
        <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;tAxis&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">t_axis</span><span class="o">.</span><span class="n">azimuth</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">.</span><span class="n">t_axis</span><span class="o">.</span><span class="n">azimuth_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;azimuth&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">t_axis</span><span class="o">.</span><span class="n">plunge</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">.</span><span class="n">t_axis</span><span class="o">.</span><span class="n">plunge_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;plunge&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">t_axis</span><span class="o">.</span><span class="n">length</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">.</span><span class="n">t_axis</span><span class="o">.</span><span class="n">length_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">t_axis</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
        <span class="n">subelement</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="c1"># pAxis</span>
        <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;pAxis&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">p_axis</span><span class="o">.</span><span class="n">azimuth</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">.</span><span class="n">p_axis</span><span class="o">.</span><span class="n">azimuth_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;azimuth&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">p_axis</span><span class="o">.</span><span class="n">plunge</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">.</span><span class="n">p_axis</span><span class="o">.</span><span class="n">plunge_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;plunge&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">p_axis</span><span class="o">.</span><span class="n">length</span><span class="p">,</span>
                    <span class="n">obj</span><span class="o">.</span><span class="n">p_axis</span><span class="o">.</span><span class="n">length_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">p_axis</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
        <span class="n">subelement</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="c1"># nAxis (optional)</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span><span class="p">:</span>
            <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;nAxis&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span><span class="o">.</span><span class="n">azimuth</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span><span class="o">.</span><span class="n">azimuth_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;azimuth&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span><span class="o">.</span><span class="n">plunge</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span><span class="o">.</span><span class="n">plunge_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;plunge&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span><span class="o">.</span><span class="n">length</span><span class="p">,</span>
                        <span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span><span class="o">.</span><span class="n">length_errors</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">n_axis</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
            <span class="n">subelement</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">subelement</span><span class="p">)</span>
        <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subelement</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._moment_tensor"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._moment_tensor.html#obspy.io.quakeml.core.Pickler._moment_tensor">[docs]</a>    <span class="k">def</span> <span class="nf">_moment_tensor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">moment_tensor</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a MomentTensor into etree.Element object.</span>

<span class="sd">        :type pick: :class:`~obspy.core.event.MomentTensor`</span>
<span class="sd">        :rtype: etree.Element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">moment_tensor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">mt_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span>
            <span class="s1">&#39;momentTensor&#39;</span><span class="p">,</span>
            <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
        <span class="c1"># required parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">derived_origin_id</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;derivedOriginID&#39;</span><span class="p">)</span>
        <span class="c1"># optional parameter</span>
        <span class="c1"># Data Used</span>
        <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">moment_tensor</span><span class="o">.</span><span class="n">data_used</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;dataUsed&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">wave_type</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;waveType&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">station_count</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;stationCount&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">component_count</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;componentCount&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">shortest_period</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;shortestPeriod&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">longest_period</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;longestPeriod&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">)</span>
            <span class="n">mt_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sub_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">moment_magnitude_id</span><span class="p">,</span>
                  <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;momentMagnitudeID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">scalar_moment</span><span class="p">,</span>
                    <span class="n">moment_tensor</span><span class="o">.</span><span class="n">scalar_moment_errors</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;scalarMoment&#39;</span><span class="p">)</span>
        <span class="c1"># Tensor</span>
        <span class="k">if</span> <span class="n">moment_tensor</span><span class="o">.</span><span class="n">tensor</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;tensor&#39;</span><span class="p">)</span>
            <span class="n">sub</span> <span class="o">=</span> <span class="n">moment_tensor</span><span class="o">.</span><span class="n">tensor</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">m_rr</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">m_rr_errors</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mrr&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">m_tt</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">m_tt_errors</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mtt&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">m_pp</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">m_pp_errors</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mpp&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">m_rt</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">m_rt_errors</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mrt&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">m_rp</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">m_rp_errors</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mrp&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">m_tp</span><span class="p">,</span> <span class="n">sub</span><span class="o">.</span><span class="n">m_tp_errors</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;Mtp&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">)</span>
            <span class="n">mt_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sub_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">variance</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;variance&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">variance_reduction</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;varianceReduction&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">double_couple</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;doubleCouple&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">clvd</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;clvd&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">iso</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;iso&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">greens_function_id</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;greensFunctionID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">filter_id</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;filterID&#39;</span><span class="p">)</span>
        <span class="c1"># SourceTimeFunction</span>
        <span class="k">if</span> <span class="n">moment_tensor</span><span class="o">.</span><span class="n">source_time_function</span><span class="p">:</span>
            <span class="n">sub_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;sourceTimeFunction&#39;</span><span class="p">)</span>
            <span class="n">sub</span> <span class="o">=</span> <span class="n">moment_tensor</span><span class="o">.</span><span class="n">source_time_function</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">rise_time</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;riseTime&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">sub</span><span class="o">.</span><span class="n">decay_time</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">,</span> <span class="s1">&#39;decayTime&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">sub</span><span class="p">,</span> <span class="n">sub_el</span><span class="p">)</span>
            <span class="n">mt_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sub_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">method_id</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;methodID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">inversion_type</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">,</span> <span class="s1">&#39;inversionType&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">moment_tensor</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">moment_tensor</span><span class="p">,</span> <span class="n">mt_el</span><span class="p">)</span>
        <span class="n">element</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mt_el</span><span class="p">)</span></div>

<div class="viewcode-block" id="Pickler._focal_mechanism"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._focal_mechanism.html#obspy.io.quakeml.core.Pickler._focal_mechanism">[docs]</a>    <span class="k">def</span> <span class="nf">_focal_mechanism</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">focal_mechanism</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a FocalMechanism into etree.Element object.</span>

<span class="sd">        :type pick: :class:`~obspy.core.event.FocalMechanism`</span>
<span class="sd">        :rtype: etree.Element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span>
            <span class="s1">&#39;focalMechanism&#39;</span><span class="p">,</span>
            <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
        <span class="c1"># optional parameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_waveform_ids</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">waveform_id</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">triggering_origin_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                  <span class="s1">&#39;triggeringOriginID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">azimuthal_gap</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                  <span class="s1">&#39;azimuthalGap&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">station_polarity_count</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                  <span class="s1">&#39;stationPolarityCount&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">misfit</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;misfit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">station_distribution_ratio</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                  <span class="s1">&#39;stationDistributionRatio&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">focal_mechanism</span><span class="o">.</span><span class="n">nodal_planes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_nodal_planes</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">nodal_planes</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">focal_mechanism</span><span class="o">.</span><span class="n">principal_axes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_principal_axes</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">principal_axes</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">method_id</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;methodID&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_moment_tensor</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">moment_tensor</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">evaluation_mode</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="s1">&#39;evaluationMode&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">evaluation_status</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span>
                  <span class="s1">&#39;evaluationStatus&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">element</span></div>

<div class="viewcode-block" id="Pickler._serialize"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core.Pickler._serialize.html#obspy.io.quakeml.core.Pickler._serialize">[docs]</a>    <span class="k">def</span> <span class="nf">_serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">catalog</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a Catalog object into XML string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">catalog_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;eventParameters&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">catalog</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
        <span class="c1"># optional catalog parameters</span>
        <span class="k">if</span> <span class="n">catalog</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">catalog</span><span class="o">.</span><span class="n">description</span><span class="p">,</span> <span class="n">catalog_el</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">catalog</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">catalog_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">catalog</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">catalog_el</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">catalog</span><span class="p">:</span>
            <span class="c1"># create event node</span>
            <span class="n">event_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span>
                <span class="s1">&#39;event&#39;</span><span class="p">,</span> <span class="n">attrib</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;publicID&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)})</span>
            <span class="c1"># optional event attributes</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="s2">&quot;preferred_origin_id&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_origin_id</span><span class="p">,</span> <span class="n">event_el</span><span class="p">,</span>
                          <span class="s1">&#39;preferredOriginID&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="s2">&quot;preferred_magnitude_id&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_magnitude_id</span><span class="p">,</span> <span class="n">event_el</span><span class="p">,</span>
                          <span class="s1">&#39;preferredMagnitudeID&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="s2">&quot;preferred_focal_mechanism_id&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">preferred_focal_mechanism_id</span><span class="p">,</span> <span class="n">event_el</span><span class="p">,</span>
                          <span class="s1">&#39;preferredFocalMechanismID&#39;</span><span class="p">)</span>
            <span class="c1"># event type and event type certainty also are optional attributes.</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="s2">&quot;event_type&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">event_type</span><span class="p">,</span> <span class="n">event_el</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="s2">&quot;event_type_certainty&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">event_type_certainty</span><span class="p">,</span> <span class="n">event_el</span><span class="p">,</span>
                          <span class="s1">&#39;typeCertainty&#39;</span><span class="p">)</span>
            <span class="c1"># event descriptions</span>
            <span class="k">for</span> <span class="n">description</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">event_descriptions</span><span class="p">:</span>
                <span class="n">el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">description</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_str</span><span class="p">(</span><span class="n">description</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
                <span class="n">event_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_comments</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">event_el</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_creation_info</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">creation_info</span><span class="p">,</span> <span class="n">event_el</span><span class="p">)</span>
            <span class="c1"># origins</span>
            <span class="k">for</span> <span class="n">origin</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">origins</span><span class="p">:</span>
                <span class="n">event_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_origin</span><span class="p">(</span><span class="n">origin</span><span class="p">))</span>
            <span class="c1"># magnitudes</span>
            <span class="k">for</span> <span class="n">magnitude</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">magnitudes</span><span class="p">:</span>
                <span class="n">event_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_magnitude</span><span class="p">(</span><span class="n">magnitude</span><span class="p">))</span>
            <span class="c1"># station magnitudes</span>
            <span class="k">for</span> <span class="n">magnitude</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">station_magnitudes</span><span class="p">:</span>
                <span class="n">event_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_station_magnitude</span><span class="p">(</span><span class="n">magnitude</span><span class="p">))</span>
            <span class="c1"># picks</span>
            <span class="k">for</span> <span class="n">pick</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">picks</span><span class="p">:</span>
                <span class="n">event_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pick</span><span class="p">(</span><span class="n">pick</span><span class="p">))</span>
            <span class="c1"># amplitudes</span>
            <span class="k">for</span> <span class="n">amp</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">amplitudes</span><span class="p">:</span>
                <span class="n">event_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_amplitude</span><span class="p">(</span><span class="n">amp</span><span class="p">))</span>
            <span class="c1"># focal mechanisms</span>
            <span class="k">for</span> <span class="n">focal_mechanism</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">focal_mechanisms</span><span class="p">:</span>
                <span class="n">event_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_focal_mechanism</span><span class="p">(</span><span class="n">focal_mechanism</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">event_el</span><span class="p">)</span>
            <span class="c1"># add event node to catalog</span>
            <span class="n">catalog_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event_el</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra</span><span class="p">(</span><span class="n">catalog</span><span class="p">,</span> <span class="n">catalog_el</span><span class="p">)</span>
        <span class="n">nsmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_namespace_map</span><span class="p">()</span>
        <span class="n">root_el</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s1">&#39;{</span><span class="si">%s</span><span class="s1">}quakeml&#39;</span> <span class="o">%</span> <span class="n">NSMAP_QUAKEML</span><span class="p">[</span><span class="s1">&#39;q&#39;</span><span class="p">],</span>
                                <span class="n">nsmap</span><span class="o">=</span><span class="n">nsmap</span><span class="p">)</span>
        <span class="n">root_el</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">catalog_el</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">root_el</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="n">pretty_print</span><span class="p">,</span>
                              <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">xml_declaration</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="_read_quakeml"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core._read_quakeml.html#obspy.io.quakeml.core._read_quakeml">[docs]</a><span class="k">def</span> <span class="nf">_read_quakeml</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads a QuakeML file and returns an ObsPy Catalog object.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This function should NOT be called directly, it registers via the</span>
<span class="sd">        ObsPy :func:`~obspy.core.event.read_events` function, call this</span>
<span class="sd">        instead.</span>

<span class="sd">    :type filename: str</span>
<span class="sd">    :param filename: QuakeML file to be read.</span>
<span class="sd">    :rtype: :class:`~obspy.core.event.Catalog`</span>
<span class="sd">    :return: An ObsPy Catalog object.</span>

<span class="sd">    .. rubric:: Example</span>

<span class="sd">    &gt;&gt;&gt; from obspy.core.event import read_events</span>
<span class="sd">    &gt;&gt;&gt; cat = read_events(&#39;/path/to/iris_events.xml&#39;)</span>
<span class="sd">    &gt;&gt;&gt; print(cat)</span>
<span class="sd">    2 Event(s) in Catalog:</span>
<span class="sd">    2011-03-11T05:46:24.120000Z | +38.297, +142.373 | 9.1 MW</span>
<span class="sd">    2006-09-10T04:26:33.610000Z |  +9.614, +121.961 | 9.8 MS</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Unpickler</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></div>


<div class="viewcode-block" id="_write_quakeml"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core._write_quakeml.html#obspy.io.quakeml.core._write_quakeml">[docs]</a><span class="k">def</span> <span class="nf">_write_quakeml</span><span class="p">(</span><span class="n">catalog</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">nsmap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># @UnusedVariable</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Writes a QuakeML file.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This function should NOT be called directly, it registers via the</span>
<span class="sd">        the :meth:`~obspy.core.event.Catalog.write` method of an</span>
<span class="sd">        ObsPy :class:`~obspy.core.event.Catalog` object, call this instead.</span>

<span class="sd">    :type catalog: :class:`~obspy.core.stream.Catalog`</span>
<span class="sd">    :param catalog: The ObsPy Catalog object to write.</span>
<span class="sd">    :type filename: str or file</span>
<span class="sd">    :param filename: Filename to write or open file-like object.</span>
<span class="sd">    :type validate: bool, optional</span>
<span class="sd">    :param validate: If True, the final QuakeML file will be validated against</span>
<span class="sd">        the QuakeML schema file. Raises an AssertionError if the validation</span>
<span class="sd">        fails.</span>
<span class="sd">    :type nsmap: dict, optional</span>
<span class="sd">    :param nsmap: Additional custom namespace abbreviation mappings</span>
<span class="sd">        (e.g. `{&quot;edb&quot;: &quot;http://erdbeben-in-bayern.de/xmlns/0.1&quot;}`).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">nsmap_</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">catalog</span><span class="p">,</span> <span class="s2">&quot;nsmap&quot;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="k">if</span> <span class="n">nsmap</span><span class="p">:</span>
        <span class="n">nsmap_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">nsmap</span><span class="p">)</span>
    <span class="n">xml_doc</span> <span class="o">=</span> <span class="n">Pickler</span><span class="p">(</span><span class="n">nsmap</span><span class="o">=</span><span class="n">nsmap_</span><span class="p">)</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">catalog</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">validate</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">_validate</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">xml_doc</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span>
            <span class="s2">&quot;The final QuakeML file did not pass validation.&quot;</span><span class="p">)</span>

    <span class="c1"># Open filehandler or use an existing file like object.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;write&quot;</span><span class="p">):</span>
        <span class="n">file_opened</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">file_opened</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">fh</span> <span class="o">=</span> <span class="n">filename</span>

    <span class="n">fh</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">xml_doc</span><span class="p">)</span>

    <span class="c1"># Close if a file has been opened by this function.</span>
    <span class="k">if</span> <span class="n">file_opened</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>


<div class="viewcode-block" id="_read_seishub_event_xml"><a class="viewcode-back" href="../../../../packages/autogen/obspy.io.quakeml.core._read_seishub_event_xml.html#obspy.io.quakeml.core._read_seishub_event_xml">[docs]</a><span class="k">def</span> <span class="nf">_read_seishub_event_xml</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads a single SeisHub event XML file and returns an ObsPy Catalog object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># XXX: very ugly way to add new root tags without parsing</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span>
                 <span class="sa">b</span><span class="s1">&#39;&lt;quakeml xmlns=&quot;http://quakeml.org/xmlns/quakeml/1.0&quot;&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">lines</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;  &lt;eventParameters&gt;&#39;</span><span class="p">)</span>
    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;  &lt;/eventParameters&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;&lt;/quakeml&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">_read_quakeml</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="n">xml_file</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validates a QuakeML file against the QuakeML 1.2 RelaxNG Schema. Returns</span>
<span class="sd">    either True or False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">lxml.etree</span> <span class="k">import</span> <span class="n">RelaxNG</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Could not validate QuakeML - try using a newer lxml version&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="c1"># Get the schema location.</span>
    <span class="n">schema_location</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">()))</span>
    <span class="n">schema_location</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">schema_location</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;QuakeML-1.2.rng&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">relaxng</span> <span class="o">=</span> <span class="n">RelaxNG</span><span class="p">(</span><span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">schema_location</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Could not validate QuakeML - try using a newer lxml version&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="n">xmldoc</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">xml_file</span><span class="p">)</span>

    <span class="n">valid</span> <span class="o">=</span> <span class="n">relaxng</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">xmldoc</span><span class="p">)</span>

    <span class="c1"># Pretty error printing if the validation fails.</span>
    <span class="k">if</span> <span class="n">verbose</span> <span class="ow">and</span> <span class="n">valid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">True</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error validating QuakeML file:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">relaxng</span><span class="o">.</span><span class="n">error_log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">entry</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">valid</span>


<span class="c1"># Remove once 0.11 has been released.</span>
<span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="vm">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">DynamicAttributeImportRerouteModule</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="vm">__doc__</span><span class="p">,</span> <span class="n">locs</span><span class="o">=</span><span class="nb">locals</span><span class="p">(),</span>
    <span class="n">original_module</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="vm">__name__</span><span class="p">],</span>
    <span class="n">import_map</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">function_map</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;isQuakeML&#39;</span><span class="p">:</span> <span class="s1">&#39;obspy.io.quakeml.core._is_quakeml&#39;</span><span class="p">,</span>
        <span class="s1">&#39;readQuakeML&#39;</span><span class="p">:</span> <span class="s1">&#39;obspy.io.quakeml.core._read_quakeml&#39;</span><span class="p">,</span>
        <span class="s1">&#39;readSeisHubEventXML&#39;</span><span class="p">:</span> <span class="s1">&#39;obspy.io.quakeml.core._read_seishub_event_xml&#39;</span><span class="p">,</span>
        <span class="s1">&#39;writeQuakeML&#39;</span><span class="p">:</span> <span class="s1">&#39;obspy.io.quakeml.core._write_quakeml&#39;</span><span class="p">})</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">exclude_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>

<footer>
<p class="text-muted small">
By the <a href="https://github.com/orgs/obspy/people">ObsPy
Development Team</a> and many <a href="#contributers" role="button"
data-toggle="modal" data-target="#contributers">Awesome Contributors</a> &nbsp;|&nbsp; Built with
<a href="http://getbootstrap.com/">Bootstrap</a> and
<a href="http://glyphicons.com//">Glyphicons</a> &nbsp;|&nbsp; Copyright 2008-2016
</p>
</footer>
<div id="contributers" class="modal fade" tabindex="-1"
role="dialog" aria-labelledby="contributersLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal"
aria-hidden="true">&times;</button>
<h3 class="modal-title" id="contributersLabel">Thank you!</h3>
</div>
<div class="modal-body">
<p>We would like to thank our contributors, whose efforts make
this software what it is. These people have helped by writing code
and documentation, and by testing. They have created and
maintained this product, its associated libraries and
applications, our build tools and our web sites.</p>
<h4>Contributors</h4>
<div class="container-fluid">
<div class="row">
<div class="col-md-6">
<ul>
<li>Ammon, Charles J.</li>
<li>Arnarsson, lafur St.</li>
<li>Barsch, Robert</li>
<li>Bernardi, Fabrizio</li>
<li>Beyreuther, Moritz</li>
<li>Carothers, Lloyd</li>
<li>Egdorf, Sven</li>
<li>Ermert, Laura</li>
<li>Fabbri, Tommaso</li>
<li>Grunberg, Marc</li>
<li>Heimann, Sebastian</li>
<li>Hope, Gaute</li>
<li>Inza, Adolfo</li>
<li>Ketchum, David</li>
<li>Kremers, Simon</li>
<li>Krieger, Lars</li>
<li>Kufl, Paul</li>
<li>Lecocq, Thomas</li>
<li>Lesage, Philippe</li>
<li>Lopes, Rui L.</li>
<li>Maggi, Alessia</li>
<li>Megies, Tobias</li>
<li>Michelini, Alberto</li>
<li>Morgenstern, Bernhard</li>
<li>Panning, Mark P.</li>
<li>Reyes, Celso</li>
<li>Rothenhusler, Nicolas</li>
<li>Sales de Andrade, Elliott</li>
<li>Saul, Joachim</li>
<li>Sippl, Christian</li>
<li>Stange, Stefan</li>
<li>Trabant, Chad</li>
<li>Walker, Andrew</li>
<li>Wassermann, Joachim</li>
<li>Winkelman, Andrew</li>
<li>van Driel, Martin</li>
</ul>
</div>
<div class="col-md-6">
<ul>
<li>Antunes, Emanuel</li>
<li>Bank, Markus</li>
<li>Behr, Yannik</li>
<li>Bernauer, Felix</li>
<li>Bonaim, Sbastien</li>
<li>Danecek, Peter</li>
<li>Engels, Fabian</li>
<li>Eulenfeld, Tom</li>
<li>Grellier, Clment</li>
<li>Hammer, Conny</li>
<li>Heiniger, Lukas</li>
<li>Igel, Heiner</li>
<li>Isken, Marius</li>
<li>Koymans, Mathijs</li>
<li>Kress, Victor</li>
<li>Krischer, Lion</li>
<li>Khler, Andreas</li>
<li>Leeman, John</li>
<li>Lomax, Anthony</li>
<li>MacCarthy, Jonathan</li>
<li>Martin, Henri</li>
<li>Meschede, Matthias</li>
<li>Miller, Nathaniel C.</li>
<li>Nof, Ran Novitsky</li>
<li>Rapagnani, Giovanni</li>
<li>Ringler, Adam</li>
<li>Russo, Emiliano</li>
<li>Satriano, Claudio</li>
<li>Scheingraber, Chris</li>
<li>Snoke, Arthur</li>
<li>Sullivan, Benjamin</li>
<li>Uieda, Leonardo</li>
<li>Walther, Marcus</li>
<li>Williams, Mark C.</li>
<li>Zad, Seyed Kasra Hosseini</li>
</ul>
</div>
</div>
</div>
<h4>Funds</h4>
<p>ObsPy was partially funded by the</p>
<ul>
<li>German Science Foundation (DFG) via grant DFG IG 16/9-1</li>
<li>German Ministry for Education and Research (BMBF), GEOTECHNOLOGIEN grant 03G0646H.</li>
<li>NERA project (Network of European Research Infrastructures for Earthquake Risk Assessment and Mitigation) under the European Community&#39;s Seventh Framework Programme (FP7/2007-2013) grant agreement n 262330</li>
<li>Leibniz Institute for Applied Geophysics (LIAG)</li>
<li>VERCE EU-FP7 project (no. 283543)</li>
</ul>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>

</div>


  </body>
</html>