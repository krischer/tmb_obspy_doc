<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>obspy.clients.seishub.client &#8212; ObsPy Documentation (1.0.3)</title>
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/font.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/base.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript">
  var shiftWindow = function() { scrollBy(0, -70) };
  if (location.hash) shiftWindow();
  window.addEventListener("hashchange", shiftWindow);
</script>

  </head>
  <body>
<div id="wrapper">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">
<button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a href="/" class="navbar-brand" title="Home"><span class="icon-obspy"></span>&nbsp;ObsPy</a>
</div>
<div class="navbar-collapse collapse">
<form class="navbar-form navbar-right" role="search" method="get" action="search.html">
<div class="form-group">
<input type="text" class="form-control" placeholder="Search Docs" name="q">
</div>
</form>
<ul class="nav navbar-nav navbar-right">
<li><a href="https://github.com/obspy/obspy/" title="GitHub"><span class="icon-github iconx2"></span><span class="hidden-sm">&nbsp;GitHub</span></a></li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Documentation"><span class="glyphicon glyphicon-book iconx2"></span><span class="hidden-sm">&nbsp;Documentation</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Getting&nbsp;Started</li>
<li><a href="https://github.com/obspy/obspy/wiki#installation">Installation</a></li>
<li><a href="https://tutorial.obspy.org/">Tutorial</a></li>
<li><a href="http://gallery.obspy.org/">Gallery</a></li>
<li><a href="https://docs.obspy.org/">API&nbsp;Documentation&nbsp;(latest&nbsp;release)</a></li>
<li><a href="https://docs.obspy.org/master/">API&nbsp;Documentation&nbsp;(current&nbsp;master)</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Mailing&nbsp;Lists"><span class="glyphicon glyphicon-envelope iconx2"></span><span class="hidden-sm">&nbsp;Mailing&nbsp;Lists</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-header">Announcements&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-announcements"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-announcements/"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archive</a></li>
<li class="divider"></li>
<li class="dropdown-header">Users&nbsp;Mailing&nbsp;List&nbsp;(public)</li>
<li><a href="http://lists.swapbytes.de/mailman/listinfo/obspy-users"><span class="glyphicon glyphicon-user"></span>&nbsp;Subscribe</a></li>
<li><a href="http://lists.swapbytes.de/archives/obspy-users"><span class="glyphicon glyphicon-inbox"></span>&nbsp;Archives</a></li>
<li><a href="mailto:users@obspy.org"><span class="glyphicon glyphicon-envelope"></span>&nbsp;Post&nbsp;a&nbsp;message</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Developer&nbsp;Resources"><span class="glyphicon glyphicon-cog iconx2"></span><span class="hidden-sm">&nbsp;Developer&nbsp;Resources</span>&nbsp;<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="https://gitter.im/obspy/obspy">Gitter</a></li>
<li><a href="https://github.com/obspy/obspy/blob/master/.github/CONTRIBUTING.md">How&nbsp;to&nbsp;contribute</a></li>
<li><a href="http://docs.obspy.org/coding_style.html">Coding&nbsp;Style&nbsp;Guide</a></li>
<li><a href="https://github.com/obspy/obspy/releases/">All&nbsp;Releases</a></li>
<li class="divider"></li>
<li class="dropdown-header">Code&nbsp;Analysis</li>
<li><a href="http://docs.obspy.org/master/pep8/index.html">PEP8</a></li>
<li><a href="http://docs.obspy.org/master/coverage/index.html">Python&nbsp;Coverage</a></li>
<li><a href="http://docs.obspy.org/master/c_coverage/index.html">C&nbsp;Coverage</a></li>
<li><a href="https://coveralls.io/r/obspy/obspy?branch=master">Coveralls</a></li>
<li class="divider"></li>
<li class="dropdown-header">Continuous&nbsp;Integration</li>
<li><a href="http://tests.obspy.org/">Test&nbsp;Reports</a></li>
<li><a href="https://travis-ci.org/obspy/obspy/"><span class="icon-travis"></span>&nbsp;Travis&nbsp;CI</a></li>
<li><a href="https://ci.appveyor.com/project/obspy/obspy"><span class="icon-appveyor"></span>&nbsp;AppVeyor</a></li>
</ul>
</li>
</ul>
</div>
</div>
</nav>

<div id="content" class="container">
  
    <div class="breadcrumb pull-right"><a href="../../../../genindex.html" title="General Index"
         accesskey="I">index</a><span style="color: #ccc; padding: 0 5px;">| </span><a href="../../../../py-modindex.html" title="Python Module Index"
         >modules</a>
    </div>
    <ol class="breadcrumb">
        <li><a href="../../../../contents.html">ObsPy Documentation (1.0.3)</a></li>
        <li><a href="../../../index.html" accesskey="U">Module code</a></li> 
    </ol>
  
  <h1>Source code for obspy.clients.seishub.client</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">SeisHub database client for ObsPy.</span>

<span class="sd">:copyright:</span>
<span class="sd">    The ObsPy Development Team (devs@obspy.org)</span>
<span class="sd">:license:</span>
<span class="sd">    GNU Lesser General Public License, Version 3</span>
<span class="sd">    (https://www.gnu.org/copyleft/lesser.html)</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="p">(</span><span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span>
                        <span class="n">unicode_literals</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">future.builtins</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="kn">from</span> <span class="nn">future.utils</span> <span class="k">import</span> <span class="n">PY2</span><span class="p">,</span> <span class="n">native_str</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="n">log</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">urllib</span> <span class="k">import</span> <span class="n">urlencode</span>
    <span class="kn">import</span> <span class="nn">urllib2</span> <span class="k">as</span> <span class="nn">urllib_request</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="k">import</span> <span class="n">urlencode</span>
    <span class="kn">import</span> <span class="nn">urllib.request</span> <span class="k">as</span> <span class="nn">urllib_request</span>

<span class="kn">from</span> <span class="nn">lxml</span> <span class="k">import</span> <span class="n">objectify</span>
<span class="kn">from</span> <span class="nn">lxml.etree</span> <span class="k">import</span> <span class="n">Element</span><span class="p">,</span> <span class="n">SubElement</span><span class="p">,</span> <span class="n">tostring</span>

<span class="kn">from</span> <span class="nn">obspy</span> <span class="k">import</span> <span class="n">Catalog</span><span class="p">,</span> <span class="n">UTCDateTime</span><span class="p">,</span> <span class="n">read_events</span>
<span class="kn">from</span> <span class="nn">obspy.core.util</span> <span class="k">import</span> <span class="n">guess_delta</span>
<span class="kn">from</span> <span class="nn">obspy.core.util.decorator</span> <span class="k">import</span> <span class="n">deprecated</span><span class="p">,</span> <span class="n">deprecated_keywords</span>
<span class="kn">from</span> <span class="nn">obspy.io.xseed</span> <span class="k">import</span> <span class="n">Parser</span>


<span class="n">HTTP_ACCEPTED_DATA_METHODS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">]</span>
<span class="n">HTTP_ACCEPTED_NODATA_METHODS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;HEAD&quot;</span><span class="p">,</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;DELETE&quot;</span><span class="p">]</span>
<span class="n">HTTP_ACCEPTED_METHODS</span> <span class="o">=</span> <span class="n">HTTP_ACCEPTED_DATA_METHODS</span> <span class="o">+</span> \
    <span class="n">HTTP_ACCEPTED_NODATA_METHODS</span>


<span class="n">KEYWORDS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;network&#39;</span><span class="p">:</span> <span class="s1">&#39;network_id&#39;</span><span class="p">,</span> <span class="s1">&#39;station&#39;</span><span class="p">:</span> <span class="s1">&#39;station_id&#39;</span><span class="p">,</span>
            <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="s1">&#39;location_id&#39;</span><span class="p">,</span> <span class="s1">&#39;channel&#39;</span><span class="p">:</span> <span class="s1">&#39;channel_id&#39;</span><span class="p">,</span>
            <span class="s1">&#39;starttime&#39;</span><span class="p">:</span> <span class="s1">&#39;start_datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;endtime&#39;</span><span class="p">:</span> <span class="s1">&#39;end_datetime&#39;</span><span class="p">}</span>


<div class="viewcode-block" id="_unpickle"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._unpickle.html#obspy.clients.seishub.client._unpickle">[docs]</a><span class="k">def</span> <span class="nf">_unpickle</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">PY2</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># https://api.mongodb.org/python/current/\</span>
        <span class="c1"># python3.html#why-can-t-i-share-pickled-objectids-\</span>
        <span class="c1"># between-some-versions-of-python-2-and-3</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin-1&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span></div>


<span class="k">def</span> <span class="nf">_objectify_result_to_dicts</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :type root: :class:`lxml.objectify.ObjectifiedElement`</span>
<span class="sd">    :param root: Root node of result set returned by</span>
<span class="sd">        :func:`lxml.objectify.fromstring`.</span>
<span class="sd">    :rtype: list of dict</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">getchildren</span><span class="p">():</span>
        <span class="n">result_</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># resource_name field should never be automatically cast to</span>
            <span class="c1"># potentially matching python type but always remain plain string</span>
            <span class="c1"># type. Otherwise a resource name of e.g. &#39;24330&#39; will be typecast</span>
            <span class="c1"># to an integer which can results in problems later on.</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;resource_name&#39;</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">text</span>
            <span class="c1"># otherwise just rely on autodetection of appropriate python type</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">pyval</span>
            <span class="n">result_</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result_</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<div class="viewcode-block" id="Client"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client.Client.html#obspy.clients.seishub.client.Client">[docs]</a><span class="k">class</span> <span class="nc">Client</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SeisHub database request Client class.</span>

<span class="sd">    The following classes are automatically linked with initialization.</span>
<span class="sd">    Follow the links in &quot;Linked Class&quot; for more information. They register</span>
<span class="sd">    via the name listed in &quot;Entry Point&quot;.</span>

<span class="sd">    ===================  ============================================================</span>
<span class="sd">    Entry Point          Linked Class</span>
<span class="sd">    ===================  ============================================================</span>
<span class="sd">    ``Client.waveform``  :class:`~obspy.clients.seishub.client._WaveformMapperClient`</span>
<span class="sd">    ``Client.station``   :class:`~obspy.clients.seishub.client._StationMapperClient`</span>
<span class="sd">    ``Client.event``     :class:`~obspy.clients.seishub.client._EventMapperClient`</span>
<span class="sd">    ===================  ============================================================</span>

<span class="sd">    .. rubric:: Example</span>

<span class="sd">    &gt;&gt;&gt; from obspy.clients.seishub import Client</span>
<span class="sd">    &gt;&gt;&gt;</span>
<span class="sd">    &gt;&gt;&gt; t = UTCDateTime(&quot;2009-09-03 00:00:00&quot;)</span>
<span class="sd">    &gt;&gt;&gt; client = Client(timeout=20)</span>
<span class="sd">    &gt;&gt;&gt;</span>
<span class="sd">    &gt;&gt;&gt; st = client.waveform.get_waveforms(&quot;BW&quot;, &quot;RTBE&quot;, &quot;&quot;, &quot;EHZ&quot;, t, t + 20)</span>
<span class="sd">    &gt;&gt;&gt; print(st)  # doctest: +ELLIPSIS</span>
<span class="sd">    1 Trace(s) in Stream:</span>
<span class="sd">    BW.RTBE..EHZ | 2009-09-03T00:00:00.000000Z - ... | 200.0 Hz, 4001 samples</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa</span>
<div class="viewcode-block" id="Client.__init__"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client.Client.__init__.html#obspy.clients.seishub.client.Client.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;http://teide.geophysik.uni-muenchen.de:8080&quot;</span><span class="p">,</span>
                 <span class="n">user</span><span class="o">=</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the SeisHub Web service client.</span>

<span class="sd">        :type base_url: str, optional</span>
<span class="sd">        :param base_url: SeisHub connection string. Defaults to</span>
<span class="sd">            &#39;http://teide.geophysik.uni-muenchen.de:8080&#39;.</span>
<span class="sd">        :type user: str, optional</span>
<span class="sd">        :param user: The user name used for identification with the Web</span>
<span class="sd">            service. Defaults to ``&#39;admin&#39;``.</span>
<span class="sd">        :type password: str, optional</span>
<span class="sd">        :param password: A password used for authentication with the Web</span>
<span class="sd">            service. Defaults to ``&#39;admin&#39;``.</span>
<span class="sd">        :type timeout: int, optional</span>
<span class="sd">        :param timeout: Seconds before a connection timeout is raised (default</span>
<span class="sd">            is 10 seconds).</span>
<span class="sd">        :type debug: bool, optional</span>
<span class="sd">        :param debug: Enables verbose output.</span>
<span class="sd">        :type retries: int</span>
<span class="sd">        :param retries: Number of retries for failing requests.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="n">base_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">waveform</span> <span class="o">=</span> <span class="n">_WaveformMapperClient</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">station</span> <span class="o">=</span> <span class="n">_StationMapperClient</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">event</span> <span class="o">=</span> <span class="n">_EventMapperClient</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">=</span> <span class="n">retries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xml_seeds</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">station_list</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># Create an OpenerDirector for Basic HTTP Authentication</span>
        <span class="n">password_mgr</span> <span class="o">=</span> <span class="n">urllib_request</span><span class="o">.</span><span class="n">HTTPPasswordMgrWithDefaultRealm</span><span class="p">()</span>
        <span class="n">password_mgr</span><span class="o">.</span><span class="n">add_password</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">base_url</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="n">auth_handler</span> <span class="o">=</span> <span class="n">urllib_request</span><span class="o">.</span><span class="n">HTTPBasicAuthHandler</span><span class="p">(</span><span class="n">password_mgr</span><span class="p">)</span>
        <span class="n">opener</span> <span class="o">=</span> <span class="n">urllib_request</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">auth_handler</span><span class="p">)</span>
        <span class="c1"># install globally</span>
        <span class="n">urllib_request</span><span class="o">.</span><span class="n">install_opener</span><span class="p">(</span><span class="n">opener</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client.ping"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client.Client.ping.html#obspy.clients.seishub.client.Client.ping">[docs]</a>    <span class="k">def</span> <span class="nf">ping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ping the SeisHub server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="n">urllib_request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">t1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1000.0</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span>
        <span class="s2">&quot;&#39;testAuth&#39; has been renamed to &quot;</span>  <span class="c1"># noqa</span>
        <span class="s2">&quot;&#39;test_auth&#39;. Use that instead.&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">testAuth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        DEPRECATED: &#39;testAuth&#39; has been renamed to</span>
<span class="sd">        &#39;test_auth&#39;. Use that instead.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_auth</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="Client.test_auth"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client.Client.test_auth.html#obspy.clients.seishub.client.Client.test_auth">[docs]</a>    <span class="k">def</span> <span class="nf">test_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Test if authentication information is valid. Raises an Exception if</span>
<span class="sd">        status code of response is not 200 (OK) or 401 (Forbidden).</span>

<span class="sd">        :rtype: bool</span>
<span class="sd">        :return: ``True`` if OK, ``False`` if invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">_msg</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_http_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="s2">&quot;/xml/&quot;</span><span class="p">,</span>
                                          <span class="n">method</span><span class="o">=</span><span class="s2">&quot;HEAD&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">401</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Unexpected request status code: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">code</span><span class="p">)</span></div>

<div class="viewcode-block" id="Client._fetch"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client.Client._fetch.html#obspy.clients.seishub.client.Client._fetch">[docs]</a>    <span class="k">def</span> <span class="nf">_fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># @UnusedVariable</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># map keywords</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">KEYWORDS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="c1"># check for ranges and empty values</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s1">&#39;min_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">params</span><span class="p">[</span><span class="s1">&#39;max_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s1">&#39;min_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">params</span><span class="p">[</span><span class="s1">&#39;max_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="c1"># replace special characters</span>
        <span class="n">remoteaddr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="n">url</span> <span class="o">+</span> <span class="s1">&#39;?&#39;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Requesting </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">remoteaddr</span><span class="p">))</span>
        <span class="c1"># certain requests randomly fail on rare occasions, retry</span>
        <span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">retries</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">urllib_request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">remoteaddr</span><span class="p">,</span>
                                                  <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">doc</span>
            <span class="c1"># XXX currently there are random problems with SeisHub&#39;s internal</span>
            <span class="c1"># XXX SQL database access (&quot;cannot operate on a closed database&quot;).</span>
            <span class="c1"># XXX this can be circumvented by issuing the same request again..</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">urllib_request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">remoteaddr</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">doc</span></div>

<div class="viewcode-block" id="Client._http_request"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client.Client._http_request.html#obspy.clients.seishub.client.Client._http_request">[docs]</a>    <span class="k">def</span> <span class="nf">_http_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">xml_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send a HTTP request via urllib2.</span>

<span class="sd">        :type url: str</span>
<span class="sd">        :param url: Complete URL of resource</span>
<span class="sd">        :type method: str</span>
<span class="sd">        :param method: HTTP method of request, e.g. &quot;PUT&quot;</span>
<span class="sd">        :type headers: dict</span>
<span class="sd">        :param headers: Header information for request, e.g.</span>
<span class="sd">                {&#39;User-Agent&#39;: &quot;obspyck&quot;}</span>
<span class="sd">        :type xml_string: str</span>
<span class="sd">        :param xml_string: XML for a send request (PUT/POST)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">HTTP_ACCEPTED_METHODS</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Method must be one of </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                             <span class="n">HTTP_ACCEPTED_METHODS</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">HTTP_ACCEPTED_DATA_METHODS</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">xml_string</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Missing data for </span><span class="si">%s</span><span class="s2"> request.&quot;</span> <span class="o">%</span> <span class="n">method</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">HTTP_ACCEPTED_NODATA_METHODS</span> <span class="ow">and</span> <span class="n">xml_string</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Unexpected data for </span><span class="si">%s</span><span class="s2"> request.&quot;</span> <span class="o">%</span> <span class="n">method</span><span class="p">)</span>

        <span class="n">req</span> <span class="o">=</span> <span class="n">_RequestWithMethod</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">xml_string</span><span class="p">,</span>
                                 <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
        <span class="c1"># it seems the following always ends in a HTTPError even with</span>
        <span class="c1"># nice status codes...?!?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">urllib_request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">msg</span>
        <span class="k">except</span> <span class="n">urllib_request</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">e</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">msg</span></div>

<div class="viewcode-block" id="Client._objectify"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client.Client._objectify.html#obspy.clients.seishub.client.Client._objectify">[docs]</a>    <span class="k">def</span> <span class="nf">_objectify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">objectify</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span></div></div>


<span class="k">class</span> <span class="nc">_BaseRESTClient</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getResource&#39; has been renamed to &#39;get_resource&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getResource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resource</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_name</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a resource.</span>

<span class="sd">        :type resource_name: str</span>
<span class="sd">        :param resource_name: Name of the resource.</span>
<span class="sd">        :type format: str, optional</span>
<span class="sd">        :param format: Format string, e.g. ``&#39;xml&#39;`` or ``&#39;map&#39;``.</span>
<span class="sd">        :return: Resource</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/xml/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">package</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">resourcetype</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> \
              <span class="n">resource_name</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_fetch</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getXMLResource&#39; has been renamed to &#39;get_xml_resource&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getXMLResource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_xml_resource</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_xml_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a XML resource.</span>

<span class="sd">        :type resource_name: str</span>
<span class="sd">        :param resource_name: Name of the resource.</span>
<span class="sd">        :return: Resource as :class:`lxml.objectify.ObjectifiedElement`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/xml/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">package</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">resourcetype</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> \
              <span class="n">resource_name</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_objectify</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;putResource&#39; has been renamed to &#39;put_resource&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">putResource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">put_resource</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">put_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_name</span><span class="p">,</span> <span class="n">xml_string</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        PUTs a XML resource.</span>

<span class="sd">        :type resource_name: str</span>
<span class="sd">        :param resource_name: Name of the resource.</span>
<span class="sd">        :type headers: dict</span>
<span class="sd">        :param headers: Header information for request,</span>
<span class="sd">            e.g. ``{&#39;User-Agent&#39;: &quot;obspyck&quot;}``</span>
<span class="sd">        :type xml_string: str</span>
<span class="sd">        :param xml_string: XML for a send request (PUT/POST)</span>
<span class="sd">        :rtype: tuple</span>
<span class="sd">        :return: (HTTP status code, HTTP status message)</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; c = Client()</span>
<span class="sd">        &gt;&gt;&gt; xseed_file = &quot;dataless.seed.BW_UH1.xml&quot;</span>
<span class="sd">        &gt;&gt;&gt; xml_str = open(xseed_file).read()  # doctest: +SKIP</span>
<span class="sd">        &gt;&gt;&gt; c.station.put_resource(xseed_file, xml_str)  # doctest: +SKIP</span>
<span class="sd">        (201, &#39;OK&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">base_url</span><span class="p">,</span> <span class="s1">&#39;xml&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">package</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">resourcetype</span><span class="p">,</span> <span class="n">resource_name</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_http_request</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">xml_string</span><span class="o">=</span><span class="n">xml_string</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;deleteResource&#39; has been renamed to &#39;delete_resource&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">deleteResource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_resource</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_name</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        DELETEs a XML resource.</span>

<span class="sd">        :type resource_name: str</span>
<span class="sd">        :param resource_name: Name of the resource.</span>
<span class="sd">        :type headers: dict</span>
<span class="sd">        :param headers: Header information for request,</span>
<span class="sd">            e.g. ``{&#39;User-Agent&#39;: &quot;obspyck&quot;}``</span>
<span class="sd">        :return: (HTTP status code, HTTP status message)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">base_url</span><span class="p">,</span> <span class="s1">&#39;xml&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">package</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">resourcetype</span><span class="p">,</span> <span class="n">resource_name</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_http_request</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>


<div class="viewcode-block" id="_WaveformMapperClient"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.html#obspy.clients.seishub.client._WaveformMapperClient">[docs]</a><span class="k">class</span> <span class="nc">_WaveformMapperClient</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interface to access the SeisHub Waveform Web service.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This function should NOT be initialized directly, instead access the</span>
<span class="sd">        object via the :attr:`obspy.clients.seishub.Client.waveform` attribute.</span>

<span class="sd">    .. seealso:: https://github.com/barsch/seishub.plugins.seismology/blob/\</span>
<span class="sd">master/seishub/plugins/seismology/waveform.py</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="_WaveformMapperClient.__init__"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.__init__.html#obspy.clients.seishub.client._WaveformMapperClient.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getNetworkIds&#39; has been renamed to &#39;get_network_ids&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getNetworkIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_network_ids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_WaveformMapperClient.get_network_ids"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.get_network_ids.html#obspy.clients.seishub.client._WaveformMapperClient.get_network_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_network_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a list of network ids.</span>

<span class="sd">        :rtype: list</span>
<span class="sd">        :return: List of containing network ids.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/waveform/getNetworkIds&#39;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_objectify</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;network&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">getchildren</span><span class="p">()]</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getStationIds&#39; has been renamed to &#39;get_station_ids&#39;. &quot;</span>
                <span class="s2">&quot;Use that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getStationIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_station_ids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_WaveformMapperClient.get_station_ids"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.get_station_ids.html#obspy.clients.seishub.client._WaveformMapperClient.get_station_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_station_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a list of station ids.</span>

<span class="sd">        :type network: str</span>
<span class="sd">        :param network: Network code, e.g. ``&#39;BW&#39;``.</span>
<span class="sd">        :rtype: list</span>
<span class="sd">        :return: List of containing station ids.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/waveform/getStationIds&#39;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_objectify</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;station&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">getchildren</span><span class="p">()]</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getLocationIds&#39; has been renamed to &#39;get_location_ids&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getLocationIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_location_ids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_WaveformMapperClient.get_location_ids"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.get_location_ids.html#obspy.clients.seishub.client._WaveformMapperClient.get_location_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_location_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a list of location ids.</span>

<span class="sd">        :type network: str</span>
<span class="sd">        :param network: Network code, e.g. ``&#39;BW&#39;``.</span>
<span class="sd">        :type station: str</span>
<span class="sd">        :param station: Station code, e.g. ``&#39;MANZ&#39;``.</span>
<span class="sd">        :rtype: list</span>
<span class="sd">        :return: List of containing location ids.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/waveform/getLocationIds&#39;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_objectify</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">getchildren</span><span class="p">()]</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getChannelIds&#39; has been renamed to &#39;get_channel_ids&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getChannelIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_channel_ids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_WaveformMapperClient.get_channel_ids"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.get_channel_ids.html#obspy.clients.seishub.client._WaveformMapperClient.get_channel_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_channel_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a list of channel ids.</span>

<span class="sd">        :type network: str</span>
<span class="sd">        :param network: Network code, e.g. ``&#39;BW&#39;``.</span>
<span class="sd">        :type station: str</span>
<span class="sd">        :param station: Station code, e.g. ``&#39;MANZ&#39;``.</span>
<span class="sd">        :type location: str</span>
<span class="sd">        :param location: Location code, e.g. ``&#39;00&#39;``.</span>
<span class="sd">        :rtype: list</span>
<span class="sd">        :return: List of containing channel ids.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/waveform/getChannelIds&#39;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_objectify</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">getchildren</span><span class="p">()]</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getLatency&#39; has been renamed to &#39;get_latency&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getLatency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_latency</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_WaveformMapperClient.get_latency"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.get_latency.html#obspy.clients.seishub.client._WaveformMapperClient.get_latency">[docs]</a>    <span class="k">def</span> <span class="nf">get_latency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">channel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a list of network latency values.</span>

<span class="sd">        :type network: str</span>
<span class="sd">        :param network: Network code, e.g. ``&#39;BW&#39;``.</span>
<span class="sd">        :type station: str</span>
<span class="sd">        :param station: Station code, e.g. ``&#39;MANZ&#39;``.</span>
<span class="sd">        :type location: str</span>
<span class="sd">        :param location: Location code, e.g. ``&#39;00&#39;``.</span>
<span class="sd">        :type channel: str</span>
<span class="sd">        :param channel: Channel code, e.g. ``&#39;EHE&#39;``.</span>
<span class="sd">        :rtype: list</span>
<span class="sd">        :return: List of dictionaries containing latency information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/waveform/getLatency&#39;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_objectify</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_objectify_result_to_dicts</span><span class="p">(</span><span class="n">root</span><span class="p">)</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getWaveform&#39; has been renamed to &#39;get_waveforms&#39;. &quot;</span>
                <span class="s2">&quot;Use that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getWaveform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_WaveformMapperClient.get_waveforms"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.get_waveforms.html#obspy.clients.seishub.client._WaveformMapperClient.get_waveforms">[docs]</a>    <span class="nd">@deprecated_keywords</span><span class="p">({</span>
        <span class="s2">&quot;getPAZ&quot;</span><span class="p">:</span> <span class="s2">&quot;get_paz&quot;</span><span class="p">,</span> <span class="s2">&quot;getCoordinates&quot;</span><span class="p">:</span> <span class="s2">&quot;get_coordinates&quot;</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">get_waveforms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">starttime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">endtime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">apply_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">get_paz</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">get_coordinates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                      <span class="n">metadata_timecheck</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a ObsPy Stream object.</span>

<span class="sd">        :type network: str</span>
<span class="sd">        :param network: Network code, e.g. ``&#39;BW&#39;``.</span>
<span class="sd">        :type station: str</span>
<span class="sd">        :param station: Station code, e.g. ``&#39;MANZ&#39;``.</span>
<span class="sd">        :type location: str</span>
<span class="sd">        :param location: Location code, e.g. ``&#39;00&#39;``.</span>
<span class="sd">        :type channel: str</span>
<span class="sd">        :param channel: Channel code, supporting wildcard for component,</span>
<span class="sd">            e.g. ``&#39;EHE&#39;`` or ``&#39;EH*&#39;``.</span>
<span class="sd">        :type starttime: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param starttime: Start date and time.</span>
<span class="sd">        :type endtime: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param endtime: End date and time.</span>
<span class="sd">        :type apply_filter: bool, optional</span>
<span class="sd">        :param apply_filter: Apply filter (default is ``False``).</span>
<span class="sd">        :type get_paz: bool, optional</span>
<span class="sd">        :param get_paz: Fetch PAZ information and append to</span>
<span class="sd">            :class:`~obspy.core.trace.Stats` of all fetched traces. This</span>
<span class="sd">            considerably slows down the request (default is ``False``).</span>
<span class="sd">        :type get_coordinates: bool, optional</span>
<span class="sd">        :param get_coordinates: Fetch coordinate information and append to</span>
<span class="sd">            :class:`~obspy.core.trace.Stats` of all fetched traces. This</span>
<span class="sd">            considerably slows down the request (default is ``False``).</span>
<span class="sd">        :type metadata_timecheck: bool, optional</span>
<span class="sd">        :param metadata_timecheck: For ``get_paz`` and ``get_coordinates``</span>
<span class="sd">            check if metadata information is changing from start to end</span>
<span class="sd">            time. Raises an Exception if this is the case. This can be</span>
<span class="sd">            deactivated to save time.</span>
<span class="sd">        :rtype: :class:`~obspy.core.stream.Stream`</span>
<span class="sd">        :return: A ObsPy Stream object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="c1"># append all args to kwargs, thus having everything in one dictionary</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="c1"># allow time strings in arguments</span>
        <span class="k">for</span> <span class="n">time_</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;starttime&quot;</span><span class="p">,</span> <span class="s2">&quot;endtime&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="n">time_</span><span class="p">],</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">native_str</span><span class="p">)):</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">time_</span><span class="p">]</span> <span class="o">=</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="n">time_</span><span class="p">])</span>

        <span class="n">trim_start</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;starttime&#39;</span><span class="p">]</span>
        <span class="n">trim_end</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;endtime&#39;</span><span class="p">]</span>
        <span class="c1"># we expand the requested time span on both ends by two samples in</span>
        <span class="c1"># order to be able to make use of the nearest_sample option of</span>
        <span class="c1"># stream.trim(). (see trim() and tickets #95 and #105)</span>
        <span class="c1"># only possible if a channel is specified otherwise delta = 0</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">guess_delta</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;channel&#39;</span><span class="p">])</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;starttime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trim_start</span> <span class="o">-</span> <span class="n">delta</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;endtime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trim_end</span> <span class="o">+</span> <span class="n">delta</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/waveform/getWaveform&#39;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_fetch</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No waveform data available&quot;</span><span class="p">)</span>
        <span class="c1"># unpickle</span>
        <span class="n">stream</span> <span class="o">=</span> <span class="n">_unpickle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No waveform data available&quot;</span><span class="p">)</span>
        <span class="n">stream</span><span class="o">.</span><span class="n">_cleanup</span><span class="p">()</span>

        <span class="c1"># trimming needs to be done only if we extend the datetime above</span>
        <span class="k">if</span> <span class="n">channel</span><span class="p">:</span>
            <span class="n">stream</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">trim_start</span><span class="p">,</span> <span class="n">trim_end</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">get_paz</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">tr</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
                <span class="n">paz</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get_paz</span><span class="p">(</span><span class="n">seed_id</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                                                  <span class="n">datetime</span><span class="o">=</span><span class="n">starttime</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">metadata_timecheck</span><span class="p">:</span>
                    <span class="n">paz_check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get_paz</span><span class="p">(</span><span class="n">seed_id</span><span class="o">=</span><span class="n">tr</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                                                            <span class="n">datetime</span><span class="o">=</span><span class="n">endtime</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">paz</span> <span class="o">!=</span> <span class="n">paz_check</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;PAZ information changing from start time to&quot;</span> <span class="o">+</span> \
                              <span class="s2">&quot; end time.&quot;</span>
                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paz</span>

        <span class="k">if</span> <span class="n">get_coordinates</span><span class="p">:</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get_coordinates</span><span class="p">(</span>
                <span class="n">network</span><span class="o">=</span><span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="n">station</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">,</span>
                <span class="n">datetime</span><span class="o">=</span><span class="n">starttime</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">metadata_timecheck</span><span class="p">:</span>
                <span class="n">coords_check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get_coordinates</span><span class="p">(</span>
                    <span class="n">network</span><span class="o">=</span><span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="n">station</span><span class="p">,</span>
                    <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">,</span> <span class="n">datetime</span><span class="o">=</span><span class="n">endtime</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">coords</span> <span class="o">!=</span> <span class="n">coords_check</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Coordinate information changing from start &quot;</span> <span class="o">+</span> \
                          <span class="s2">&quot;time to end time.&quot;</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">tr</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
                <span class="n">tr</span><span class="o">.</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coords</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">stream</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getPreview&#39; has been renamed to &#39;get_previews&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getPreview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_previews</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_WaveformMapperClient.get_previews"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.get_previews.html#obspy.clients.seishub.client._WaveformMapperClient.get_previews">[docs]</a>    <span class="k">def</span> <span class="nf">get_previews</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                     <span class="n">starttime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">endtime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">trace_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a preview of a ObsPy Stream object.</span>

<span class="sd">        :type network: str</span>
<span class="sd">        :param network: Network code, e.g. ``&#39;BW&#39;``.</span>
<span class="sd">        :type station: str</span>
<span class="sd">        :param station: Station code, e.g. ``&#39;MANZ&#39;``.</span>
<span class="sd">        :type location: str</span>
<span class="sd">        :param location: Location code, e.g. ``&#39;00&#39;``.</span>
<span class="sd">        :type channel: str</span>
<span class="sd">        :param channel: Channel code, supporting wildcard for component,</span>
<span class="sd">            e.g. ``&#39;EHE&#39;`` or ``&#39;EH*&#39;``.</span>
<span class="sd">        :type starttime: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param starttime: Start date and time.</span>
<span class="sd">        :type endtime: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param endtime: End date and time.</span>
<span class="sd">        :rtype: :class:`~obspy.core.stream.Stream`</span>
<span class="sd">        :return: Waveform preview as ObsPy Stream object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/waveform/getPreview&#39;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_fetch</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No waveform data available&quot;</span><span class="p">)</span>
        <span class="c1"># unpickle</span>
        <span class="n">stream</span> <span class="o">=</span> <span class="n">_unpickle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stream</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getPreviewByIds&#39; has been renamed to &#39;get_previews_by_ids&#39;. &quot;</span>
                <span class="s2">&quot;Use that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getPreviewByIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_previews_by_ids</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_WaveformMapperClient.get_previews_by_ids"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._WaveformMapperClient.get_previews_by_ids.html#obspy.clients.seishub.client._WaveformMapperClient.get_previews_by_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_previews_by_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trace_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">starttime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">endtime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a preview of a ObsPy Stream object.</span>

<span class="sd">        :type trace_ids: list</span>
<span class="sd">        :param trace_ids: List of trace IDs, e.g. ``[&#39;BW.MANZ..EHE&#39;]``.</span>
<span class="sd">        :type starttime: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param starttime: Start date and time.</span>
<span class="sd">        :type endtime: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param endtime: End date and time.</span>
<span class="sd">        :rtype: :class:`~obspy.core.stream.Stream`</span>
<span class="sd">        :return: Waveform preview as ObsPy Stream object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="c1"># concatenate list of IDs into string</span>
        <span class="k">if</span> <span class="s1">&#39;trace_ids&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;trace_ids&#39;</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;trace_ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;trace_ids&#39;</span><span class="p">])</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/waveform/getPreview&#39;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_fetch</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No waveform data available&quot;</span><span class="p">)</span>
        <span class="c1"># unpickle</span>
        <span class="n">stream</span> <span class="o">=</span> <span class="n">_unpickle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stream</span></div></div>


<div class="viewcode-block" id="_StationMapperClient"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._StationMapperClient.html#obspy.clients.seishub.client._StationMapperClient">[docs]</a><span class="k">class</span> <span class="nc">_StationMapperClient</span><span class="p">(</span><span class="n">_BaseRESTClient</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interface to access the SeisHub Station Web service.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This function should NOT be initialized directly, instead access the</span>
<span class="sd">        object via the :attr:`obspy.clients.seishub.Client.station` attribute.</span>

<span class="sd">    .. seealso:: https://github.com/barsch/seishub.plugins.seismology/blob/\</span>
<span class="sd">master/seishub/plugins/seismology/waveform.py</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">package</span> <span class="o">=</span> <span class="s1">&#39;seismology&#39;</span>
    <span class="n">resourcetype</span> <span class="o">=</span> <span class="s1">&#39;station&#39;</span>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getList&#39; has been renamed to &#39;get_list&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_StationMapperClient.get_list"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._StationMapperClient.get_list.html#obspy.clients.seishub.client._StationMapperClient.get_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a list of station information.</span>

<span class="sd">        :type network: str</span>
<span class="sd">        :param network: Network code, e.g. ``&#39;BW&#39;``.</span>
<span class="sd">        :type station: str</span>
<span class="sd">        :param station: Station code, e.g. ``&#39;MANZ&#39;``.</span>
<span class="sd">        :rtype: list</span>
<span class="sd">        :return: List of dictionaries containing station information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/station/getList&#39;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_objectify</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_objectify_result_to_dicts</span><span class="p">(</span><span class="n">root</span><span class="p">)</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getCoordinates&#39; has been renamed to &#39;get_coordinates&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getCoordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_coordinates</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_StationMapperClient.get_coordinates"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._StationMapperClient.get_coordinates.html#obspy.clients.seishub.client._StationMapperClient.get_coordinates">[docs]</a>    <span class="k">def</span> <span class="nf">get_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get coordinate information.</span>

<span class="sd">        Returns a dictionary with coordinate information for specified station</span>
<span class="sd">        at the specified time.</span>

<span class="sd">        :type network: str</span>
<span class="sd">        :param network: Network code, e.g. ``&#39;BW&#39;``.</span>
<span class="sd">        :type station: str</span>
<span class="sd">        :param station: Station code, e.g. ``&#39;MANZ&#39;``.</span>
<span class="sd">        :type datetime: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param datetime: Time for which the PAZ is requested,</span>
<span class="sd">            e.g. ``&#39;2010-01-01 12:00:00&#39;``.</span>
<span class="sd">        :type location: str</span>
<span class="sd">        :param location: Location code, e.g. ``&#39;00&#39;``.</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        :return: Dictionary containing station coordinate information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># no **kwargs so use empty dict</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="c1"># try to read coordinates from previously obtained station lists</span>
        <span class="n">netsta</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">station_list</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">netsta</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="c1"># check if starttime is present and fitting</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;start_datetime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">datetime</span> <span class="o">&lt;</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;start_datetime&#39;</span><span class="p">]):</span>
                <span class="k">continue</span>
            <span class="c1"># check if end time is present and fitting</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;end_datetime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">datetime</span> <span class="o">&gt;</span> <span class="n">UTCDateTime</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;end_datetime&#39;</span><span class="p">]):</span>
                <span class="k">continue</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">]:</span>
                <span class="n">coords</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">coords</span>

        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">metadata</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No coordinates for station </span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2"> at </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> \
                <span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">stalist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">station_list</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">netsta</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">data</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
                <span class="n">stalist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Received more than one metadata set. Using first.&quot;</span><span class="p">)</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">]:</span>
            <span class="n">coords</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">coords</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getPAZ&#39; has been renamed to &#39;get_paz&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getPAZ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_paz</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_StationMapperClient.get_paz"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._StationMapperClient.get_paz.html#obspy.clients.seishub.client._StationMapperClient.get_paz">[docs]</a>    <span class="k">def</span> <span class="nf">get_paz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seed_id</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get PAZ for a station at given time span. Gain is the A0 normalization</span>
<span class="sd">        constant for the poles and zeros.</span>

<span class="sd">        :type seed_id: str</span>
<span class="sd">        :param seed_id: SEED or channel id, e.g. ``&quot;BW.RJOB..EHZ&quot;`` or</span>
<span class="sd">            ``&quot;EHE&quot;``.</span>
<span class="sd">        :type datetime: :class:`~obspy.core.utcdatetime.UTCDateTime`</span>
<span class="sd">        :param datetime: Time for which the PAZ is requested,</span>
<span class="sd">            e.g. ``&#39;2010-01-01 12:00:00&#39;``.</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        :return: Dictionary containing zeros, poles, gain and sensitivity.</span>

<span class="sd">        .. rubric:: Example</span>

<span class="sd">        &gt;&gt;&gt; c = Client(timeout=20)</span>
<span class="sd">        &gt;&gt;&gt; paz = c.station.get_paz(&#39;BW.MANZ..EHZ&#39;, &#39;20090707&#39;)</span>
<span class="sd">        &gt;&gt;&gt; paz[&#39;zeros&#39;]</span>
<span class="sd">        [0j, 0j]</span>
<span class="sd">        &gt;&gt;&gt; len(paz[&#39;poles&#39;])</span>
<span class="sd">        5</span>
<span class="sd">        &gt;&gt;&gt; print(paz[&#39;poles&#39;][0])</span>
<span class="sd">        (-0.037004+0.037016j)</span>
<span class="sd">        &gt;&gt;&gt; paz[&#39;gain&#39;]</span>
<span class="sd">        60077000.0</span>
<span class="sd">        &gt;&gt;&gt; paz[&#39;sensitivity&#39;]</span>
<span class="sd">        2516800000.0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># try to read PAZ from previously obtained XSEED data</span>
        <span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">xml_seeds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">seed_id</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="n">parser</span> <span class="o">=</span> <span class="n">Parser</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">paz</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">get_paz</span><span class="p">(</span><span class="n">seed_id</span><span class="o">=</span><span class="n">seed_id</span><span class="p">,</span>
                                     <span class="n">datetime</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="n">datetime</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">paz</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">seed_id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="c1"># request station information</span>
        <span class="n">station_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">network</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="n">station</span><span class="p">,</span>
                                     <span class="n">datetime</span><span class="o">=</span><span class="n">datetime</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">station_list</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="c1"># don&#39;t allow wild cards</span>
        <span class="k">for</span> <span class="n">wildcard</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">wildcard</span> <span class="ow">in</span> <span class="n">seed_id</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Wildcards in seed_id are not allowed.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">station_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Received more than one XSEED file. Using first.&quot;</span><span class="p">)</span>

        <span class="n">xml_doc</span> <span class="o">=</span> <span class="n">station_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get_resource</span><span class="p">(</span><span class="n">xml_doc</span><span class="p">[</span><span class="s1">&#39;resource_name&#39;</span><span class="p">])</span>
        <span class="n">reslist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">xml_seeds</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">seed_id</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">if</span> <span class="n">res</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">reslist</span><span class="p">:</span>
            <span class="n">reslist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">Parser</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
        <span class="n">paz</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">get_paz</span><span class="p">(</span><span class="n">seed_id</span><span class="o">=</span><span class="n">seed_id</span><span class="p">,</span> <span class="n">datetime</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="n">datetime</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">paz</span></div></div>


<div class="viewcode-block" id="_EventMapperClient"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._EventMapperClient.html#obspy.clients.seishub.client._EventMapperClient">[docs]</a><span class="k">class</span> <span class="nc">_EventMapperClient</span><span class="p">(</span><span class="n">_BaseRESTClient</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interface to access the SeisHub Event Web service.</span>

<span class="sd">    .. warning::</span>
<span class="sd">        This function should NOT be initialized directly, instead access the</span>
<span class="sd">        object via the :attr:`obspy.clients.seishub.Client.event` attribute.</span>

<span class="sd">    .. seealso:: https://github.com/barsch/seishub.plugins.seismology/blob/\</span>
<span class="sd">master/seishub/plugins/seismology/event.py</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">package</span> <span class="o">=</span> <span class="s1">&#39;seismology&#39;</span>
    <span class="n">resourcetype</span> <span class="o">=</span> <span class="s1">&#39;event&#39;</span>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getList&#39; has been renamed to &#39;get_list&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_EventMapperClient.get_list"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._EventMapperClient.get_list.html#obspy.clients.seishub.client._EventMapperClient.get_list">[docs]</a>    <span class="nd">@deprecated_keywords</span><span class="p">({</span>
        <span class="s2">&quot;first_pick&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;last_pick&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">})</span>
    <span class="k">def</span> <span class="nf">get_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">localisation_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">author</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_datetime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_datetime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">min_first_pick</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_first_pick</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_last_pick</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">max_last_pick</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_latitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_latitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">min_longitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_longitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">min_magnitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_magnitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_depth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">max_depth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">used_p</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_used_p</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_used_p</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">used_s</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_used_s</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_used_s</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">document_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a list of event information.</span>

<span class="sd">        ..note:</span>
<span class="sd">            For SeisHub versions &lt; 1.4 available keys include &quot;user&quot; and</span>
<span class="sd">            &quot;account&quot;. In newer SeisHub versions they are replaced by &quot;author&quot;.</span>

<span class="sd">        :rtype: list</span>
<span class="sd">        :return: List of dictionaries containing event information.</span>

<span class="sd">        The number of resulting events is by default limited to 50 entries from</span>
<span class="sd">        a SeisHub server. You may raise this by setting the ``limit`` option to</span>
<span class="sd">        a maximal value of 2500. Numbers above 2500 will result into an</span>
<span class="sd">        exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check limit</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">&gt;</span> <span class="mi">2500</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Maximal allowed limit is 2500 entries.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1"># NOTHING goes ABOVE this line!</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">]:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/seismology/event/getList&#39;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">_objectify</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">_objectify_result_to_dicts</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="ow">or</span> \
           <span class="n">limit</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">50</span> <span class="ow">or</span> \
           <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2500</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;List of results might be incomplete due to option &#39;limit&#39;.&quot;</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">results</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getEvents&#39; has been renamed to &#39;get_events&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getEvents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_events</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_EventMapperClient.get_events"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._EventMapperClient.get_events.html#obspy.clients.seishub.client._EventMapperClient.get_events">[docs]</a>    <span class="k">def</span> <span class="nf">get_events</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetches a catalog with event information. Parameters to narrow down</span>
<span class="sd">        the request are the same as for :meth:`get_list`.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            Only works when connecting to a SeisHub server of version 1.4.0</span>
<span class="sd">            or higher (serving event data as QuakeML).</span>

<span class="sd">        :rtype: :class:`~obspy.core.event.Catalog`</span>
<span class="sd">        :returns: Catalog containing event information matching the request.</span>

<span class="sd">        The number of resulting events is by default limited to 50 entries from</span>
<span class="sd">        a SeisHub server. You may raise this by setting the ``limit`` option to</span>
<span class="sd">        a maximal value of 2500. Numbers above 2500 will result into an</span>
<span class="sd">        exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resource_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;resource_name&quot;</span><span class="p">]</span>
                          <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)]</span>
        <span class="n">cat</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">resource_name</span> <span class="ow">in</span> <span class="n">resource_names</span><span class="p">:</span>
            <span class="n">cat</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">read_events</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_resource</span><span class="p">(</span><span class="n">resource_name</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">cat</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;getKML&#39; has been renamed to &#39;get_kml&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">getKML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_kml</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_EventMapperClient.get_kml"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._EventMapperClient.get_kml.html#obspy.clients.seishub.client._EventMapperClient.get_kml">[docs]</a>    <span class="k">def</span> <span class="nf">get_kml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nolabels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Posts an event.get_list() and returns the results as a KML file. For</span>
<span class="sd">        optional arguments, see documentation of</span>
<span class="sd">        :meth:`~obspy.clients.seishub.client._EventMapperClient.get_list()`</span>

<span class="sd">        :type nolabels: bool</span>
<span class="sd">        :param nolabels: Hide labels of events in KML. Can be useful with large</span>
<span class="sd">            data sets.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        :return: String containing KML information of all matching events. This</span>
<span class="sd">            string can be written to a file and loaded into e.g. Google Earth.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>

        <span class="c1"># construct the KML file</span>
        <span class="n">kml</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;kml&quot;</span><span class="p">)</span>
        <span class="n">kml</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;xmlns&quot;</span><span class="p">,</span> <span class="s2">&quot;http://www.opengis.net/kml/2.2&quot;</span><span class="p">)</span>

        <span class="n">document</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">kml</span><span class="p">,</span> <span class="s2">&quot;Document&quot;</span><span class="p">)</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;SeisHub Event Locations&quot;</span>

        <span class="c1"># style definitions for earthquakes</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s2">&quot;Style&quot;</span><span class="p">)</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;earthquake&quot;</span><span class="p">)</span>

        <span class="n">iconstyle</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="s2">&quot;IconStyle&quot;</span><span class="p">)</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">iconstyle</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;0.5&quot;</span>
        <span class="n">icon</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">iconstyle</span><span class="p">,</span> <span class="s2">&quot;Icon&quot;</span><span class="p">)</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">icon</span><span class="p">,</span> <span class="s2">&quot;href&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> \
            <span class="s2">&quot;https://maps.google.com/mapfiles/kml/shapes/earthquake.png&quot;</span>
        <span class="n">hotspot</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">iconstyle</span><span class="p">,</span> <span class="s2">&quot;hotSpot&quot;</span><span class="p">)</span>
        <span class="n">hotspot</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;0.5&quot;</span><span class="p">)</span>
        <span class="n">hotspot</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">)</span>
        <span class="n">hotspot</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;xunits&quot;</span><span class="p">,</span> <span class="s2">&quot;fraction&quot;</span><span class="p">)</span>
        <span class="n">hotspot</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;yunits&quot;</span><span class="p">,</span> <span class="s2">&quot;fraction&quot;</span><span class="p">)</span>

        <span class="n">labelstyle</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="s2">&quot;LabelStyle&quot;</span><span class="p">)</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">labelstyle</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;ff0000ff&quot;</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">labelstyle</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;0.8&quot;</span>

        <span class="n">folder</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s2">&quot;Folder&quot;</span><span class="p">)</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;SeisHub Events (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> \
                                          <span class="n">timestamp</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s2">&quot;open&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

        <span class="c1"># additional descriptions for the folder</span>
        <span class="n">descrip_str</span> <span class="o">=</span> <span class="s2">&quot;Fetched from: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">base_url</span>
        <span class="n">descrip_str</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Fetched at: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">timestamp</span>
        <span class="n">descrip_str</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Search options:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">descrip_str</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;=&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)))</span>
                                  <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">descrip_str</span>

        <span class="n">style</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s2">&quot;Style&quot;</span><span class="p">)</span>
        <span class="n">liststyle</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="s2">&quot;ListStyle&quot;</span><span class="p">)</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">liststyle</span><span class="p">,</span> <span class="s2">&quot;listItemType&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;check&quot;</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">liststyle</span><span class="p">,</span> <span class="s2">&quot;bgColor&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;00ffffff&quot;</span>
        <span class="n">SubElement</span><span class="p">(</span><span class="n">liststyle</span><span class="p">,</span> <span class="s2">&quot;maxSnippetLines&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;5&quot;</span>

        <span class="c1"># add one marker per event</span>
        <span class="n">interesting_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;resource_name&#39;</span><span class="p">,</span> <span class="s1">&#39;localisation_method&#39;</span><span class="p">,</span> <span class="s1">&#39;account&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;public&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="s1">&#39;magnitude&#39;</span><span class="p">,</span> <span class="s1">&#39;used_p&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;used_s&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">event_dict</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
            <span class="n">placemark</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s2">&quot;Placemark&quot;</span><span class="p">)</span>
            <span class="n">date</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">event_dict</span><span class="p">[</span><span class="s1">&#39;datetime&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">mag</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">event_dict</span><span class="p">[</span><span class="s1">&#39;magnitude&#39;</span><span class="p">])</span>

            <span class="c1"># scale marker size to magnitude if this information is present</span>
            <span class="k">if</span> <span class="n">mag</span><span class="p">:</span>
                <span class="n">mag</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">mag</span><span class="p">)</span>
                <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%.1f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">mag</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">icon_size</span> <span class="o">=</span> <span class="mf">1.2</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="mf">1.5</span> <span class="o">+</span> <span class="n">mag</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="n">icon_size</span> <span class="o">=</span> <span class="mf">0.1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">date</span>
                <span class="n">icon_size</span> <span class="o">=</span> <span class="mf">0.5</span>
            <span class="k">if</span> <span class="n">nolabels</span><span class="p">:</span>
                <span class="n">SubElement</span><span class="p">(</span><span class="n">placemark</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">SubElement</span><span class="p">(</span><span class="n">placemark</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">label</span>
            <span class="n">SubElement</span><span class="p">(</span><span class="n">placemark</span><span class="p">,</span> <span class="s2">&quot;styleUrl&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;#earthquake&quot;</span>
            <span class="n">style</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">placemark</span><span class="p">,</span> <span class="s2">&quot;Style&quot;</span><span class="p">)</span>
            <span class="n">icon_style</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="s2">&quot;IconStyle&quot;</span><span class="p">)</span>
            <span class="n">liststyle</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="s2">&quot;ListStyle&quot;</span><span class="p">)</span>
            <span class="n">SubElement</span><span class="p">(</span><span class="n">liststyle</span><span class="p">,</span> <span class="s2">&quot;maxSnippetLines&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;5&quot;</span>
            <span class="n">SubElement</span><span class="p">(</span><span class="n">icon_style</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">icon_size</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event_dict</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">event_dict</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]:</span>
                <span class="n">point</span> <span class="o">=</span> <span class="n">SubElement</span><span class="p">(</span><span class="n">placemark</span><span class="p">,</span> <span class="s2">&quot;Point&quot;</span><span class="p">)</span>
                <span class="n">SubElement</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%.10f</span><span class="s2">,</span><span class="si">%.10f</span><span class="s2">,0&quot;</span> <span class="o">%</span> \
                    <span class="p">(</span><span class="n">event_dict</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">],</span> <span class="n">event_dict</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">])</span>

            <span class="c1"># detailed information on the event for the description</span>
            <span class="n">descrip_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">interesting_keys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">event_dict</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">descrip_str</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">event_dict</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
            <span class="n">SubElement</span><span class="p">(</span><span class="n">placemark</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">descrip_str</span>

        <span class="c1"># generate and return KML string</span>
        <span class="k">return</span> <span class="n">tostring</span><span class="p">(</span><span class="n">kml</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xml_declaration</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;&#39;saveKML&#39; has been renamed to &#39;save_kml&#39;. Use &quot;</span>
                <span class="s2">&quot;that instead.&quot;</span><span class="p">)</span>  <span class="c1"># noqa</span>
    <span class="k">def</span> <span class="nf">saveKML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_kml</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="_EventMapperClient.save_kml"><a class="viewcode-back" href="../../../../packages/autogen/obspy.clients.seishub.client._EventMapperClient.save_kml.html#obspy.clients.seishub.client._EventMapperClient.save_kml">[docs]</a>    <span class="k">def</span> <span class="nf">save_kml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Posts an event.get_list() and writes the results as a KML file. For</span>
<span class="sd">        optional arguments, see help for</span>
<span class="sd">        :meth:`~obspy.clients.seishub.client._EventMapperClient.get_list()` and</span>
<span class="sd">        :meth:`~obspy.clients.seishub.client._EventMapperClient.get_kml()`</span>

<span class="sd">        :type filename: str</span>
<span class="sd">        :param filename: Filename (complete path) to save KML to.</span>
<span class="sd">        :type overwrite: bool</span>
<span class="sd">        :param overwrite: Overwrite existing file, otherwise if file exists an</span>
<span class="sd">            Exception is raised.</span>
<span class="sd">        :type nolabels: bool</span>
<span class="sd">        :param nolabels: Hide labels of events in KML. Can be useful with large</span>
<span class="sd">            data sets.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        :return: String containing KML information of all matching events. This</span>
<span class="sd">            string can be written to a file and loaded into e.g. Google Earth.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">lexists</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;File </span><span class="si">%s</span><span class="s2"> exists and overwrite=False.&quot;</span> <span class="o">%</span> <span class="n">filename</span><span class="p">)</span>
        <span class="n">kml_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_kml</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">kml_string</span><span class="p">)</span>
        <span class="k">return</span></div></div>


<span class="k">class</span> <span class="nc">_RequestWithMethod</span><span class="p">(</span><span class="n">urllib_request</span><span class="o">.</span><span class="n">Request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Improved urllib2.Request Class for which the HTTP Method can be set to</span>
<span class="sd">    values other than only GET and POST.</span>
<span class="sd">    See http://benjamin.smedbergs.us/blog/2008-10-21/\</span>
<span class="sd">    putting-and-deleteing-in-python-urllib2/</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">HTTP_ACCEPTED_METHODS</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;HTTP Method not supported. &quot;</span> <span class="o">+</span> \
                  <span class="s2">&quot;Supported are: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">HTTP_ACCEPTED_METHODS</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">urllib_request</span><span class="o">.</span><span class="n">Request</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">=</span> <span class="n">method</span>

    <span class="k">def</span> <span class="nf">get_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">exclude_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>

<footer>
<p class="text-muted small">
By the <a href="https://github.com/orgs/obspy/people">ObsPy
Development Team</a> and many <a href="#contributers" role="button"
data-toggle="modal" data-target="#contributers">Awesome Contributors</a>™ &nbsp;|&nbsp; Built with
<a href="http://getbootstrap.com/">Bootstrap</a> and
<a href="http://glyphicons.com//">Glyphicons</a> &nbsp;|&nbsp; Copyright 2008-2016
</p>
</footer>
<div id="contributers" class="modal fade" tabindex="-1"
role="dialog" aria-labelledby="contributersLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal"
aria-hidden="true">&times;</button>
<h3 class="modal-title" id="contributersLabel">Thank you!</h3>
</div>
<div class="modal-body">
<p>We would like to thank our contributors, whose efforts make
this software what it is. These people have helped by writing code
and documentation, and by testing. They have created and
maintained this product, its associated libraries and
applications, our build tools and our web sites.</p>
<h4>Contributors</h4>
<div class="container-fluid">
<div class="row">
<div class="col-md-6">
<ul>
<li>Ammon, Charles J.</li>
<li>Arnarsson, Ólafur St.</li>
<li>Barsch, Robert</li>
<li>Bernardi, Fabrizio</li>
<li>Beyreuther, Moritz</li>
<li>Carothers, Lloyd</li>
<li>Egdorf, Sven</li>
<li>Ermert, Laura</li>
<li>Fabbri, Tommaso</li>
<li>Grunberg, Marc</li>
<li>Heimann, Sebastian</li>
<li>Hope, Gaute</li>
<li>Inza, Adolfo</li>
<li>Ketchum, David</li>
<li>Kremers, Simon</li>
<li>Krieger, Lars</li>
<li>Käufl, Paul</li>
<li>Lecocq, Thomas</li>
<li>Lesage, Philippe</li>
<li>Lopes, Rui L.</li>
<li>Maggi, Alessia</li>
<li>Megies, Tobias</li>
<li>Michelini, Alberto</li>
<li>Morgenstern, Bernhard</li>
<li>Panning, Mark P.</li>
<li>Reyes, Celso</li>
<li>Rothenhäusler, Nicolas</li>
<li>Sales de Andrade, Elliott</li>
<li>Saul, Joachim</li>
<li>Sippl, Christian</li>
<li>Stange, Stefan</li>
<li>Trabant, Chad</li>
<li>Walker, Andrew</li>
<li>Wassermann, Joachim</li>
<li>Winkelman, Andrew</li>
<li>van Driel, Martin</li>
</ul>
</div>
<div class="col-md-6">
<ul>
<li>Antunes, Emanuel</li>
<li>Bank, Markus</li>
<li>Behr, Yannik</li>
<li>Bernauer, Felix</li>
<li>Bonaimé, Sébastien</li>
<li>Danecek, Peter</li>
<li>Engels, Fabian</li>
<li>Eulenfeld, Tom</li>
<li>Grellier, Clément</li>
<li>Hammer, Conny</li>
<li>Heiniger, Lukas</li>
<li>Igel, Heiner</li>
<li>Isken, Marius</li>
<li>Koymans, Mathijs</li>
<li>Kress, Victor</li>
<li>Krischer, Lion</li>
<li>Köhler, Andreas</li>
<li>Leeman, John</li>
<li>Lomax, Anthony</li>
<li>MacCarthy, Jonathan</li>
<li>Martin, Henri</li>
<li>Meschede, Matthias</li>
<li>Miller, Nathaniel C.</li>
<li>Nof, Ran Novitsky</li>
<li>Rapagnani, Giovanni</li>
<li>Ringler, Adam</li>
<li>Russo, Emiliano</li>
<li>Satriano, Claudio</li>
<li>Scheingraber, Chris</li>
<li>Snoke, Arthur</li>
<li>Sullivan, Benjamin</li>
<li>Uieda, Leonardo</li>
<li>Walther, Marcus</li>
<li>Williams, Mark C.</li>
<li>Zad, Seyed Kasra Hosseini</li>
</ul>
</div>
</div>
</div>
<h4>Funds</h4>
<p>ObsPy was partially funded by the</p>
<ul>
<li>German Science Foundation (DFG) via grant DFG IG 16/9-1</li>
<li>German Ministry for Education and Research (BMBF), GEOTECHNOLOGIEN grant 03G0646H.</li>
<li>NERA project (Network of European Research Infrastructures for Earthquake Risk Assessment and Mitigation) under the European Community&#39;s Seventh Framework Programme (FP7/2007-2013) grant agreement n° 262330</li>
<li>Leibniz Institute for Applied Geophysics (LIAG)</li>
<li>VERCE EU-FP7 project (no. 283543)</li>
</ul>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>

</div>


  </body>
</html>